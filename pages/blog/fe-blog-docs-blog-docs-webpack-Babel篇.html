<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="referrer" content="no-referrer">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Babelç¯‡ - FrontendHub</title>
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="../../css/content.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="content-page">
    <!-- å¯¼èˆªæ  -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand">
                <a href="../../index.html" style="color: inherit; text-decoration: none; display: flex; align-items: center; gap: 0.5rem;">
                    <i class="fas fa-code"></i>
                    <span>FrontendHub</span>
                </a>
            </div>
            <button class="nav-toggle" id="navToggle">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <ul class="nav-menu" id="navMenu">
                <li><a href="../../index.html">é¦–é¡µ</a></li>
                <li><a href="../index.html#features">ç‰¹è‰²</a></li>
                <li><a href="../index.html#courses">è¯¾ç¨‹</a></li>
                <li><a href="../index.html#resources">èµ„æº</a></li>
            </ul>
        </div>
    </nav>

    <!-- é¢åŒ…å±‘å¯¼èˆª -->
    <div class="breadcrumb">
        <div class="container">
            <a href="../../index.html"><i class="fas fa-home"></i> é¦–é¡µ</a>
            <i class="fas fa-chevron-right"></i>
            <span>Babelç¯‡</span>
        </div>
    </div>

    <!-- ä¸»è¦å†…å®¹åŒº -->
    <main class="content-main">
        <div class="container">
            <div class="content-layout">
                <!-- ä¾§è¾¹æ ç›®å½• -->
                <aside class="sidebar">
                    <div class="sidebar-sticky">
                        <h3><i class="fas fa-list"></i> ç›®å½•</h3>
                        <nav class="toc" id="toc">
                            <!-- ç›®å½•å°†é€šè¿‡JavaScriptè‡ªåŠ¨ç”Ÿæˆ -->
                        </nav>
                    </div>
                </aside>

                <!-- æ–‡ç« å†…å®¹ -->
                <article class="article">
                    <header class="article-header">
                        <h1>Babelç¯‡</h1>
                        <div class="article-meta">
                            <span><i class="far fa-calendar"></i> æ›´æ–°æ—¶é—´ï¼š2025-12-23</span>
                            <span><i class="far fa-clock"></i> é˜…è¯»æ—¶é•¿ï¼šçº¦ 15 åˆ†é’Ÿ</span>
                        </div>
                    </header>

                    <div class="article-content">
<div class="content__default"><h3 id="å‰æœŸå‡†å¤‡"><a href="#å‰æœŸå‡†å¤‡" class="header-anchor">#</a> å‰æœŸå‡†å¤‡</h3> <p>å­¦ä¹ ä¸€ä¸ªæ–°çš„çŸ¥è¯†, æˆ‘è¿˜æ˜¯åå‘äºç”¨æ¡ˆä¾‹çš„çš„æ–¹å¼æ¥æ‰“å¼€è®²è§£å®ƒ.</p> <p>æ‰€ä»¥åœ¨æ­£å¼å¼€å§‹é˜…è¯»ä¹‹å‰, è®©æˆ‘ä»¬å…ˆæ¥å‡†å¤‡ä¸€ä¸ªè¿™æ ·çš„æ¡ˆä¾‹é¡¹ç›®:</p> <div class="language- extra-class"><pre class="language-text"><code>mkdir babel-basic &amp;&amp; cd babel-basic
npm init -y
mkdir src &amp;&amp; cd src
touch index.js
</code></pre></div><p>ä¸€é¡¿æ“ä½œä¹‹å, æˆ‘ä»¬æ–°å»ºçš„é¡¹ç›®ç›®å½•ä¸º:</p> <div class="language- extra-class"><pre class="language-text"><code>/babel-basic
	|- /src
		|- index.js
	|- package.json
</code></pre></div><p>ç°åœ¨<code>package.json</code>æ˜¯æœ€åŸå§‹çš„é…ç½®, è€Œ<code>index.js</code>æš‚æ—¶æ²¡æœ‰å†™å†…å®¹.</p> <p><strong>package.json</strong>:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"babel-basic"</span><span class="token punctuation">,</span>
  <span class="token property">"version"</span><span class="token operator">:</span> <span class="token string">"1.0.0"</span><span class="token punctuation">,</span>
  <span class="token property">"description"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
  <span class="token property">"main"</span><span class="token operator">:</span> <span class="token string">"index.js"</span><span class="token punctuation">,</span>
  <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"test"</span><span class="token operator">:</span> <span class="token string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"keywords"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">"author"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
  <span class="token property">"license"</span><span class="token operator">:</span> <span class="token string">"ISC"</span><span class="token punctuation">,</span>
  <span class="token property">"devDependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p>ä¸‹é¢æˆ‘éƒ½å°†å›´ç»•è¿™ä¸ª<code>babel-basic</code>é¡¹ç›®æ¥è¿›è¡Œè®²è§£, æˆ‘å¸Œæœ›ä½ ä¹Ÿèƒ½åœ¨æœ¬åœ°å‡†å¤‡ä¸€ä¸ªè¿™æ ·çš„é¡¹ç›®æ¡ˆä¾‹, ä»¥ä¾¿ä½ æ›´å¥½çš„ç†è§£æˆ‘æ¥ä¸‹æ¥è¦è¯´çš„å†…å®¹.</p> <h3 id="babel-core"><a href="#babel-core" class="header-anchor">#</a> @babel/core</h3> <p>æˆ‘ä»¬å­¦ä¹ Babel, é¦–å…ˆè¦äº†è§£ä¸€ä¸ªå«<code>@babel/core</code> çš„ä¸œè¥¿, å®ƒæ˜¯Babelçš„æ ¸å¿ƒæ¨¡å—.</p> <p>å½“ç„¶è¦ä½¿ç”¨å®ƒ, æˆ‘ä»¬å¾—å…ˆå®‰è£…:</p> <div class="language- extra-class"><pre class="language-text"><code>$ npm i --save-dev @babel/core
</code></pre></div><p>å®‰è£…æˆåŠŸä¹‹åå°±å¯ä»¥åœ¨æˆ‘ä»¬çš„ä»£ç ä¸­ä½¿ç”¨äº†, ä½ å¯ä»¥é‡‡ç”¨<code>CommonJS</code>çš„å¼•ç”¨æ–¹å¼:</p> <div class="language- extra-class"><pre class="language-text"><code>const babel = require('@babel/core');
babel.transform("code", options);
</code></pre></div><p>è¿™é‡Œçš„çŸ¥è¯†ç‚¹æœ‰å¾ˆå¤š, ä¸è¿‡ä½ ä¸ç”¨æ€¥äºçš„æŒæ¡å®ƒ, åªéœ€è¦çŸ¥é“å®ƒæ˜¯Babelçš„æ ¸å¿ƒ, è®©æˆ‘ä»¬æ¥ç€å¾€ä¸‹çœ‹.</p> <h3 id="babel-cli"><a href="#babel-cli" class="header-anchor">#</a> @babel/cli</h3> <p>å†ç„¶åå°±æ˜¯<code>@babel/cli</code>, å®ƒæ˜¯ä¸€ä¸ªç»ˆç«¯è¿è¡Œå·¥å…·, å†…ç½®çš„æ’ä»¶,è¿è¡Œä½ ä»ç»ˆç«¯ä½¿ç”¨babelçš„å·¥å…·.</p> <p>åŒæ ·, å®ƒä¹Ÿéœ€è¦å…ˆå®‰è£…:</p> <div class="language- extra-class"><pre class="language-text"><code>$ npm i --save-dev @babel/cli @babel/core
</code></pre></div><p>è®©æˆ‘ä»¬å®‰è£…<code>@babel/cli</code>çš„åŒæ—¶å†æ¥å®‰è£…ä¸€ä¸‹<code>@babel/core</code>,</p> <p>ç°åœ¨, è®©æˆ‘å…ˆåœ¨<code>src/index.js</code>ä¸­å†™ä¸Šä¸€æ®µç®€å•çš„ä»£ç , å¹¶æ¥çœ‹çœ‹å®ƒçš„åŸºæœ¬ç”¨æ³•.</p> <p><strong>src/index.js</strong>:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// ç®­å¤´å‡½æ•°, è¿”å›å€¼ä¸º1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>ç”¨æ³•ä¸€</strong>: å‘½ä»¤è¡Œçš„å½¢å¼(åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œè¯­å¥):</p> <div class="language- extra-class"><pre class="language-text"><code>$ ./node_modules/.bin/babel src --out-dir lib
</code></pre></div><p>è¿™æ®µè¯­å¥çš„æ„æ€æ˜¯: å®ƒä½¿ç”¨æˆ‘ä»¬è®¾ç½®çš„<strong>è§£ææ–¹å¼</strong>æ¥è§£æ<code>src</code>ç›®å½•ä¸‹çš„æ‰€æœ‰<code>JS</code>æ–‡ä»¶, å¹¶å°†è½¬æ¢åçš„æ¯ä¸ªæ–‡ä»¶éƒ½è¾“å‡ºåˆ°<code>lib</code>ç›®å½•ä¸‹.</p> <p>ä½†æ˜¯æ³¨æ„äº†, ç”±äºæˆ‘ä»¬ç°åœ¨æ²¡æœ‰è®¾ç½®ä»»ä½•çš„è§£ææ–¹å¼, æ‰€ä»¥ä½ åœ¨æ‰§è¡Œäº†è¿™æ®µè¯­å¥ä¹‹å, èƒ½çœ‹åˆ°é¡¹ç›®ä¸­å¤šäº†ä¸€ä¸ª<code>lib</code>ç›®å½•, è€Œä¸”é‡Œé¢çš„<code>JS</code>ä»£ç å’Œ<code>src</code>ä¸­çš„æ˜¯ä¸€æ ·çš„. è‡³äºæˆ‘è¯´çš„<strong>è§£ææ–¹å¼</strong>, å°±æ˜¯åé¢æˆ‘è¦ä»‹ç»çš„pluginså’Œpresets.</p> <p>å¦å¤–, å¦‚æœä½ æ˜¯<code>npm@5.2.0</code>é™„å¸¦çš„<code>npm</code>åŒ…è¿è¡Œå™¨çš„è¯, å°±å¯ä»¥ç”¨<code>npx babel</code>æ¥ä»£æ›¿<code>./node_modules/.bin/babel</code>:</p> <div class="language- extra-class"><pre class="language-text"><code>$ npx babel src --out-dir lib
</code></pre></div><p><strong>ç”¨æ³•äºŒ</strong>: ç»™<code>package.json</code>ä¸­é…ç½®ä¸€æ®µè„šæœ¬å‘½ä»¤:</p> <div class="language-diff extra-class"><pre class="language-diff"><code>{
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   "name": "babel-basic",
</span><span class="token prefix unchanged"> </span><span class="token line">   "version": "1.0.0",
</span><span class="token prefix unchanged"> </span><span class="token line">   "description": "",
</span><span class="token prefix unchanged"> </span><span class="token line">   "main": "index.js",
</span><span class="token prefix unchanged"> </span><span class="token line">   "scripts": {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">       "build": "babel src -d lib"
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   },
</span><span class="token prefix unchanged"> </span><span class="token line">   "keywords": [],
</span><span class="token prefix unchanged"> </span><span class="token line">   "author": "",
</span><span class="token prefix unchanged"> </span><span class="token line">   "license": "ISC",
</span><span class="token prefix unchanged"> </span><span class="token line">   "devDependencies": {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">       "@babel/cli": "^7.8.4",
</span><span class="token prefix inserted">+</span><span class="token line">       "@babel/core": "^7.8.4"
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   }
</span></span>}
</code></pre></div><p>ç°åœ¨è¿è¡Œ<code>npm run build</code>æ•ˆæœä¹Ÿæ˜¯ä¸€æ ·çš„, <code>-d</code>æ˜¯<code>--out-dir</code>çš„ç¼©å†™...</p> <p>(æˆ‘ä»¬ä½¿ç”¨ä¸Šé¢çš„ <code>--out-dir</code> é€‰é¡¹ã€‚ä½ å¯ä»¥é€šè¿‡ä½¿ç”¨ <code>--help</code> è¿è¡Œå®ƒæ¥æŸ¥çœ‹ cli å·¥å…·æ¥å—çš„å…¶ä½™é€‰é¡¹ã€‚ä½†å¯¹æˆ‘ä»¬æ¥è¯´æœ€é‡è¦çš„æ˜¯ <code>--plugins</code> å’Œ <code>--presets</code>ã€‚)</p> <div class="language- extra-class"><pre class="language-text"><code>$ npx babel --help
</code></pre></div><h3 id="æ’ä»¶plugins"><a href="#æ’ä»¶plugins" class="header-anchor">#</a> æ’ä»¶plugins</h3> <h4 id="åŸºæœ¬æ¦‚å¿µ"><a href="#åŸºæœ¬æ¦‚å¿µ" class="header-anchor">#</a> åŸºæœ¬æ¦‚å¿µ</h4> <p>çŸ¥é“äº†Babelçš„åŸºæœ¬ç”¨æ³•ä¹‹å, è®©æˆ‘ä»¬æ¥çœ‹çœ‹å…·ä½“çš„ä»£ç è½¬æ¢.</p> <p>ç°åœ¨è¦ä»‹ç»çš„æ˜¯<strong>æ’ä»¶plugins</strong>, å®ƒçš„æœ¬è´¨å°±æ˜¯ä¸€ä¸ª<code>JS</code>ç¨‹åº, æŒ‡ç¤ºç€Babelå¦‚ä½•å¯¹ä»£ç è¿›è¡Œè½¬æ¢.</p> <p>æ‰€ä»¥ä½ ä¹Ÿå¯ä»¥ç¼–å†™è‡ªå·±çš„æ’ä»¶æ¥åº”ç”¨ä½ æƒ³è¦çš„ä»»ä½•ä»£ç è½¬æ¢.</p> <h4 id="æ’ä»¶æ¡ˆä¾‹-ç®­å¤´å‡½æ•°æ’ä»¶"><a href="#æ’ä»¶æ¡ˆä¾‹-ç®­å¤´å‡½æ•°æ’ä»¶" class="header-anchor">#</a> æ’ä»¶æ¡ˆä¾‹(ç®­å¤´å‡½æ•°æ’ä»¶)</h4> <p>ä½†æ˜¯é¦–å…ˆè®©æˆ‘ä»¬æ¥å­¦ä¹ ä¸€äº›åŸºæœ¬çš„æ’ä»¶.</p> <p>å¦‚æœä½ æ˜¯è¦å°†ES6+è½¬æˆES5, å¯ä»¥ä¾èµ–å®˜æ–¹æ’ä»¶, ä¾‹å¦‚:</p> <p><code>@babel/plugin-transform-arrow-functions</code>:</p> <div class="language- extra-class"><pre class="language-text"><code>$ cnpm i --save-dev @babel/plugin-transform-arrow-functions
$ npx babel src --out-dir lib --plugins=@babel/plugin-transform-arrow-functions
</code></pre></div><p>è¿™ä¸ªæ’ä»¶çš„ä½œç”¨æ˜¯å°†ç®­å¤´å‡½æ•°è½¬æ¢ä¸ºES5å…¼å®¹çš„å‡½æ•°:</p> <p>è¿˜è®°å¾—æˆ‘ä»¬ä¹‹å‰çš„<code>src/index.js</code>å—:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// ç®­å¤´å‡½æ•°, è¿”å›å€¼ä¸º1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>ç°åœ¨ç¼–è¯‘ä¹‹å, ä½ å†æ‰“å¼€<code>lib/index.js</code>æ¥çœ‹çœ‹.</p> <p>å®ƒæ˜¯ä¸æ˜¯è¢«è½¬æ¢ä¸ºES5çš„ä»£ç äº†å‘¢? ğŸ˜</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// ç®­å¤´å‡½æ•°, è¿”å›å€¼ä¸º1</span>


console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>æ£é¼“äº†è¿™ä¹ˆä¹…, ç»ˆäºçœ‹åˆ°äº†ä¸€ç‚¹å®é™…çš„æ•ˆæœ, æ­¤æ—¶æœ‰ç‚¹å°å…´å¥‹å•ŠğŸ˜„</p> <p>è¡¨æƒ…åŒ…å¼€å¿ƒ</p> <p>è™½ç„¶æˆ‘ä»¬å·²ç»å®ç°äº†ç®­å¤´å‡½æ•°è½¬æ¢çš„åŠŸèƒ½, ä½†æ˜¯<code>ES6+</code>å…¶å®ƒçš„è¯­æ³•(æ¯”æ±‚å¹‚è¿ç®—ç¬¦<code>**</code>)å´å¹¶ä¸èƒ½è½¬æ¢, è¿™æ˜¯å› ä¸ºæˆ‘ä»¬åªä½¿ç”¨äº†<code>@babel/plugin-transform-arrow-functions</code>è¿™ä¸ªåŠŸèƒ½æ’ä»¶, æ²¡æœ‰ä½¿ç”¨å…¶å®ƒçš„äº†.</p> <h3 id="presets"><a href="#presets" class="header-anchor">#</a> Presets:</h3> <h4 id="åŸºæœ¬æ¦‚å¿µ-2"><a href="#åŸºæœ¬æ¦‚å¿µ-2" class="header-anchor">#</a> åŸºæœ¬æ¦‚å¿µ</h4> <p>å¦‚æœæƒ³è¦è½¬æ¢ES6+çš„å…¶å®ƒä»£ç ä¸ºES5, æˆ‘ä»¬å¯ä»¥ä½¿ç”¨"preset"æ¥ä»£æ›¿é¢„å…ˆè®¾å®šçš„<strong>ä¸€ç»„æ’ä»¶</strong>, è€Œä¸æ˜¯é€ä¸€æ·»åŠ æˆ‘ä»¬æƒ³è¦çš„æ‰€æœ‰æ’ä»¶.</p> <p><strong>è¿™é‡Œå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªpresetå°±æ˜¯ä¸€ç»„æ’ä»¶çš„é›†åˆ.</strong></p> <p>presetså’Œpluginsä¸€æ ·, ä¹Ÿå¯ä»¥åˆ›å»ºè‡ªå·±çš„preset, åˆ†äº«ä½ éœ€è¦çš„ä»»ä½•æ’ä»¶ç»„åˆ.</p> <h4 id="babel-preset-env"><a href="#babel-preset-env" class="header-anchor">#</a> @babel/preset-env</h4> <p>ä¾‹å¦‚, æˆ‘ä»¬ä½¿ç”¨<code>env</code>preset:</p> <div class="language- extra-class"><pre class="language-text"><code>cnpm i --save-dev @babel/preset-env
</code></pre></div><p><code>env</code>presetè¿™ä¸ªpresetåŒ…æ‹¬æ”¯æŒç°ä»£JavaScript(ES6+)çš„æ‰€æœ‰æ’ä»¶.</p> <p>æ‰€ä»¥ä¹Ÿå°±æ˜¯è¯´ä½ å®‰è£…ä½¿ç”¨äº†<code>env</code>presetä¹‹å, å°±å¯ä»¥çœ‹åˆ°å…¶å®ƒES6+è¯­æ³•çš„è½¬æ¢äº†.</p> <p>ç°åœ¨è®©æˆ‘ä»¬æ¥ç”¨ç”¨ES7ä¸­çš„<strong>æ±‚å¹‚è¿ç®—ç¬¦</strong>å’Œ<strong>å‡½æ•°å‚æ•°æ”¯æŒå°¾éƒ¨é€—å·</strong>è¿™ä¸¤ä¸ªåŠŸèƒ½å§:</p> <p><strong>src/index.js</strong>:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// ES6ç®­å¤´å‡½æ•°, è¿”å›å€¼ä¸º1</span>
<span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token number">3</span> <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">// ES7æ±‚å¹‚è¿ç®—ç¬¦</span>
<span class="token keyword">let</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span></span> <span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// ES7å‚æ•°æ”¯æŒå°¾éƒ¨é€—å·</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'a:'</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'b:'</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'c:'</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>ç„¶ååœ¨å‘½ä»¤è¡Œé‡Œä½¿ç”¨è¿™ä¸ª<code>preset</code>:</p> <div class="language- extra-class"><pre class="language-text"><code>npx babel src --out-dir lib --presets=@babel/preset-env
</code></pre></div><p>ç°åœ¨æ‰“å¼€<code>lib/src</code>çœ‹çœ‹:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string">"use strict"</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// ç®­å¤´å‡½æ•°, è¿”å›å€¼ä¸º1</span>


<span class="token keyword">var</span> num <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'a:'</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'b:'</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'c:'</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>æ±‚å¹‚è¿ç®—ç¬¦è¢«è½¬æ¢ä¸ºæˆ<code>Math.pow()</code></p> <p>å‡½æ•°å‚æ•°çš„æœ€åä¸€ä¸ªé€—å·ä¹Ÿè¢«å»æ‰äº†.</p> <p>æˆªæ­¢åˆ°ç°åœ¨, çœ‹å®Œäº†<code>@babel/core</code>ã€<code>@babel/cli</code>ã€<code>plugins</code>ã€<code>presets</code>, ç›¸ä¿¡ä½ å¯¹Babelçš„åŠŸèƒ½æœ‰ä¸€å®šäº†è§£äº†å§, ä½†æ˜¯çœŸæ­£ä½¿ç”¨èµ·æ¥æˆ‘ä»¬ä¸å¯èƒ½éƒ½æ˜¯é å‘½ä»¤è¡Œçš„å½¢å¼å§, æ²¡é”™, æ¥ä¸‹æ¥æˆ‘è¦å°†è¿™äº›åŠŸèƒ½åšæˆé…ç½®é¡¹.</p> <h3 id="é…ç½®"><a href="#é…ç½®" class="header-anchor">#</a> é…ç½®</h3> <p>ä¸Šé¢ğŸ‘†ä»‹ç»çš„éƒ½æ˜¯ä¸€äº›ç»ˆç«¯ä¼ å…¥CLIçš„æ–¹å¼, åœ¨å®é™…ä½¿ç”¨ä¸Š, æˆ‘ä»¬æ›´åŠ åå‘äº<strong>é…ç½®æ–‡ä»¶</strong>.</p> <p>ä¾‹å¦‚æˆ‘ä»¬åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª<code>babel.config.js</code>æ–‡ä»¶:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> presets <span class="token operator">=</span> <span class="token punctuation">[</span>
	<span class="token punctuation">[</span>
    <span class="token string">"@babel/env"</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">targets</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">edge</span><span class="token operator">:</span> <span class="token string">"17"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">chrome</span><span class="token operator">:</span> <span class="token string">"64"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">firefox</span><span class="token operator">:</span> <span class="token string">"60"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">safari</span><span class="token operator">:</span> <span class="token string">"11.1"</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>	
<span class="token punctuation">]</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span> presets <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>åŠ ä¸Šè¿™ä¸ªé…ç½®çš„ä½œç”¨æ˜¯:</p> <ul><li>ä½¿ç”¨äº†<code>env</code>presetè¿™ä¸ªpreset</li> <li><code>env</code>presetåªä¼šä¸ºç›®æ ‡æµè§ˆå™¨ä¸­æ²¡æœ‰çš„åŠŸèƒ½åŠ è½½è½¬æ¢æ’ä»¶</li></ul> <p>ç°åœ¨ä½ è¦ä½¿ç”¨è¿™ä¸ªé…ç½®å°±å¾ˆç®€å•äº†, ç›´æ¥ç”¨æˆ‘ä»¬å‰é¢<strong>package.json</strong>é…ç½®çš„å‘½ä»¤è¡Œè¯­å¥:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
	<span class="token string-property property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token string-property property">"build"</span><span class="token operator">:</span> <span class="token string">"babel src -d lib"</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æ‰§è¡Œ<code>npm run build</code>å°±å¯ä»¥äº†.</p> <p>è¿™ä¸ªå‘½ä»¤è¡Œè¯­å¥çœ‹èµ·æ¥å¹¶æ²¡æœ‰ä¿®æ”¹, é‚£æ˜¯å› ä¸ºå®ƒé»˜è®¤ä¼šå»å¯»æ‰¾è·Ÿæ ¹ç›®å½•ä¸‹çš„ä¸€ä¸ªåä¸º<code>babel.config.js</code>çš„æ–‡ä»¶(æˆ–è€…<code>babelrc.js</code>ä¹Ÿå¯ä»¥, è¿™ä¸ªåœ¨ä¹‹åçš„<code>ä½¿ç”¨babelçš„å‡ ç§æ–¹å¼</code>ä¸­ä¼šè¯´åˆ°), æ‰€ä»¥å…¶å®å°±ç›¸å½“äºä»¥ä¸‹è¿™ä¸ªé…ç½®:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
	<span class="token string-property property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token string-property property">"build"</span><span class="token operator">:</span> <span class="token string">"babel src -d lib --config-file ./babel.config.js"</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å› æ­¤å¦‚æœä½ çš„Babelé…ç½®æ–‡ä»¶æ˜¯<code>babel.config.js</code>çš„è¯, è¿™ä¸¤ç§æ•ˆæœæ˜¯ä¸€æ ·çš„.</p> <p>(<code>--config-file</code>æŒ‡ä»¤å°±ç±»ä¼¼äºwebpackä¸­çš„<code>--config</code>, ç”¨äºæŒ‡å®šä»¥å“ªä¸ªé…ç½®æ–‡ä»¶æ„å»º)</p> <p>è¿™é‡Œæˆ‘é‡ç‚¹è¦è¯´ä¸€ä¸‹<strong>åªä¼šä¸ºç›®æ ‡æµè§ˆå™¨ä¸­æ²¡æœ‰çš„åŠŸèƒ½åŠ è½½è½¬æ¢æ’ä»¶</strong>è¿™å¥è¯çš„æ„æ€.</p> <p>ä¾‹å¦‚æˆ‘è¿™é‡Œé…ç½®çš„å…¶ä¸­ä¸€é¡¹æ˜¯<code>edge: "17"</code>, é‚£å°±è¡¨ç¤ºå®ƒè½¬æ¢ä¹‹åçš„ä»£ç æ”¯æŒåˆ°<code>edge17</code>.</p> <p>æ‰€ä»¥ä½ ä¼šå‘ç°, å¦‚æœä½ ç”¨äº†æˆ‘ä¸Šé¢<code>babel.config.js</code>çš„é…ç½®ä¹‹åç”Ÿæˆçš„<code>lib</code>æ–‡ä»¶å¤¹ä¸‹çš„ä»£ç å¥½åƒå¹¶æ²¡æœ‰å‘ç”Ÿä»€ä¹ˆæ”¹å˜, ä¹Ÿå°±æ˜¯å®ƒå¹¶æ²¡æœ‰è¢«è½¬æ¢æˆ<code>ES5</code>çš„ä»£ç :</p> <p><strong>src/index.js</strong>:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// ES6ç®­å¤´å‡½æ•°, è¿”å›å€¼ä¸º1</span>
<span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token number">3</span> <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">// ES7æ±‚å¹‚è¿ç®—ç¬¦</span>
<span class="token keyword">let</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span></span> <span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// ES7å‚æ•°æ”¯æŒå°¾éƒ¨é€—å·</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'a:'</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'b:'</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'c:'</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>ä½¿ç”¨<code>babel.config.js</code>é…ç½®ä¹‹åæ„å»ºçš„<code>lib/index.js</code></strong>:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string">"use strict"</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// ES6ç®­å¤´å‡½æ•°, è¿”å›å€¼ä¸º1</span>


<span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token number">3</span> <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">// ES7æ±‚å¹‚è¿ç®—ç¬¦</span>

<span class="token keyword">let</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ES7å‚æ•°æ”¯æŒå°¾éƒ¨é€—å·</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'a:'</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'b:'</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'c:'</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>ç®­å¤´å‡½æ•°ä¾æ—§æ˜¯ç®­å¤´å‡½æ•°, æ±‚å¹‚è¿ç®—ç¬¦ä¾æ—§æ˜¯æ±‚å¹‚è¿ç®—ç¬¦.</p> <p><strong>è¿™æ˜¯å› ä¸ºåœ¨Edge17æµè§ˆå™¨ä¸­æ”¯æŒES7çš„è¿™äº›åŠŸèƒ½, æ‰€ä»¥å®ƒå°±æ²¡æœ‰å¿…è¦å°†å…¶è½¬æ¢äº†, å®ƒåªä¼šä¸ºç›®æ ‡æµè§ˆå™¨ä¸­æ²¡æœ‰çš„åŠŸèƒ½åŠ è½½è½¬æ¢æ’ä»¶!!!</strong></p> <p>å¦‚æœæˆ‘ä»¬å°†<code>edge17</code>æ”¹æˆ<code>edge10</code>çœ‹çœ‹ ğŸ¤”ï¸?</p> <p><strong>babel.config.js</strong>:</p> <div class="language-diff extra-class"><pre class="language-diff"><code>const presets = [
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   [
</span><span class="token prefix unchanged"> </span><span class="token line">       "@babel/env",
</span><span class="token prefix unchanged"> </span><span class="token line">       {
</span><span class="token prefix unchanged"> </span><span class="token line">           targets: {
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">               edge: "17",
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">               edge: "10",
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">               firefox: "60",
</span><span class="token prefix unchanged"> </span><span class="token line">               chrome: "67",
</span><span class="token prefix unchanged"> </span><span class="token line">               safari: "11.1",
</span><span class="token prefix unchanged"> </span><span class="token line">           },
</span><span class="token prefix unchanged"> </span><span class="token line">       },
</span><span class="token prefix unchanged"> </span><span class="token line">   ],
</span></span>];

module.exports = { presets };
</code></pre></div><p>ä¿å­˜é‡æ–°è¿è¡Œ<code>npm run build</code>, ä½ å°±ä¼šå‘ç°<code>lib/index.js</code>ç°åœ¨æœ‰æ‰€æ”¹å˜äº†:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string">"use strict"</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// ES6ç®­å¤´å‡½æ•°, è¿”å›å€¼ä¸º1</span>


<span class="token keyword">var</span> num <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ES7æ±‚å¹‚è¿ç®—ç¬¦</span>

<span class="token keyword">var</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ES7å‚æ•°æ”¯æŒå°¾éƒ¨é€—å·</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'a:'</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'b:'</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'c:'</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="polyfill"><a href="#polyfill" class="header-anchor">#</a> Polyfill</h3> <p>Pluginsæ˜¯æä¾›çš„æ’ä»¶, ä¾‹å¦‚ç®­å¤´å‡½æ•°è½¬æ™®é€šå‡½æ•°<code>@babel/plugin-transform-arrow-functions</code></p> <p>Presetsæ˜¯ä¸€ç»„Pluginsçš„é›†åˆ.</p> <p><strong>è€ŒPolyfillæ˜¯å¯¹æ‰§è¡Œç¯å¢ƒæˆ–è€…å…¶å®ƒåŠŸèƒ½çš„ä¸€ä¸ªè¡¥å…….</strong></p> <p>ä»€ä¹ˆæ„æ€å‘¢ ğŸ¤”ï¸?</p> <p>å°±åƒç°åœ¨ä½ æƒ³åœ¨<code>edge10</code>æµè§ˆå™¨ä¸­ä½¿ç”¨ES7ä¸­çš„æ–¹æ³•<code>includes()</code>, ä½†æ˜¯æˆ‘ä»¬çŸ¥é“è¿™ä¸ªç‰ˆæœ¬çš„æµè§ˆå™¨ç¯å¢ƒæ˜¯ä¸æ”¯æŒä½ ä½¿ç”¨è¿™ä¸ªæ–¹æ³•çš„, æ‰€ä»¥å¦‚æœä½ å¼ºè¡Œä½¿ç”¨å¹¶ä¸èƒ½è¾¾åˆ°é¢„æœŸçš„æ•ˆæœ.</p> <p>è€Œ<code>polyfill</code>çš„ä½œç”¨æ­£æ˜¯å¦‚æ­¤, çŸ¥é“ä½ çš„ç¯å¢ƒä¸å…è®¸, é‚£å°±å¸®ä½ å¼•ç”¨ä¸€ä¸ªè¿™ä¸ªç¯å¢ƒ, ä¹Ÿå°±æ˜¯è¯´æ­¤æ—¶ç¼–è¯‘åçš„ä»£ç å°±ä¼šå˜æˆè¿™æ ·:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// åŸæ¥çš„ä»£ç </span>
<span class="token keyword">var</span> hasTwo <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// åŠ äº†polyfillä¹‹åçš„ä»£ç </span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"core-js/modules/es7.array.includes"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"core-js/modules/es6.string.includes"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> hasTwo <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>è¿™æ ·è¯´ä½ åº”è¯¥å°±èƒ½çœ‹æ‡‚å®ƒçš„ä½œç”¨äº†å§ ğŸ˜</p> <p>è¡¨æƒ…åŒ…è£…é€¼</p> <p>ç°åœ¨å°±è®©æˆ‘ä»¬æ¥å­¦ä¹ ä¸€ä¸ªé‡è¦çš„<code>polyfill</code>, å®ƒå°±æ˜¯<code>babel/polyfill</code>.</p> <p><code>babel/polyfill</code>ç”¨æ¥æ¨¡æ‹Ÿå®ŒæˆES6+ç¯å¢ƒ:</p> <ul><li>å¯ä»¥ä½¿ç”¨åƒ<code>Promise</code>æˆ–è€…<code>WeakMap</code>è¿™æ ·çš„æ–°å†…ç½®å‡½æ•°</li> <li>å¯ä»¥ä½¿ç”¨åƒ<code>Array.from</code>æˆ–è€…<code>Object.assign</code>è¿™æ ·çš„é™æ€æ–¹æ³•</li> <li>å¯ä»¥ä½¿ç”¨åƒ<code>Array.prototype.includes</code>è¿™æ ·çš„å®ä¾‹æ–¹æ³•</li> <li>è¿˜æœ‰<code>generator</code>å‡½æ•°</li></ul> <p>ä¸ºäº†å®ç°è¿™ä¸€ç‚¹, Polyfillå¢åŠ äº†<strong>å…¨å±€èŒƒå›´</strong>ä»¥åŠåƒStringè¿™æ ·çš„åŸç”ŸåŸå‹.</p> <p>è€Œ<code>@babel/polyfill</code>æ¨¡å—åŒ…æ‹¬äº†<code>core-js</code>å’Œè‡ªå®šä¹‰<code>regenerator runtime</code></p> <p>å¯¹äº<strong>åº“/å·¥å…·</strong>æ¥è¯´, å¦‚æœä½ ä¸éœ€è¦åƒ<code>Array.prototype.includes</code>è¿™æ ·çš„å®ä¾‹æ–¹æ³•, å¯ä»¥ä½¿ç”¨<code>transform runtime</code>æ’ä»¶, è€Œä¸æ˜¯ä½¿ç”¨æ±¡æŸ“å…¨å±€çš„<code>@babel/polyfill</code>.</p> <p>å¯¹äº<strong>åº”ç”¨ç¨‹åº</strong>, æˆ‘ä»¬å»ºè®®å®‰è£…ä½¿ç”¨<code>@babel/polyfill</code></p> <div class="language- extra-class"><pre class="language-text"><code>cnpm i --save @babel/polyfill
</code></pre></div><p>(æ³¨æ„ <code>--save</code> é€‰é¡¹è€Œä¸æ˜¯ <code>--save-dev</code>ï¼Œå› ä¸ºè¿™æ˜¯ä¸€ä¸ªéœ€è¦åœ¨æºä»£ç ä¹‹å‰è¿è¡Œçš„ polyfillã€‚)</p> <p>ä½†æ˜¯ç”±äºæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯<code>env</code>preset, è¿™é‡Œä¸ªé…ç½®ä¸­æœ‰ä¸€ä¸ªå«åš <code>"useBuiltIns"</code>çš„é€‰é¡¹</p> <p>å¦‚æœå°†è¿™ä¸ªé€‰æ‹©è®¾ç½®ä¸º<code>"usage"</code>, å°±åªåŒ…æ‹¬ä½ éœ€è¦çš„polyfill</p> <p>æ­¤æ—¶çš„<code>babel.config.js</code>è°ƒæ•´ä¸º:</p> <div class="language-diff extra-class"><pre class="language-diff"><code>const presets = [
	[
		"@babel/env",
		{
			targets: {
				edge: "17",
				chrome: "64",
				firefox: "67",
				safari: '11.1'
			},
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">			useBuiltIns: "usage"
</span></span>		}
	]
]

module.exports = { presets }
</code></pre></div><p>å®‰è£…é…ç½®äº†<code>@babel/polyfill</code>, Babelå°†æ£€æŸ¥ä½ çš„æ‰€æœ‰ä»£ç , ç„¶åæŸ¥æ‰¾ç›®æ ‡ç¯å¢ƒä¸­ç¼ºå°‘çš„åŠŸèƒ½, å¹¶å¼•å…¥ä»…åŒ…å«æ‰€éœ€çš„polyfill</p> <p>(å¦‚æœæˆ‘ä»¬æ²¡æœ‰å°† <code>env</code> preset çš„ <code>"useBuiltIns"</code> é€‰é¡¹çš„è®¾ç½®ä¸º <code>"usage"</code> ï¼Œå°±å¿…é¡»åœ¨å…¶ä»–ä»£ç ä¹‹å‰ require <em>ä¸€æ¬¡å®Œæ•´</em>çš„ polyfillã€‚)</p> <p>è¿˜æ˜¯ä¸Šé¢ğŸ‘†çš„é‚£ä¸ªä¾‹å­, æˆ‘ä»¬æ¥æ”¹é€ ä¸€ä¸‹, ä½¿ç”¨<code>Edge17</code>ä¸­æ²¡æœ‰çš„<code>Promise.prototype.finally</code>:</p> <p><strong>src/index.js</strong>:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// ES6ç®­å¤´å‡½æ•°, è¿”å›å€¼ä¸º1</span>
<span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token number">3</span> <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">// ES7æ±‚å¹‚è¿ç®—ç¬¦</span>
<span class="token keyword">let</span> hasTwo <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span></span> <span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// ES7å‚æ•°æ”¯æŒå°¾éƒ¨é€—å·</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'a:'</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'b:'</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'c:'</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">finally</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hasTwo<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>ç°åœ¨æ‰§è¡Œ<code>npm run build</code>ä¹‹åç”Ÿæˆçš„<code>lib/index.js</code>å˜æˆäº†:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string">"use strict"</span><span class="token punctuation">;</span>

<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"core-js/modules/es7.promise.finally"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// ES6ç®­å¤´å‡½æ•°, è¿”å›å€¼ä¸º1</span>


<span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token number">3</span> <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">// ES7æ±‚å¹‚è¿ç®—ç¬¦</span>

<span class="token keyword">let</span> hasTwo <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ES7å‚æ•°æ”¯æŒå°¾éƒ¨é€—å·</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'a:'</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'b:'</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'c:'</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">finally</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hasTwo<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>@babel/polyfill</code>å¸®æˆ‘ä»¬å¼•å…¥äº†<code>Edge17</code> ç¯å¢ƒä¸­æ²¡æœ‰çš„<code>promise.finally()</code></p> <h3 id="è¢«deprecatedçš„-babel-polyfill"><a href="#è¢«deprecatedçš„-babel-polyfill" class="header-anchor">#</a> è¢«deprecatedçš„@babel/polyfill</h3> <p>ä¸Šé¢æˆ‘ä»‹ç»äº†ä¸€ç§åä¸º<code>@babel/polyfill</code>çš„polypill, å…¶å®å®ƒåœ¨Babel7.4.0ä»¥ä¸Šå·²ç»ä¸è¢«æ¨èä½¿ç”¨äº†.</p> <p>è€Œæ˜¯æ¨èä½¿ç”¨<code>core-js@3</code>+<code>@babel/preset-env</code>ç„¶åè®¾ç½®<code>@babel/preset-env</code>çš„<code>corejs</code>é€‰é¡¹ä¸º<code>3</code>.</p> <p>å› æ­¤å¦‚æœä½ æŒ‰ç€æˆ‘æ–‡ç« ä¸­è®²æ–¹å¼ä½¿ç”¨<code>@babel/polyfill</code>, æ˜¯å¯ä»¥å®ç°çš„, ä¸è¿‡æ§åˆ¶å°ä¸­ä¼šæŠ›å‡ºä¸€ä¸ªè­¦å‘Šâš ï¸:</p> <div class="language- extra-class"><pre class="language-text"><code>WARNING: We noticed you're using the `useBuiltIns` option without declaring a core-js version. Currently, we assume version 2.x when no version is passed. Since this default version will likely change in future versions of Babel, we recommend explicitly setting the core-js version you are using via the `corejs` option.

You should also be sure that the version you pass to the `corejs` option matches the version specified in your `package.json`'s `dependencies` section. If it doesn't, you need to run one of the following commands:

  npm install --save core-js@2    npm install --save core-js@3
  yarn add core-js@2              yarn add core-js@3
</code></pre></div><p>è§£å†³åŠæ³•æ˜¯å¸è½½æ‰<code>@babel/polyfill</code>, ç„¶åé‡æ–°å®‰è£…<code>core-js@ç‰ˆæœ¬å·</code>, ç„¶åé‡æ–°é…ç½®ä¸€äº›babel.config.jsæ–‡ä»¶.</p> <ol><li>å®‰è£…<code>core-js@3</code>:</li></ol> <div class="language- extra-class"><pre class="language-text"><code>cnpm i --save core-js@3
</code></pre></div><ol start="2"><li>æ·»åŠ <code>corejs</code>é€‰é¡¹:</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code>const presets = [
	[
		"@babel/env",
		{
			targets: {
				edge: "17",
				chrome: "64",
				firefox: "67",
				safari: '11.1'
			},
			useBuiltIns: "usage",
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">			corejs: 3
</span></span>		}
	]
]

module.exports = { presets }
</code></pre></div><p><code>(useBuiltIns</code>é€‰é¡¹è¿˜æ˜¯ä¸èƒ½å»æ‰)</p> <p>ç°åœ¨é‡æ–°<code>npm run build</code>ä¹‹åå°±ä¸ä¼šæœ‰è¿™ä¸ªè­¦å‘Šäº†, è€Œä¸”ç”Ÿæˆçš„<code>lib</code>ä¹Ÿæ˜¯æ­£ç¡®çš„.</p> <h3 id="å°ç»“"><a href="#å°ç»“" class="header-anchor">#</a> å°ç»“</h3> <ul><li><code>babel/cli</code> å…è®¸æˆ‘ä»¬ä»ç»ˆç«¯è¿è¡ŒBabel</li> <li><code>env</code>preset åªåŒ…å«æˆ‘ä»¬ä½¿ç”¨çš„åŠŸèƒ½çš„è½¬æ¢,å®ç°æˆ‘ä»¬çš„ç›®æ ‡æµè§ˆå™¨ä¸­ç¼ºå°‘çš„åŠŸèƒ½</li> <li><code>@babel/polyfill</code>å®ç°æ‰€æœ‰æ–°çš„<code>JS</code>åŠŸèƒ½, ä¸ºç›®æ ‡æµè§ˆå™¨å¼•å…¥ç¼ºå°‘çš„ç¯å¢ƒ(ä½†æ˜¯Babel7.4.0ä»¥ä¸Šä¸æ¨èä½¿ç”¨)</li></ul></div> <!----> <div class="readMore-wrapper"><span class="readMore">é˜…è¯»å…¨æ–‡</span></div>
                    </div>
                            <p>è¿™æ˜¯ä¸€ä¸ªä¿¡æ¯æç¤ºæ¡†ã€‚</p>
                        </div>

                        <div class="note warning">
                            <div class="note-title"><i class="fas fa-exclamation-triangle"></i> æ³¨æ„</div>
                            <p>è¿™æ˜¯ä¸€ä¸ªè­¦å‘Šæç¤ºæ¡†ã€‚</p>
                        </div>

                        <div class="note success">
                            <div class="note-title"><i class="fas fa-check-circle"></i> æˆåŠŸ</div>
                            <p>è¿™æ˜¯ä¸€ä¸ªæˆåŠŸæç¤ºæ¡†ã€‚</p>
                        </div>

                        <h2>ä»£ç ç¤ºä¾‹</h2>
                        <pre><code class="language-javascript">// ç¤ºä¾‹ä»£ç 
function example() {
    console.log('Hello, FrontendHub!');
}
</code></pre>
                    </div>

                    <!-- æ–‡ç« åº•éƒ¨å¯¼èˆª -->
                    <nav class="article-nav">
                        <a href="#" class="prev-article">
                            <i class="fas fa-chevron-left"></i>
                            <span>ä¸Šä¸€ç¯‡</span>
                        </a>
                        <a href="#" class="next-article">
                            <span>ä¸‹ä¸€ç¯‡</span>
                            <i class="fas fa-chevron-right"></i>
                        </a>
                    </nav>
                </article>
            </div>
        </div>
    </main>

    <!-- é¡µè„š -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4><i class="fas fa-code"></i> FrontendHub</h4>
                    <p>ä¸“æ³¨äºå‰ç«¯æŠ€æœ¯å­¦ä¹ ä¸é¢è¯•å‡†å¤‡</p>
                </div>
                <div class="footer-section">
                    <h4>å¿«é€Ÿé“¾æ¥</h4>
                    <ul>
                        <li><a href="../../index.html">é¦–é¡µ</a></li>
                        <li><a href="../index.html#courses">è¯¾ç¨‹ä½“ç³»</a></li>
                        <li><a href="../index.html#resources">å­¦ä¹ èµ„æº</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 FrontendHub. ç”¨äºä¸ªäººå­¦ä¹ ä½¿ç”¨.</p>
            </div>
        </div>
    </footer>

    <!-- è¿”å›é¡¶éƒ¨æŒ‰é’® -->
    <button class="back-to-top" id="backToTop">
        <i class="fas fa-arrow-up"></i>
    </button>

    <script src="../../js/main.js"></script>
    <script src="../../js/content.js"></script>
</body>
</html>

