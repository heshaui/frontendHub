<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="referrer" content="no-referrer">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>V8æºç æµ…æJSæ•°ç»„å¸¸è§æ–¹æ³• - FrontendHub</title>
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="../../css/content.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="content-page">
    <!-- å¯¼èˆªæ  -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand">
                <a href="../../index.html" style="color: inherit; text-decoration: none; display: flex; align-items: center; gap: 0.5rem;">
                    <i class="fas fa-code"></i>
                    <span>FrontendHub</span>
                </a>
            </div>
            <button class="nav-toggle" id="navToggle">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <ul class="nav-menu" id="navMenu">
                <li><a href="../../index.html">é¦–é¡µ</a></li>
                <li><a href="../index.html#features">ç‰¹è‰²</a></li>
                <li><a href="../index.html#courses">è¯¾ç¨‹</a></li>
                <li><a href="../index.html#resources">èµ„æº</a></li>
            </ul>
        </div>
    </nav>

    <!-- é¢åŒ…å±‘å¯¼èˆª -->
    <div class="breadcrumb">
        <div class="container">
            <a href="../../index.html"><i class="fas fa-home"></i> é¦–é¡µ</a>
            <i class="fas fa-chevron-right"></i>
            <span>V8æºç æµ…æJSæ•°ç»„å¸¸è§æ–¹æ³•</span>
        </div>
    </div>

    <!-- ä¸»è¦å†…å®¹åŒº -->
    <main class="content-main">
        <div class="container">
            <div class="content-layout">
                <!-- ä¾§è¾¹æ ç›®å½• -->
                <aside class="sidebar">
                    <div class="sidebar-sticky">
                        <h3><i class="fas fa-list"></i> ç›®å½•</h3>
                        <nav class="toc" id="toc">
                            <!-- ç›®å½•å°†é€šè¿‡JavaScriptè‡ªåŠ¨ç”Ÿæˆ -->
                        </nav>
                    </div>
                </aside>

                <!-- æ–‡ç« å†…å®¹ -->
                <article class="article">
                    <header class="article-header">
                        <h1>V8æºç æµ…æJSæ•°ç»„å¸¸è§æ–¹æ³•</h1>
                        <div class="article-meta">
                            <span><i class="far fa-calendar"></i> æ›´æ–°æ—¶é—´ï¼š2025-12-23</span>
                            <span><i class="far fa-clock"></i> é˜…è¯»æ—¶é•¿ï¼šçº¦ 15 åˆ†é’Ÿ</span>
                        </div>
                    </header>

                    <div class="article-content">
<div class="content__default"><h2 id="arrayåŸºç¡€"><a href="#arrayåŸºç¡€" class="header-anchor">#</a> ArrayåŸºç¡€</h2> <p>è¦æƒ³æ‰‹å†™æ•°ç»„æ–¹æ³•ï¼Œå…ˆè¡¥ä¸€è¡¥åŸºç¡€ï¼Œå¾—å…ˆä¼šä½¿ç”¨å®ƒä»¬api</p> <h3 id="åˆ›å»ºä¸€ä¸ªæ•°ç»„"><a href="#åˆ›å»ºä¸€ä¸ªæ•°ç»„" class="header-anchor">#</a> åˆ›å»ºä¸€ä¸ªæ•°ç»„</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code>			<span class="token comment">//å­—é¢é‡</span>
            <span class="token keyword">let</span> demo <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
            <span class="token comment">// æ„é€ å™¨</span>
            <span class="token keyword">let</span> demo1 <span class="token operator">=</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                demo2 <span class="token operator">=</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                demo3 <span class="token operator">=</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                demo4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="æ„é€ å‡½æ•°ä¸Šçš„æ–¹æ³•"><a href="#æ„é€ å‡½æ•°ä¸Šçš„æ–¹æ³•" class="header-anchor">#</a> æ„é€ å‡½æ•°ä¸Šçš„æ–¹æ³•</h3> <h4 id="array-of"><a href="#array-of" class="header-anchor">#</a> Array.of()</h4> <p>ç®€å•ç†è§£å°±æ˜¯åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„çš„å®ä¾‹,å¯ä»¥çœ‹çœ‹ä¸Arrayæ„é€ å‡½æ•°åŒºåˆ«</p> <p>è¯­æ³•:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>Array<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>element0<span class="token punctuation">[</span><span class="token punctuation">,</span> element1<span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">[</span><span class="token punctuation">,</span> elementN<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>ç”¨æ³•ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>Array<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// [7] </span>
Array<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3]</span>

<span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// [ , , , , , , ]</span>
<span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// [1, 2, 3]</span>
</code></pre></div><p>ä¸¤è€…åŒºåˆ«ï¼š<code>Array.of(7)</code> åˆ›å»ºä¸€ä¸ªå…·æœ‰å•ä¸ªå…ƒç´  <strong>7</strong> çš„æ•°ç»„ï¼Œè€Œ <strong>Array(7)</strong> åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º7çš„ç©ºæ•°ç»„ï¼ˆ**æ³¨æ„ï¼š**è¿™æ˜¯æŒ‡ä¸€ä¸ªæœ‰7ä¸ªç©ºä½(empty)çš„æ•°ç»„ï¼Œè€Œä¸æ˜¯ç”±7ä¸ª<code>undefined</code>ç»„æˆçš„æ•°ç»„ï¼‰ã€‚</p> <hr> <h4 id="array-isarray"><a href="#array-isarray" class="header-anchor">#</a> Array.isArray()</h4> <p><strong>Array.isArray()</strong> ç”¨äºç¡®å®šä¼ é€’çš„å€¼æ˜¯å¦æ˜¯ä¸€ä¸ª <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Array" target="_blank" rel="noopener noreferrer"><code>Array</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token comment">// true</span>
Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// false</span>
Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span><span class="token string">"foobar"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
<span class="token comment">// false</span>
Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token comment">// false</span>
</code></pre></div><p><strong>æ‰‹åŠ¨å®ç°</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>			<span class="token comment">// Array.isArray</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>Array<span class="token punctuation">.</span>isArray<span class="token punctuation">)</span><span class="token punctuation">{</span>
                Array<span class="token punctuation">.</span><span class="token function-variable function">isArray</span> <span class="token operator">=</span> <span class="token parameter">obj</span> <span class="token operator">=&gt;</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'[object Array]'</span>
            <span class="token punctuation">}</span>
</code></pre></div><p>åˆ¤æ–­JSæ•°æ®ç±»å‹ï¼Œå¯ä»¥çœ‹çœ‹æˆ‘ä¹‹å‰å†™çš„åšå®¢ <a href="https://juejin.im/post/5ef575706fb9a07eb86922a7" target="_blank" rel="noopener noreferrer">èŠä¸€èŠtypeof instanceof å®ç°åŸç†<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <hr> <h4 id="array-from"><a href="#array-from" class="header-anchor">#</a> Array.from()</h4> <p><code>Array.from()</code> æ–¹æ³•ä»ä¸€ä¸ªç±»ä¼¼æ•°ç»„æˆ–å¯è¿­ä»£å¯¹è±¡åˆ›å»ºä¸€ä¸ªæ–°çš„ï¼Œæµ…æ‹·è´çš„æ•°ç»„å®ä¾‹ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arrayLike<span class="token punctuation">[</span><span class="token punctuation">,</span> mapFn<span class="token punctuation">[</span><span class="token punctuation">,</span> thisArg<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><h5 id="å‚æ•°"><a href="#å‚æ•°" class="header-anchor">#</a> å‚æ•°</h5> <ul><li>arrayLike:  å¿…é€‰ï¼Œå¯ä»¥ä¼ å…¥ 1ã€ç±»æ•°ç»„(argumentg) 2ã€å¯è¿­ä»£å¯¹è±¡(set,map)ã€‚</li> <li>mapFn: å¯é€‰ï¼Œç›¸å½“äºArray.from(arrayLike).map(mapFn, thisArg)ã€‚</li> <li>thisArg: å¯é€‰ï¼Œæ‰§è¡Œå›è°ƒå‡½æ•°mapFnæ—¶å€™çš„thiså¯¹è±¡ã€‚éå¸¸æœ‰ç”¨ï¼Œåˆ©äºè§£è€¦ã€‚å¯ä»¥æŠŠè¢«å¤„ç†çš„æ•°æ®å’Œå¯¹è±¡åˆ†ç¦»ï¼ŒthisArgä¸­å®šä¹‰å¤„ç†å‡½æ•°handleï¼Œç”¨æ¥åœ¨mapFnä¸­è¿”å›è°ƒç”¨handleä¹‹åçš„ç»“æœã€‚</li></ul> <h5 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="header-anchor">#</a> ç”¨æ³•</h5> <p><strong>String</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>			<span class="token comment">// Array.from()</span>
            <span class="token keyword">const</span> demo <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">)</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>demo<span class="token punctuation">)</span> <span class="token comment">//[ 'a', 'b', 'c' ]</span>
</code></pre></div><p><strong>new Set()</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>			<span class="token keyword">const</span> Array_demo <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array_demo<span class="token punctuation">)</span>  <span class="token comment">// [1,2,3,4]</span>
</code></pre></div><p><strong>new Map()</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [[1, 2], [2, 4], [4, 8]]</span>
</code></pre></div><p><strong>ç±»æ•°ç»„</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> fn <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> demo <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>demo<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ 1, 2, 3 ]</span>
</code></pre></div><p><strong>æ•°ç»„å»é‡åˆå¹¶</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>			<span class="token keyword">let</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span>
                <span class="token keyword">const</span> Arr_new <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>arguments<span class="token punctuation">)</span>
                <span class="token keyword">return</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>Arr_new<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">const</span>   demo1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                    demo2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                    demo3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">fn</span><span class="token punctuation">(</span>demo1<span class="token punctuation">,</span>demo2<span class="token punctuation">,</span>demo3<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token comment">// [1,2,3,4,5,6]</span>
</code></pre></div><p><strong>å……åˆ†åˆ©ç”¨ç¬¬ä¸‰ä¸ªå‚æ•°thisArg</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>		<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token function-variable function">handle</span><span class="token operator">:</span> <span class="token parameter">x</span> <span class="token operator">=&gt;</span> x <span class="token operator">*</span> <span class="token number">4</span> 
        <span class="token punctuation">}</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handle</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token comment">// [44, 88, 132]</span>
</code></pre></div><h5 id="æ€è·¯"><a href="#æ€è·¯" class="header-anchor">#</a> <strong>æ€è·¯</strong></h5> <ul><li>åˆ¤æ–­arrayLikeæ˜¯å¦ä¸ºç©º</li> <li>æ ¹æ®mapFnåˆ¤æ–­æ˜¯å¦ä¸ºæ„é€ å‡½æ•°ï¼Œä¸ºæ„é€ å‡½æ•°ï¼Œæ¯æ¬¡éå†æ—¶ï¼Œè®©arr[i] = mapFn(iValue,i), ä¸æ˜¯æ„é€ å‡½æ•°æ—¶ï¼Œarr[i] = iValue</li> <li>åˆ¤æ–­thisArgæ˜¯å¦å­˜åœ¨,å­˜åœ¨çš„è¯ arr[i] = mapFn.call(thisArg, iValue,i)</li></ul> <p><strong>å‚è€ƒæºç åœ¨V8ä¸­</strong><a href="https://github.com/v8/v8/blob/4.9-lkgr/src/js/array.js#L1763" target="_blank" rel="noopener noreferrer">array.jsç¬¬1763è¡Œå¼€å¯Array.fromä¹‹æ—…<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-js extra-class"><pre class="language-js"><code>		<span class="token comment">/**
         * å®ç°Array.from
         * toIntegeræ–¹æ³•:è¿”å›ä¸€ä¸ªæ•´æ•°
         * toLengthæ–¹æ³•: ä¿è¯lenæ•°å­—åˆæ³•[0~Number.MAX_SAFE_INTEGER]
         * Number.MAX_SAFE_INTEGER = Math.pow(2,53) - 1
         * åˆ¤æ–­arrayLike ä¸º ç©º æŠ›å‡ºé”™è¯¯
         * mapFnéç©ºå¹¶ä¸”ä¸æ˜¯æ„é€ å‡½æ•°æŠ›å‡ºé”™è¯¯
         * æ¯æ¬¡éå†arrayLike,å¦‚æœmapFnå­˜åœ¨, arr[i] = mapFn(iValue,i) ä¸å­˜åœ¨çš„è¯ arr[i] = iValue
         * åˆ¤æ–­thisArgæ˜¯å¦å­˜åœ¨,å­˜åœ¨çš„è¯ arr[i] = mapFn.call(thisArg, iValue,i)
         * */</span>
        Array<span class="token punctuation">.</span>myfrom <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> toStr <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString
            <span class="token keyword">const</span> <span class="token function-variable function">isCallable</span> <span class="token operator">=</span> <span class="token parameter">fn</span> <span class="token operator">=&gt;</span> <span class="token keyword">typeof</span> fn <span class="token operator">===</span> <span class="token string">'function'</span> <span class="token operator">||</span> <span class="token function">toStr</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'[object Function]'</span>
            
            <span class="token keyword">const</span> <span class="token function-variable function">toInteger</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">const</span> v <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">isNaN</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> <span class="token number">0</span>
                <span class="token comment">// æ— ç©·å¤§æˆ–è€…0 ç›´æ¥è¿”å›</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>v <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token function">isFinite</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> v
                <span class="token keyword">return</span> <span class="token punctuation">(</span>v <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            <span class="token comment">// æœ€å¤§çš„èŒƒå›´Number.MAX_SAFE_INTEGER</span>
            <span class="token keyword">const</span> maxSafeInteger <span class="token operator">=</span> Number<span class="token punctuation">.</span><span class="token constant">MAX_SAFE_INTEGER</span>
            
            <span class="token keyword">const</span> <span class="token function-variable function">toLength</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">const</span> len <span class="token operator">=</span> <span class="token function">toInteger</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
                <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>maxSafeInteger<span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">myfrom</span> <span class="token punctuation">(</span>arrayLike<span class="token comment">/*, mapFn, thisArg*/</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">const</span> that <span class="token operator">=</span> <span class="token keyword">this</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>arrayLike <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">"Array.from requires an array-like object - not null or undefined"</span><span class="token punctuation">)</span>
                
                <span class="token keyword">const</span> items <span class="token operator">=</span> <span class="token function">Object</span><span class="token punctuation">(</span>arrayLike<span class="token punctuation">)</span>
                <span class="token keyword">let</span> thisArg <span class="token operator">=</span> <span class="token string">''</span>
                <span class="token comment">// åˆ¤æ–­mapFnæ˜¯å¦undefined, è¿™é‡Œæœ€å¥½ä¸è¦ç›´æ¥ä½¿ç”¨undefined,å› ä¸ºundefinedä¸æ˜¯ä¿ç•™å­—,</span>
                <span class="token comment">// å¾ˆæœ‰å¯èƒ½undefinedæ˜¯ä¸ªå€¼  æœ€å¥½ç”¨ void 0 æˆ–è€… void undefined </span>
                <span class="token keyword">const</span> mapFn <span class="token operator">=</span> arguments<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">?</span> arguments<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token keyword">void</span> <span class="token number">0</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token keyword">typeof</span> mapFn <span class="token operator">!==</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token comment">// æ¥ä¸‹æ¥åˆ¤æ–­ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸æ˜¯æ„é€ å‡½æ•°</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token operator">!</span><span class="token function">isCallable</span><span class="token punctuation">(</span>mapFn<span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">"Array.from when provided mapFn must be a function"</span><span class="token punctuation">)</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span> arguments<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">)</span> thisArg <span class="token operator">=</span> arguments<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">const</span> len <span class="token operator">=</span> <span class="token function">toLength</span><span class="token punctuation">(</span>items<span class="token punctuation">.</span>length<span class="token punctuation">)</span>
                <span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token function">isCallable</span><span class="token punctuation">(</span>that<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token function">Object</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">that</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span>

                <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
                    iValue<span class="token punctuation">;</span>
                <span class="token keyword">while</span> <span class="token punctuation">(</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    iValue <span class="token operator">=</span> items<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span>mapFn<span class="token punctuation">)</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">typeof</span> thisArg <span class="token operator">===</span> <span class="token string">'undefined'</span> <span class="token operator">?</span> <span class="token function">mapFn</span><span class="token punctuation">(</span>iValue<span class="token punctuation">,</span>i<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">mapFn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>thisArg<span class="token punctuation">,</span> iValue<span class="token punctuation">,</span> i<span class="token punctuation">)</span>
                    <span class="token keyword">else</span> 
                        arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> iValue
                    i<span class="token operator">++</span>
                <span class="token punctuation">}</span>
                arr<span class="token punctuation">.</span>length <span class="token operator">=</span> len
                <span class="token keyword">return</span> arr
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>ğŸ‘ä¸å¾—ä¸è¯´ï¼ŒæŠŠArray.from()å®ç°å‡ºæ¥åï¼Œå…¶å®æ”¶è·å¾ˆå¤šä¸œè¥¿çš„ã€‚</p> <hr> <h2 id="å¸¸è§æ–¹æ³•"><a href="#å¸¸è§æ–¹æ³•" class="header-anchor">#</a> å¸¸è§æ–¹æ³•</h2> <p>ä¸ºäº†ç®€å•è®°å¿†ï¼Œæ–¹ä¾¿æŸ¥æ‰¾ï¼Œå°†ä¸»è¦æ–¹æ³•åˆ†ä¸ºä¸‰ç±» : æ•°ç»„å¯éå†æ–¹æ³•ï¼Œä¼šä¿®æ”¹åŸæ•°ç»„æ–¹æ³•ï¼Œè¿”å›æ–°æ•°ç»„æ–¹æ³•ã€‚</p> <h3 id="éå†æ–¹æ³•"><a href="#éå†æ–¹æ³•" class="header-anchor">#</a> éå†æ–¹æ³•</h3> <p>jsä¸­éå†æ•°ç»„å¹¶ä¸ä¼šæ”¹å˜åŸå§‹æ•°ç»„çš„æ–¹æ³•æ€»å…±æœ‰12ä¸ª:</p> <div class="language-js extra-class"><pre class="language-js"><code> 	<span class="token constant">ES5</span>ï¼š
    forEachã€every ã€someã€ filterã€mapã€reduceã€reduceRightã€
    <span class="token constant">ES6</span>ï¼š
    findã€findIndexã€keysã€valuesã€entries
</code></pre></div><hr> <h4 id="foreach"><a href="#foreach" class="header-anchor">#</a> forEach()</h4> <p><strong>è¯­æ³•ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>    array<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token function">callback</span><span class="token punctuation">(</span>currentValue<span class="token punctuation">,</span> index<span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">,</span> thisArg<span class="token punctuation">)</span>
</code></pre></div><p><strong>å‚æ•°:</strong></p> <div class="language- extra-class"><pre class="language-text"><code> callback:ä¸ºæ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ æ‰§è¡Œçš„å‡½æ•°ï¼Œè¯¥å‡½æ•°æ¥æ”¶ä¸€è‡³ä¸‰ä¸ªå‚æ•°
 		  currentValue æ•°ç»„ä¸­æ­£åœ¨å¤„ç†çš„å½“å‰å…ƒç´ 
 		  index (å¯é€‰)  æ•°ç»„ä¸­æ­£åœ¨å¤„ç†çš„å½“å‰å…ƒç´ çš„ç´¢å¼•
 		  arr (å¯é€‰)    forEach() æ–¹æ³•æ­£åœ¨æ“ä½œçš„æ•°ç»„
 thisArg      å¯é€‰å‚æ•°,å½“æ‰§è¡Œå›è°ƒå‡½æ•°callback,ç”¨ä½œthiså€¼
</code></pre></div><p><strong>è®²ä¸€è®²thisArgç”¨æ³•å§</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Counter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Counter</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">array</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  array<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">entry</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>sum <span class="token operator">+=</span> entry<span class="token punctuation">;</span>
    <span class="token operator">++</span><span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ^---- Note</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Counter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span>count<span class="token punctuation">;</span>
<span class="token comment">// 3 === (1 + 1 + 1)</span>
obj<span class="token punctuation">.</span>sum<span class="token punctuation">;</span>
<span class="token comment">// 16 === (2 + 5 + 9)</span>
</code></pre></div><p>å¾ˆæ˜æ˜¾ï¼Œç¬¬9è¡Œä¸­ä¼ å…¥çš„thisï¼Œå†³å®šäº†forEachå›è°ƒå‡½æ•°ä¸­thisæŒ‡å‘çš„é—®é¢˜ã€‚</p> <p>ç¬¬14è¡Œï¼Œobjè°ƒç”¨äº†addæ–¹æ³•ï¼Œæ‰€ä»¥thisæŒ‡å‘çš„å°±æ˜¯objï¼Œä¹Ÿå°±æ˜¯forEachä¸­thisæŒ‡å‘çš„å°±æ˜¯objè¿™ä¸ªå¯¹è±¡äº†ã€‚</p> <blockquote><p>**æ³¨æ„ï¼š**å¦‚æœä½¿ç”¨<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/Arrow_functions" target="_blank" rel="noopener noreferrer">ç®­å¤´å‡½æ•°è¡¨è¾¾å¼<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>æ¥ä¼ å…¥å‡½æ•°å‚æ•°ï¼Œ <code>thisArg</code> å‚æ•°ä¼šè¢«å¿½ç•¥ï¼Œå› ä¸ºç®­å¤´å‡½æ•°åœ¨è¯æ³•ä¸Šç»‘å®šäº† <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/this" target="_blank" rel="noopener noreferrer"><code>this</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> å€¼</p></blockquote> <p>çœ‹çœ‹æºç v8ä¸­array.js<a href="https://github.com/v8/v8/blob/4.9-lkgr/src/js/array.js#L1258" target="_blank" rel="noopener noreferrer">ç¬¬1258è¡Œå¼€å§‹forEachä¹‹æ—…<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><strong>æˆ‘ä»¬è¯•ç€æ¨¡ä»¿å†™ä¸€ä¸ªï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>		<span class="token comment">/**
         * Array.prototype.forEach(callback, thisArg)
         * é™¤äº†æŠ›å‡ºå¼‚å¸¸å¤–,æ— æ³•ç»ˆæ­¢æˆ–è€…è·³å‡ºforEach()å¾ªç¯
         * éå†æ•°ç»„
         **/</span>
        <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myforEach</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">callback<span class="token punctuation">,</span> thisArg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">"this is null or not defined"</span><span class="token punctuation">)</span>
            <span class="token keyword">let</span> newArr <span class="token operator">=</span> <span class="token function">Object</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
            <span class="token keyword">let</span> len <span class="token operator">=</span> newArr<span class="token punctuation">.</span>length <span class="token operator">&gt;&gt;&gt;</span> <span class="token number">0</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token keyword">typeof</span> callback <span class="token operator">!==</span> <span class="token string">'function'</span> <span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span>callback <span class="token operator">+</span> <span class="token string">' is not a function'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">let</span> thatArg <span class="token operator">=</span> arguments<span class="token punctuation">.</span>length <span class="token operator">&gt;=</span> <span class="token number">2</span> <span class="token operator">?</span> arguments<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token keyword">void</span> <span class="token number">0</span>
            <span class="token keyword">let</span> k <span class="token operator">=</span> <span class="token number">0</span>

            <span class="token keyword">while</span><span class="token punctuation">(</span> k <span class="token operator">&lt;</span> len <span class="token punctuation">)</span> <span class="token punctuation">{</span>
                
                <span class="token keyword">if</span><span class="token punctuation">(</span>k <span class="token keyword">in</span> newArr<span class="token punctuation">)</span><span class="token punctuation">{</span> 
                    <span class="token function">callback</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>thatArg<span class="token punctuation">,</span> newArr<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">,</span> k<span class="token punctuation">,</span> newArr<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                k<span class="token operator">++</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> <span class="token keyword">void</span> <span class="token number">0</span>
        <span class="token punctuation">}</span>
</code></pre></div><p><strong>ä»ä»£ç è§’åº¦æ¥çœ‹ï¼Œä½ éœ€è¦æ³¨æ„çš„ç‚¹ï¼š</strong></p> <ul><li>æ— æ³•ä¸­é€”é€€å‡ºå¾ªç¯ï¼Œæ¯æ¬¡ä½ éƒ½æ˜¯è°ƒç”¨å›è°ƒå‡½æ•°çš„ï¼Œreturnåªèƒ½é€€å‡ºæœ¬æ¬¡å›è°ƒ</li> <li>è¯¥æ–¹æ³•è¿”å›çš„æ˜¯undefined, å³ä½¿ä½ return ä¸€ä¸ªå€¼ä¹Ÿæ²¡æœ‰ç”¨</li> <li>thisArgæ”¹å˜çš„æ˜¯å›è°ƒå‡½æ•°ä¸­çš„thisï¼Œä»æºç ä¸­å¯ä»¥çœ‹å‡ºæ¥ï¼Œè¿˜æœ‰å°±æ˜¯å¦‚æœå›è°ƒå‡½æ•°æ˜¯ç®­å¤´å‡½æ•°çš„è¯ï¼Œæˆ‘ä»¬çŸ¥é“ç®­å¤´å‡½æ•°æ˜¯æ— æ³•æ”¹å˜thisçš„ï¼Œæ‰€ä»¥ä¼šå¿½ç•¥thisArg</li></ul> <hr> <h4 id="every"><a href="#every" class="header-anchor">#</a> every()</h4> <p><strong>å®šä¹‰ï¼š</strong></p> <p>æµ‹è¯•ä¸€ä¸ªæ•°ç»„å†…çš„æ‰€æœ‰å…ƒç´ æ˜¯å¦éƒ½èƒ½é€šè¿‡æŸä¸ªæŒ‡å®šå‡½æ•°çš„æµ‹è¯•ã€‚å®ƒè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚</p> <p><strong>è¯­æ³•:</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>    array<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">currentValue<span class="token punctuation">,</span> index<span class="token punctuation">,</span> arr</span><span class="token punctuation">)</span><span class="token punctuation">,</span> thisArg<span class="token punctuation">)</span>
</code></pre></div><p><strong>å‚æ•°:</strong></p> <div class="language-markdown extra-class"><pre class="language-markdown"><code> callback:ä¸ºæ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ æ‰§è¡Œçš„å‡½æ•°ï¼Œè¯¥å‡½æ•°æ¥æ”¶ä¸€è‡³ä¸‰ä¸ªå‚æ•°
 		  currentValue æ•°ç»„ä¸­æ­£åœ¨å¤„ç†çš„å½“å‰å…ƒç´ 
 		  index (å¯é€‰)  æ•°ç»„ä¸­æ­£åœ¨å¤„ç†çš„å½“å‰å…ƒç´ çš„ç´¢å¼•
 		  arr (å¯é€‰)    every() æ–¹æ³•æ­£åœ¨æ“ä½œçš„æ•°ç»„
 thisArg      å¯é€‰å‚æ•°,å½“æ‰§è¡Œå›è°ƒå‡½æ•°callback,ç”¨ä½œthiså€¼
</code></pre></div><p><strong>ç”¨æ³•ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">isBigEnough</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> element <span class="token operator">&gt;=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">130</span><span class="token punctuation">,</span> <span class="token number">44</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span>isBigEnough<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// false</span>
<span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">54</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">130</span><span class="token punctuation">,</span> <span class="token number">44</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span>isBigEnough<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div><p><strong>çœ‹çœ‹æºç v8ä¸­array.js</strong><a href="https://github.com/v8/v8/blob/4.9-lkgr/src/js/array.js#L1322" target="_blank" rel="noopener noreferrer">ç¬¬1322è¡Œå¼€å§‹everyä¹‹æ—…<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-js extra-class"><pre class="language-js"><code>		<span class="token comment">/**
         * Array.prototype.every(callback, thisArg)
         **/</span>
        <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myevery</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">callback<span class="token punctuation">,</span> thisArg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">"this is null or not defined"</span><span class="token punctuation">)</span>
            <span class="token keyword">let</span> newArr <span class="token operator">=</span> <span class="token function">Object</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
            <span class="token keyword">let</span> len <span class="token operator">=</span> newArr<span class="token punctuation">.</span>length <span class="token operator">&gt;&gt;&gt;</span> <span class="token number">0</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token keyword">typeof</span> callback <span class="token operator">!==</span> <span class="token string">'function'</span> <span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span>callback <span class="token operator">+</span> <span class="token string">' is not a function'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">let</span> thatArg <span class="token operator">=</span> arguments<span class="token punctuation">.</span>length <span class="token operator">&gt;=</span> <span class="token number">2</span> <span class="token operator">?</span> arguments<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token keyword">void</span> <span class="token number">0</span>
            <span class="token keyword">let</span> k <span class="token operator">=</span> <span class="token number">0</span>

            <span class="token keyword">while</span><span class="token punctuation">(</span> k <span class="token operator">&lt;</span> len <span class="token punctuation">)</span> <span class="token punctuation">{</span>
                
                <span class="token keyword">if</span><span class="token punctuation">(</span>k <span class="token keyword">in</span> newArr<span class="token punctuation">)</span><span class="token punctuation">{</span> 
                    <span class="token keyword">let</span> testResult <span class="token operator">=</span> <span class="token function">callback</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>thatArg<span class="token punctuation">,</span> newArr<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">,</span> k<span class="token punctuation">,</span> newArr<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token operator">!</span>testResult <span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span>
                <span class="token punctuation">}</span>
                k<span class="token operator">++</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
</code></pre></div><p><strong>ä»ä»£ç è§’åº¦æ¥çœ‹ï¼Œä½ éœ€è¦æ³¨æ„çš„ç‚¹ï¼š</strong></p> <ul><li>ç©ºæ•°ç»„çš„æƒ…å†µä¸‹ï¼Œåªè¦ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å›è°ƒå‡½æ•°ï¼Œä¸€åˆ‡æƒ…å†µè¿”å›ä¸ºtrue</li> <li>è¦æ¯æ¬¡è¿”å›å€¼éƒ½ä¸ºtrue,æœ€åè¿”å›true,å¦åˆ™ä¸ºfalse</li> <li>å¦‚æœthisArgå‚æ•°çš„è¯ï¼Œåˆ™<code>callback</code> è¢«è°ƒç”¨æ—¶çš„ <code>this</code> å€¼ï¼Œåœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹ä¸ºå…¨å±€å¯¹è±¡ï¼Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ä¼ å…¥ <code>undefined</code>ï¼Œè¯¦è§ <code>this</code> æ¡ç›®ã€‚</li> <li>everyä¸ä¼šæ”¹å˜åŸæ•°ç»„</li> <li><code>every</code> éå†çš„å…ƒç´ èŒƒå›´åœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨ <code>callback</code> ä¹‹å‰å°±å·²ç¡®å®šäº†ã€‚åœ¨è°ƒç”¨ <code>every</code> ä¹‹åæ·»åŠ åˆ°æ•°ç»„ä¸­çš„å…ƒç´ ä¸ä¼šè¢« <code>callback</code> è®¿é—®åˆ°ã€‚å¦‚æœæ•°ç»„ä¸­å­˜åœ¨çš„å…ƒç´ è¢«æ›´æ”¹ï¼Œåˆ™ä»–ä»¬ä¼ å…¥ <code>callback</code> çš„å€¼æ˜¯ <code>every</code> è®¿é—®åˆ°ä»–ä»¬é‚£ä¸€åˆ»çš„å€¼ã€‚é‚£äº›è¢«åˆ é™¤çš„å…ƒç´ æˆ–ä»æ¥æœªè¢«èµ‹å€¼çš„å…ƒç´ å°†ä¸ä¼šè¢«è®¿é—®åˆ°ã€‚</li></ul> <hr> <h4 id="some"><a href="#some" class="header-anchor">#</a> some</h4> <p><strong>å®šä¹‰ï¼š</strong></p> <p>æµ‹è¯•æ•°ç»„ä¸­æ˜¯ä¸æ˜¯è‡³å°‘æœ‰1ä¸ªå…ƒç´ é€šè¿‡äº†è¢«æä¾›çš„å‡½æ•°æµ‹è¯•ã€‚å®ƒè¿”å›çš„æ˜¯ä¸€ä¸ªBooleanç±»å‹çš„å€¼</p> <p><strong>è¯­æ³•:</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>    array<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">currentValue<span class="token punctuation">,</span> index<span class="token punctuation">,</span> arr</span><span class="token punctuation">)</span><span class="token punctuation">,</span> thisArg<span class="token punctuation">)</span>
</code></pre></div><p><strong>å‚æ•°:</strong></p> <div class="language-markdown extra-class"><pre class="language-markdown"><code> callback:ä¸ºæ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ æ‰§è¡Œçš„å‡½æ•°ï¼Œè¯¥å‡½æ•°æ¥æ”¶ä¸€è‡³ä¸‰ä¸ªå‚æ•°
 		  currentValue æ•°ç»„ä¸­æ­£åœ¨å¤„ç†çš„å½“å‰å…ƒç´ 
 		  index (å¯é€‰)  æ•°ç»„ä¸­æ­£åœ¨å¤„ç†çš„å½“å‰å…ƒç´ çš„ç´¢å¼•
 		  arr (å¯é€‰)    some() æ–¹æ³•æ­£åœ¨æ“ä½œçš„æ•°ç»„
 thisArg      å¯é€‰å‚æ•°,å½“æ‰§è¡Œå›è°ƒå‡½æ•°callback,ç”¨ä½œthiså€¼
</code></pre></div><p><strong>ç”¨æ³•ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">isBiggerThan10</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> element <span class="token operator">&gt;</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span>isBiggerThan10<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// false</span>
<span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span>isBiggerThan10<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token comment">//æ­¤ä¾‹ä¸­ä¸ºæ¨¡ä»¿ includes()  æ–¹æ³•, è‹¥å…ƒç´ åœ¨æ•°ç»„ä¸­å­˜åœ¨, åˆ™å›è°ƒå‡½æ•°è¿”å›å€¼ä¸º true :</span>
<span class="token keyword">var</span> fruits <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'apple'</span><span class="token punctuation">,</span> <span class="token string">'banana'</span><span class="token punctuation">,</span> <span class="token string">'mango'</span><span class="token punctuation">,</span> <span class="token string">'guava'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">checkAvailability</span><span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">arrVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> val <span class="token operator">===</span> arrVal<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">checkAvailability</span><span class="token punctuation">(</span>fruits<span class="token punctuation">,</span> <span class="token string">'kela'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// false</span>
<span class="token function">checkAvailability</span><span class="token punctuation">(</span>fruits<span class="token punctuation">,</span> <span class="token string">'banana'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div><p><strong>çœ‹çœ‹æºç v8ä¸­array.js</strong><a href="https://github.com/v8/v8/blob/4.9-lkgr/src/js/array.js#L1298" target="_blank" rel="noopener noreferrer">ç¬¬1298è¡Œå¼€å§‹someä¹‹æ—…<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-js extra-class"><pre class="language-js"><code>		<span class="token comment">/**
         * æµ‹è¯•æ•°ç»„ä¸­æ˜¯ä¸æ˜¯è‡³å°‘æœ‰1ä¸ªå…ƒç´ é€šè¿‡äº†è¢«æä¾›çš„å‡½æ•°æµ‹è¯•
         * Array.prototype.some(callback, thisArg)
         **/</span>
        <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">mysome</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">callback<span class="token punctuation">,</span> thisArg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">"this is null or not defined"</span><span class="token punctuation">)</span>
            <span class="token keyword">let</span> newArr <span class="token operator">=</span> <span class="token function">Object</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
            <span class="token keyword">let</span> len <span class="token operator">=</span> newArr<span class="token punctuation">.</span>length <span class="token operator">&gt;&gt;&gt;</span> <span class="token number">0</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> callback <span class="token operator">!==</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span>callback <span class="token operator">+</span> <span class="token string">' is not a function'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">let</span> thatArg <span class="token operator">=</span> arguments<span class="token punctuation">.</span>length <span class="token operator">&gt;=</span> <span class="token number">2</span> <span class="token operator">?</span> arguments<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token keyword">void</span> <span class="token number">0</span>

            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token keyword">in</span> newArr <span class="token operator">&amp;&amp;</span> <span class="token function">callback</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>thatArg<span class="token punctuation">,</span> newArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> newArr<span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token keyword">return</span> <span class="token boolean">true</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span>
</code></pre></div><p><strong>ä»ä»£ç è§’åº¦æ¥çœ‹ï¼Œä½ éœ€è¦æ³¨æ„çš„ç‚¹ï¼š</strong></p> <ul><li>someä¸ä¼šæ”¹å˜åŸæ•°ç»„</li> <li>å¦‚æœç”¨ä¸€ä¸ªç©ºæ•°ç»„è¿›è¡Œæµ‹è¯•ï¼Œåœ¨ä»»ä½•æƒ…å†µä¸‹å®ƒè¿”å›çš„éƒ½æ˜¯<code>false</code></li> <li>å¦‚æœä½ å›è°ƒå‡½æ•°æ²¡æœ‰è¿”å›å€¼ï¼Œæ¯æ¬¡éƒ½æ˜¯undefinedï¼Œæœ€åè°ƒç”¨someç»“æœè¿”å›ä¹Ÿæ˜¯<code>false</code></li> <li>ä¼ å…¥thisArgï¼Œå›è°ƒå‡½æ•°ä¸­çš„thiså€¼ï¼Œå–å†³äºthisæŒ‡å‘è§„åˆ™ã€‚</li></ul> <hr> <h4 id="filter"><a href="#filter" class="header-anchor">#</a> filter</h4> <p><strong>å®šä¹‰ï¼š</strong></p> <p>åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„, å…¶åŒ…å«é€šè¿‡æ‰€æä¾›å‡½æ•°å®ç°çš„æµ‹è¯•çš„æ‰€æœ‰å…ƒç´ ã€‚</p> <p><strong>è¯­æ³•:</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> newArray <span class="token operator">=</span> array<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">currentValue<span class="token punctuation">,</span> index<span class="token punctuation">,</span> arr</span><span class="token punctuation">)</span><span class="token punctuation">,</span> thisArg<span class="token punctuation">)</span>
</code></pre></div><p><strong>å‚æ•°:</strong></p> <div class="language-markdown extra-class"><pre class="language-markdown"><code> callback:ä¸ºæ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ æ‰§è¡Œçš„å‡½æ•°ï¼Œè¯¥å‡½æ•°æ¥æ”¶ä¸€è‡³ä¸‰ä¸ªå‚æ•°
 		  currentValue æ•°ç»„ä¸­æ­£åœ¨å¤„ç†çš„å½“å‰å…ƒç´ 
 		  index (å¯é€‰)  æ•°ç»„ä¸­æ­£åœ¨å¤„ç†çš„å½“å‰å…ƒç´ çš„ç´¢å¼•
 		  arr (å¯é€‰)    filter() æ–¹æ³•æ­£åœ¨æ“ä½œçš„æ•°ç»„
 thisArg      å¯é€‰å‚æ•°,å½“æ‰§è¡Œå›è°ƒå‡½æ•°callback,ç”¨ä½œthiså€¼
</code></pre></div><p><strong>ç”¨æ³•ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">isBigEnough</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> element <span class="token operator">&gt;=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> filtered <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">130</span><span class="token punctuation">,</span> <span class="token number">44</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>isBigEnough<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// filtered is [12, 130, 44] </span>

<span class="token keyword">var</span> fruits <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'apple'</span><span class="token punctuation">,</span> <span class="token string">'banana'</span><span class="token punctuation">,</span> <span class="token string">'grapes'</span><span class="token punctuation">,</span> <span class="token string">'mango'</span><span class="token punctuation">,</span> <span class="token string">'orange'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * Array filters items based on search criteria (query)
 */</span>
<span class="token keyword">function</span> <span class="token function">filterItems</span><span class="token punctuation">(</span><span class="token parameter">query</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> fruits<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> el<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>query<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">filterItems</span><span class="token punctuation">(</span><span class="token string">'ap'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['apple', 'grapes']</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">filterItems</span><span class="token punctuation">(</span><span class="token string">'an'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['banana', 'mango', 'orange']</span>
</code></pre></div><p><strong>çœ‹çœ‹æºç v8ä¸­array.js</strong><a href="https://github.com/v8/v8/blob/4.9-lkgr/src/js/array.js#L1245" target="_blank" rel="noopener noreferrer">ç¬¬1245è¡Œå¼€å§‹filterä¹‹æ—…<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
         * åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„, å…¶åŒ…å«é€šè¿‡æ‰€æä¾›å‡½æ•°å®ç°çš„æµ‹è¯•çš„æ‰€æœ‰å…ƒç´ ã€‚ 
         * Array.prototype.filter(callback, thisArg)
         *
         */</span>
        <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myfilter</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">callback<span class="token punctuation">,</span> thisArg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">"this is null or not defined"</span><span class="token punctuation">)</span>
            <span class="token keyword">let</span> newArr <span class="token operator">=</span> <span class="token function">Object</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
            <span class="token keyword">let</span> len <span class="token operator">=</span> newArr<span class="token punctuation">.</span>length <span class="token operator">&gt;&gt;&gt;</span> <span class="token number">0</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> callback <span class="token operator">!==</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span>callback <span class="token operator">+</span> <span class="token string">' is not a function'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">let</span> thatArg <span class="token operator">=</span> arguments<span class="token punctuation">.</span>length <span class="token operator">&gt;=</span> <span class="token number">2</span> <span class="token operator">?</span> arguments<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token keyword">void</span> <span class="token number">0</span><span class="token punctuation">,</span>
                resultArr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">,</span>
                count <span class="token operator">=</span> <span class="token number">0</span>

            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token keyword">in</span> newArr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> thatArg <span class="token operator">===</span> <span class="token string">'undefined'</span> <span class="token operator">&amp;&amp;</span> <span class="token function">callback</span><span class="token punctuation">(</span>newArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> newArr<span class="token punctuation">)</span><span class="token punctuation">)</span> 
                        resultArr<span class="token punctuation">[</span>count<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> newArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> thatArg <span class="token operator">!==</span> <span class="token string">'undefined'</span> <span class="token operator">&amp;&amp;</span> <span class="token function">callback</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>thatArg<span class="token punctuation">,</span> newArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> newArr<span class="token punctuation">)</span><span class="token punctuation">)</span> 
                        resultArr<span class="token punctuation">[</span>count<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> newArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            resultArr<span class="token punctuation">.</span>length <span class="token operator">=</span> count
            <span class="token keyword">return</span> resultArr
        <span class="token punctuation">}</span>
</code></pre></div><p><strong>ä»ä»£ç è§’åº¦æ¥çœ‹ï¼Œä½ éœ€è¦æ³¨æ„çš„ç‚¹ï¼š</strong></p> <ul><li>è‡ªå®šä¹‰å›è°ƒå‡½æ•°è¦æœ‰Booleanè¿”å›å€¼ï¼Œä¸å†™é»˜è®¤è¿”å›undefinedï¼Œåˆ™è½¬Booleanä¸ºfalse</li> <li>ä¸ä¼šä¿®æ”¹åŸå§‹æ•°ç»„ï¼Œä½†æ˜¯ä¼šè¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼ŒåŒ…å«é€šè¿‡æ‰€æä¾›å‡½æ•°å®ç°çš„æµ‹è¯•æ‰€ä»¥å…ƒç´ </li> <li>æ²¡æœ‰ä»»ä½•å…ƒç´ é€šè¿‡çš„è¯ï¼Œè¿”å›ç©ºæ•°ç»„</li> <li><code>filter</code> ä¸ä¼šæ”¹å˜åŸæ•°ç»„ï¼Œå®ƒè¿”å›è¿‡æ»¤åçš„æ–°æ•°ç»„</li> <li><code>filter</code> éå†çš„å…ƒç´ èŒƒå›´åœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨ <code>callback</code> ä¹‹å‰å°±å·²ç»ç¡®å®šäº†ã€‚åœ¨è°ƒç”¨ <code>filter</code> ä¹‹åè¢«æ·»åŠ åˆ°æ•°ç»„ä¸­çš„å…ƒç´ ä¸ä¼šè¢« <code>filter</code> éå†åˆ°ã€‚å¦‚æœå·²ç»å­˜åœ¨çš„å…ƒç´ è¢«æ”¹å˜äº†ï¼Œåˆ™ä»–ä»¬ä¼ å…¥ <code>callback</code> çš„å€¼æ˜¯ <code>filter</code> éå†åˆ°å®ƒä»¬é‚£ä¸€åˆ»çš„å€¼ã€‚è¢«åˆ é™¤æˆ–ä»æ¥æœªè¢«èµ‹å€¼çš„å…ƒç´ ä¸ä¼šè¢«éå†åˆ°ã€‚</li> <li>å¦‚æœä¸º <code>filter</code> æä¾›ä¸€ä¸ª <code>thisArg</code> å‚æ•°ï¼Œåˆ™å®ƒä¼šè¢«ä½œä¸º <code>callback</code> è¢«è°ƒç”¨æ—¶çš„ <code>this</code> å€¼ã€‚å¦åˆ™ï¼Œ<code>callback</code> çš„ <code>this</code> å€¼åœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹å°†æ˜¯å…¨å±€å¯¹è±¡ï¼Œä¸¥æ ¼æ¨¡å¼ä¸‹ä¸º <code>undefined</code>ã€‚<code>callback</code> å‡½æ•°æœ€ç»ˆè§‚å¯Ÿåˆ°çš„ <code>this</code> å€¼æ˜¯æ ¹æ®é€šå¸¸<strong>å‡½æ•°æ‰€çœ‹åˆ°çš„ "this"çš„è§„åˆ™</strong>ç¡®å®šçš„ã€‚</li> <li>ç‰¹åˆ«æ³¨æ„ç®­å¤´å‡½æ•°ä¸­thisæŒ‡å‘</li></ul> <hr> <h4 id="map"><a href="#map" class="header-anchor">#</a> map</h4> <p><strong>å®šä¹‰ï¼š</strong></p> <p>åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼Œå…¶ç»“æœæ˜¯è¯¥æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ æ˜¯è°ƒç”¨ä¸€æ¬¡æä¾›çš„å›è°ƒå‡½æ•°åçš„è¿”å›å€¼ã€‚</p> <p><strong>è¯­æ³•:</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> newArray <span class="token operator">=</span> array<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">currentValue<span class="token punctuation">,</span> index<span class="token punctuation">,</span> arr</span><span class="token punctuation">)</span><span class="token punctuation">,</span> thisArg<span class="token punctuation">)</span>
</code></pre></div><p><strong>å‚æ•°:</strong></p> <div class="language-markdown extra-class"><pre class="language-markdown"><code> callback:ä¸ºæ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ æ‰§è¡Œçš„å‡½æ•°ï¼Œè¯¥å‡½æ•°æ¥æ”¶ä¸€è‡³ä¸‰ä¸ªå‚æ•°
 		  currentValue æ•°ç»„ä¸­æ­£åœ¨å¤„ç†çš„å½“å‰å…ƒç´ 
 		  index (å¯é€‰)  æ•°ç»„ä¸­æ­£åœ¨å¤„ç†çš„å½“å‰å…ƒç´ çš„ç´¢å¼•
 		  arr (å¯é€‰)    map() æ–¹æ³•æ­£åœ¨æ“ä½œçš„æ•°ç»„
 thisArg      å¯é€‰å‚æ•°,å½“æ‰§è¡Œå›è°ƒå‡½æ•°callback,ç”¨ä½œthiså€¼
</code></pre></div><p><strong>ç”¨æ³•ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ çš„å¹³æ–¹æ ¹</span>
<span class="token keyword">var</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> roots <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span>sqrt<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// rootsçš„å€¼ä¸º[1, 2, 3], numbersçš„å€¼ä»ä¸º[1, 4, 9]</span>

<span class="token keyword">var</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> doubles <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> num <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// doublesæ•°ç»„çš„å€¼ä¸ºï¼š [2, 8, 18]</span>
<span class="token comment">// numbersæ•°ç»„æœªè¢«ä¿®æ”¹ï¼š [1, 4, 9]</span>

<span class="token comment">//æ¼”ç¤ºå¦‚ä½•åœ¨ä¸€ä¸ª String  ä¸Šä½¿ç”¨ map æ–¹æ³•è·å–å­—ç¬¦ä¸²ä¸­æ¯ä¸ªå­—ç¬¦æ‰€å¯¹åº”çš„ ASCII ç ç»„æˆçš„æ•°ç»„ï¼š</span>
<span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>map
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token function">map</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">"Hello World"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
  <span class="token keyword">return</span> x<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// açš„å€¼ä¸º[72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100]</span>
</code></pre></div><p><strong>çœ‹çœ‹æºç v8ä¸­array.js</strong><a href="https://github.com/v8/v8/blob/4.9-lkgr/src/js/array.js#L1333" target="_blank" rel="noopener noreferrer">ç¬¬1333è¡Œå¼€å§‹mapä¹‹æ—…<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
         * ä¸€ä¸ªç”±åŸæ•°ç»„æ¯ä¸ªå…ƒç´ æ‰§è¡Œå›è°ƒå‡½æ•°çš„ç»“æœç»„æˆçš„æ–°æ•°ç»„ 
         * Array.prototype.map(callback, thisArg)
         *
         */</span>
        <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">mymap</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">callback<span class="token punctuation">,</span> thisArg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">"this is null or not defined"</span><span class="token punctuation">)</span>
            <span class="token keyword">let</span> newArr <span class="token operator">=</span> <span class="token function">Object</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
            <span class="token keyword">let</span> len <span class="token operator">=</span> newArr<span class="token punctuation">.</span>length <span class="token operator">&gt;&gt;&gt;</span> <span class="token number">0</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> callback <span class="token operator">!==</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span>callback <span class="token operator">+</span> <span class="token string">' is not a function'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">let</span> thatArg <span class="token operator">=</span> arguments<span class="token punctuation">.</span>length <span class="token operator">&gt;=</span> <span class="token number">2</span> <span class="token operator">?</span> arguments<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token keyword">void</span> <span class="token number">0</span><span class="token punctuation">,</span>
                resultArr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">,</span>
                mappedValue

            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token keyword">in</span> newArr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token comment">// å¯èƒ½ä¼šæœ‰ç–‘æƒ‘çš„åœ°æ–¹</span>
                    mappedValue <span class="token operator">=</span> <span class="token function">callback</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>thatArg<span class="token punctuation">,</span> newArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> newArr<span class="token punctuation">)</span>
                    resultArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> mappedValue
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> resultArr
        <span class="token punctuation">}</span>
</code></pre></div><p>å¯èƒ½æœ‰ç–‘æƒ‘çš„åœ°æ–¹å°±æ˜¯ç¬¬17è¡Œäº†å§ï¼Œä¸ºä»€ä¹ˆå¯ä»¥ç›´æ¥å†™è¿™æ ·å­ï¼Œä¸éœ€è¦è€ƒè™‘thisArgä¸ºvoid 0çš„æƒ…å†µï¼Œæˆ‘å½“æ—¶æ˜¯è€ƒè™‘åˆ†æƒ…å†µè€ƒè™‘çš„ï¼Œä½†æ˜¯åé¢æƒ³ä¸€æƒ³ï¼Œå“ªæ€•æ˜¯undefinedå€¼ï¼Œä½ mapæ‰§è¡Œçš„æ˜¯å›è°ƒå‡½æ•°ï¼Œå›è°ƒå‡½æ•°çš„thiså–å€¼ï¼Œéä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œæ˜¯windowï¼Œ</p> <div class="language-js extra-class"><pre class="language-js"><code>		<span class="token keyword">var</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> doubles <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>    <span class="token comment">// window</span>
            <span class="token keyword">return</span> num <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">void</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>ğŸ‘†åœ¨æ§åˆ¶å°è¿è¡Œä»£ç ï¼Œä½ ä¼šå‘ç°ä¼ å…¥thisArgï¼Œå½“å€¼ä¸ºundefinedæ—¶ï¼Œç»“æœè¿˜æ˜¯windowï¼Œä¸¥æ ¼æ¨¡å¼ä¸‹å½“ç„¶å°±æ˜¯undefinedäº†ï¼Œè¿™ä¸ªç•™ç»™è¯»è€…å»æ€è€ƒ</p> <p><strong>ä»ä»£ç è§’åº¦æ¥çœ‹ï¼Œä½ éœ€è¦æ³¨æ„çš„ç‚¹ï¼š</strong></p> <ul><li><code>map</code>ä¸ä¿®æ”¹è°ƒç”¨å®ƒçš„åŸæ•°ç»„æœ¬èº«ï¼ˆå½“ç„¶å¯ä»¥åœ¨ <code>callback</code> æ‰§è¡Œæ—¶æ”¹å˜åŸæ•°ç»„ï¼‰</li> <li>å›è°ƒå‡½æ•°ä¸è¿”å›å€¼æ—¶ï¼Œæœ€åæ–°æ•°ç»„çš„æ¯ä¸ªå€¼éƒ½ä¸ºundefined</li> <li><code>this</code>çš„å€¼æœ€ç»ˆç›¸å¯¹äº<code>callback</code>å‡½æ•°çš„å¯è§‚å¯Ÿæ€§æ˜¯ä¾æ®<code>this</code>è§„åˆ™ï¼Œä¹Ÿå°±æ˜¯thisæŒ‡å‘é—®é¢˜</li> <li>å› ä¸º<code>map</code>ç”Ÿæˆä¸€ä¸ªæ–°æ•°ç»„ï¼Œå½“ä½ ä¸æ‰“ç®—ä½¿ç”¨è¿”å›çš„æ–°æ•°ç»„å´ä½¿ç”¨<code>map</code>æ˜¯è¿èƒŒè®¾è®¡åˆè¡·çš„ï¼Œè¯·ç”¨<code>forEach</code>æˆ–è€…<code>for-of</code>æ›¿ä»£ã€‚</li> <li><code>map</code> æ–¹æ³•å¤„ç†æ•°ç»„å…ƒç´ çš„èŒƒå›´æ˜¯åœ¨ <code>callback</code> æ–¹æ³•ç¬¬ä¸€æ¬¡è°ƒç”¨ä¹‹å‰å°±å·²ç»ç¡®å®šäº†ã€‚è°ƒç”¨<code>map</code>æ–¹æ³•ä¹‹åè¿½åŠ çš„æ•°ç»„å…ƒç´ ä¸ä¼šè¢«<code>callback</code>è®¿é—®ã€‚å¦‚æœå­˜åœ¨çš„æ•°ç»„å…ƒç´ æ”¹å˜äº†ï¼Œé‚£ä¹ˆä¼ ç»™<code>callback</code>çš„å€¼æ˜¯<code>map</code>è®¿é—®è¯¥å…ƒç´ æ—¶çš„å€¼ã€‚</li></ul> <hr> <h4 id="reduce"><a href="#reduce" class="header-anchor">#</a> reduce</h4> <p><strong>å®šä¹‰ï¼š</strong></p> <p>å¯¹æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ æ‰§è¡Œä¸€ä¸ªç”±æ‚¨æä¾›çš„<strong>reducer</strong>å‡½æ•°(å‡åºæ‰§è¡Œ)ï¼Œå°†å…¶ç»“æœæ±‡æ€»ä¸ºå•ä¸ªè¿”å›å€¼ã€‚</p> <p><strong>è¯­æ³•:</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> result <span class="token operator">=</span> array<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token function">callback</span><span class="token punctuation">(</span>accumulator<span class="token punctuation">,</span> currentValue<span class="token punctuation">,</span> currentIndex<span class="token punctuation">,</span> array<span class="token punctuation">)</span><span class="token punctuation">,</span> initialValue<span class="token punctuation">)</span>
</code></pre></div><p><strong>å‚æ•°:</strong></p> <div class="language-markdown extra-class"><pre class="language-markdown"><code> callback:ä¸ºæ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ æ‰§è¡Œçš„å‡½æ•°ï¼Œè¯¥å‡½æ•°æ¥æ”¶ä¸€è‡³4ä¸ªå‚æ•°
 		    accumulator ç´¯è®¡å™¨
			currentValue å½“å‰å€¼
			currentIndex å½“å‰ç´¢å¼•
			array æ•°ç»„
 initialValue      
ä½œä¸ºç¬¬ä¸€æ¬¡è°ƒç”¨ callbackå‡½æ•°æ—¶çš„ç¬¬ä¸€ä¸ªå‚æ•°çš„å€¼ã€‚ å¦‚æœæ²¡æœ‰æä¾›åˆå§‹å€¼ï¼Œåˆ™å°†ä½¿ç”¨æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚ åœ¨æ²¡æœ‰åˆå§‹å€¼çš„ç©ºæ•°ç»„ä¸Šè°ƒç”¨ reduce å°†æŠ¥é”™ã€‚
</code></pre></div><p><strong>ç”¨æ³•ï¼š</strong></p> <p>ç”¨ä¾‹çš„åªæ˜¯ç®€å•ç”¨æ³•ï¼Œæ›´å¤šçš„reduceé«˜çº§ç”¨æ³•ï¼Œæœ€åæœ‰å‚è€ƒé“¾æ¥ğŸ‘‡</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> t <span class="token operator">+</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ç­‰åŒäº</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> t <span class="token operator">+</span> v<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>çœ‹çœ‹gifåŠ¨å›¾æ€ä¹ˆè§£é‡Šçš„ğŸ‘‡</p> <p><img src="https://s.poetries.top/gitee/2020/09/24.png" alt=""></p> <p>è¿™å¯èƒ½æ˜¯æœ€ç®€å•çš„ç”¨æ³•äº†ï¼Œä¸‹é¢å‘æ•£ä¸€ä¸‹æ€ç»´ğŸ˜¼</p> <div class="language- extra-class"><pre class="language-text"><code>// åŠŸèƒ½å‹å‡½æ•°é€šé“
const double = x =&gt; x + x;
const triple = x =&gt; 3 * x;
const quadruple = x =&gt; 4 * x;

// Function composition enabling pipe functionality
const pipe = (...functions) =&gt; input =&gt; functions.reduce(
    (acc, fn) =&gt; fn(acc),
    input
);

// Composed functions for multiplication of specific values
const multiply6 = pipe(double, triple);
const multiply9 = pipe(triple, triple);
const multiply16 = pipe(quadruple, quadruple);
const multiply24 = pipe(double, triple, quadruple);

// Usage
multiply6(6); // 36
multiply9(9); // 81
multiply16(16); // 256
multiply24(10); // 240
</code></pre></div><p>æœ‰æ—¶å€™ï¼Œç”¨å¥½reduceçœŸçš„æ˜¯ä½¿å¼€å‘å˜å¾—é«˜æ•ˆèµ·æ¥âœŠ</p> <p>çœ‹çœ‹æºç v8ä¸­array.js**<a href="https://github.com/v8/v8/blob/4.9-lkgr/src/js/array.js#L1505" target="_blank" rel="noopener noreferrer">ç¬¬1505è¡Œå¼€å§‹reduceä¹‹æ—…<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
         * å¯¹æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ æ‰§è¡Œä¸€ä¸ªç”±æ‚¨æä¾›çš„reducerå‡½æ•°(å‡åºæ‰§è¡Œ)ï¼Œå°†å…¶ç»“æœæ±‡æ€»ä¸ºå•ä¸ªè¿”å›å€¼
         * Array.prototype.reduce(callback, initialValue)
         *
         */</span>
        <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myreduce</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>callback <span class="token comment">/*, initialValue*/</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">"this is null or not defined"</span><span class="token punctuation">)</span>
            <span class="token keyword">let</span> newArr <span class="token operator">=</span> <span class="token function">Object</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
            <span class="token keyword">let</span> len <span class="token operator">=</span> newArr<span class="token punctuation">.</span>length <span class="token operator">&gt;&gt;&gt;</span> <span class="token number">0</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> callback <span class="token operator">!==</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span>callback <span class="token operator">+</span> <span class="token string">' is not a function'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">let</span> initialValue<span class="token punctuation">,</span>
                k <span class="token operator">=</span> <span class="token number">0</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>arguments<span class="token punctuation">.</span>length <span class="token operator">&gt;=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                initialValue <span class="token operator">=</span> arguments<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token keyword">while</span> <span class="token punctuation">(</span>k <span class="token operator">&lt;</span> len <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token punctuation">(</span>k <span class="token keyword">in</span> newArr<span class="token punctuation">)</span><span class="token punctuation">)</span>
                    k<span class="token operator">++</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>k <span class="token operator">&gt;=</span> len<span class="token punctuation">)</span>
                    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">'Reduce of empty array with no initial value'</span><span class="token punctuation">)</span>
                initialValue <span class="token operator">=</span> newArr<span class="token punctuation">[</span>k<span class="token operator">++</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> k<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token keyword">in</span> newArr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    initialValue <span class="token operator">=</span> <span class="token function">callback</span><span class="token punctuation">(</span>initialValue<span class="token punctuation">,</span> newArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> newArr<span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> initialValue
        <span class="token punctuation">}</span>
</code></pre></div><p><strong>ä»ä»£ç è§’åº¦æ¥çœ‹ï¼Œä½ éœ€è¦æ³¨æ„çš„ç‚¹ï¼š</strong></p> <ul><li>å›è°ƒå‡½æ•°ç¬¬ä¸€æ¬¡æ‰§è¡Œæ—¶ï¼Œ<code>accumulator</code> å’Œ<code>currentValue</code>çš„å–å€¼æœ‰ä¸¤ç§æƒ…å†µï¼šå¦‚æœè°ƒç”¨<code>reduce()</code>æ—¶æä¾›äº†<code>initialValue</code>ï¼Œ<code>accumulator</code>å–å€¼ä¸º<code>initialValue</code>ï¼Œ<code>currentValue</code>å–æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå€¼ï¼›å¦‚æœæ²¡æœ‰æä¾› <code>initialValue</code>ï¼Œé‚£ä¹ˆ<code>accumulator</code>å–æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå€¼ï¼Œ<code>currentValue</code>å–æ•°ç»„ä¸­çš„ç¬¬äºŒä¸ªå€¼ã€‚</li> <li>å¦‚æœæ²¡æœ‰æä¾›<code>initialValue</code>ï¼Œreduce ä¼šä»ç´¢å¼•1çš„åœ°æ–¹å¼€å§‹æ‰§è¡Œ callback æ–¹æ³•ï¼Œè·³è¿‡ç¬¬ä¸€ä¸ªç´¢å¼•ã€‚å¦‚æœæä¾›<code>initialValue</code>ï¼Œä»ç´¢å¼•0å¼€å§‹ã€‚</li> <li>å¦‚æœæ•°ç»„ä¸ºç©ºä¸”æ²¡æœ‰æä¾›<code>initialValue</code>ï¼Œä¼šæŠ›å‡º<a href=""><code>TypeError</code></a> ã€‚</li> <li>å¦‚æœæ•°ç»„ä»…æœ‰ä¸€ä¸ªå…ƒç´ ï¼ˆæ— è®ºä½ç½®å¦‚ä½•ï¼‰å¹¶ä¸”æ²¡æœ‰æä¾›<code>initialValue</code>ï¼Œ æˆ–è€…æœ‰æä¾›<code>initialValue</code>ä½†æ˜¯æ•°ç»„ä¸ºç©ºï¼Œé‚£ä¹ˆæ­¤å”¯ä¸€å€¼å°†è¢«è¿”å›å¹¶ä¸”<code>callback</code>ä¸ä¼šè¢«æ‰§è¡Œã€‚</li></ul> <p>reduceåŠŸèƒ½å¤ªå¼ºå¤§äº†ï¼Œæœ‰å…´è¶£çš„äººï¼Œå¯ä»¥å¥½å¥½å»äº†è§£ä¸€ä¸‹âœŠ</p> <p>å½“ç„¶äº†ï¼Œæœ‰äº†è¿™æ¬¡ä»£ç çš„è§£æï¼Œç›¸ä¿¡ä½ å¯¹reduceæœ‰äº†æ›´æ·±çš„è®¤è¯†</p> <hr> <h4 id="reduceright"><a href="#reduceright" class="header-anchor">#</a> reduceRight</h4> <p>ä»å³å‘å·¦ç´¯åŠ ï¼Œè·Ÿreduceç›¸ä¼¼ï¼Œæºç çš„å®ç°è‡ªç„¶å°±ä¼šäº†âœ</p> <p><strong>å®šä¹‰ï¼š</strong></p> <p>æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºç´¯åŠ å™¨ï¼ˆaccumulatorï¼‰å’Œæ•°ç»„çš„æ¯ä¸ªå€¼ï¼ˆä»å³åˆ°å·¦ï¼‰ä¸ºå•ä¸ªå€¼ã€‚ï¼Œå°†å…¶ç»“æœæ±‡æ€»ä¸ºå•ä¸ªè¿”å›å€¼ã€‚</p> <p><strong>è¯­æ³•:</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> result <span class="token operator">=</span> array<span class="token punctuation">.</span><span class="token function">reduceRight</span><span class="token punctuation">(</span><span class="token function">callback</span><span class="token punctuation">(</span>accumulator<span class="token punctuation">,</span> currentValue<span class="token punctuation">,</span> currentIndex<span class="token punctuation">,</span> array<span class="token punctuation">)</span><span class="token punctuation">,</span> initialValue<span class="token punctuation">)</span>
</code></pre></div><p><strong>å‚æ•°:</strong></p> <div class="language-markdown extra-class"><pre class="language-markdown"><code> callback:ä¸ºæ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ æ‰§è¡Œçš„å‡½æ•°ï¼Œè¯¥å‡½æ•°æ¥æ”¶ä¸€è‡³4ä¸ªå‚æ•°
 		    accumulator ä¸Šä¸€æ¬¡è°ƒç”¨å›è°ƒå‡½æ•°æ—¶ï¼Œå›è°ƒå‡½æ•°è¿”å›çš„å€¼ã€‚
			currentValue å½“å‰å€¼
			currentIndex å½“å‰ç´¢å¼•
			array æ•°ç»„
 initialValue      
é¦–æ¬¡è°ƒç”¨ callback å‡½æ•°æ—¶ï¼Œç´¯åŠ å™¨ accumulator çš„å€¼ã€‚å¦‚æœæœªæä¾›è¯¥åˆå§‹å€¼ï¼Œåˆ™å°†ä½¿ç”¨æ•°ç»„ä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå¹¶è·³è¿‡è¯¥å…ƒç´ ã€‚
</code></pre></div><p><strong>ç”¨æ³•ï¼š</strong></p> <p>è¿™é‡Œå°±ä¸¾ä¸ªè·Ÿreduceçš„åŒºåˆ«å§ğŸ‘</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">,</span> <span class="token string">'4'</span><span class="token punctuation">,</span> <span class="token string">'5'</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
<span class="token keyword">var</span> left  <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">prev<span class="token punctuation">,</span> cur</span><span class="token punctuation">)</span>      <span class="token punctuation">{</span> <span class="token keyword">return</span> prev <span class="token operator">+</span> cur<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">var</span> right <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">reduceRight</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">prev<span class="token punctuation">,</span> cur</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> prev <span class="token operator">+</span> cur<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// "12345"</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "54321"</span>
</code></pre></div><p>çœ‹çœ‹æºç v8ä¸­array.js**<a href="https://github.com/v8/v8/blob/4.9-lkgr/src/js/array.js#L1545" target="_blank" rel="noopener noreferrer">ç¬¬1505è¡Œå¼€å§‹reduceRightä¹‹æ—…<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>å®ç°çš„è¯ï¼Œå°±æ‹¿ä¸€ä¸ªç±»ä¼¼æŒ‡é’ˆçš„ä¸‹æ ‡ï¼Œä»æ•°ç»„æœ€åä¸€ä½ä»åå¾€å‰æ¨¡æ‹ŸğŸ˜¹ æ³¨æ„è¾¹ç•Œå€¼å°±è¡Œ</p> <h4 id="find-findindex"><a href="#find-findindex" class="header-anchor">#</a> find findIndex</h4> <p>æœ¬æ–¹æ³•åœ¨ECMAScript 6è§„èŒƒä¸­è¢«åŠ å…¥ï¼Œå¯èƒ½ä¸å­˜åœ¨äºæŸäº›å®ç°ä¸­ã€‚</p> <p><strong>å®šä¹‰ï¼š</strong></p> <p>**find:**è¿”å›æ•°ç»„ä¸­æ»¡è¶³æä¾›çš„æµ‹è¯•å‡½æ•°çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼ã€‚å¦åˆ™è¿”å› <a href=""><code>undefined</code></a>ã€‚</p> <p><strong>findIndexï¼š<strong>æ•°ç»„ä¸­é€šè¿‡æä¾›æµ‹è¯•å‡½æ•°çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„</strong>ç´¢å¼•</strong>ã€‚å¦åˆ™ï¼Œè¿”å›-1ã€‚</p> <p><strong>è¯­æ³•:</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> ele <span class="token operator">=</span> array<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">elemnet<span class="token punctuation">,</span> index<span class="token punctuation">,</span> arr</span><span class="token punctuation">)</span><span class="token punctuation">,</span> thisArg<span class="token punctuation">)</span>
<span class="token keyword">let</span> eleIndex <span class="token operator">=</span> array<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">elemnet<span class="token punctuation">,</span> index<span class="token punctuation">,</span> arr</span><span class="token punctuation">)</span><span class="token punctuation">,</span> thisArg<span class="token punctuation">)</span>
</code></pre></div><p><strong>å‚æ•°:</strong></p> <p>ä¸¤è€…è¯­æ³•ç›¸ä¼¼</p> <div class="language-markdown extra-class"><pre class="language-markdown"><code> callback:ä¸ºæ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ æ‰§è¡Œçš„å‡½æ•°ï¼Œè¯¥å‡½æ•°æ¥æ”¶ä¸€è‡³ä¸‰ä¸ªå‚æ•°
 		  elemnet æ•°ç»„ä¸­æ­£åœ¨å¤„ç†çš„å½“å‰å…ƒç´ 
 		  index (å¯é€‰)  æ•°ç»„ä¸­æ­£åœ¨å¤„ç†çš„å½“å‰å…ƒç´ çš„ç´¢å¼•
 		  arr (å¯é€‰)     findæ–¹æ³•æ­£åœ¨æ“ä½œçš„æ•°ç»„
 thisArg      å¯é€‰å‚æ•°,å½“æ‰§è¡Œå›è°ƒå‡½æ•°callback,ç”¨ä½œthiså€¼
</code></pre></div><p><strong>findç”¨æ³•ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//å¯»æ‰¾æ•°ç»„ä¸­çš„è´¨æ•°</span>
<span class="token keyword">function</span> <span class="token function">isPrime</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> start <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>start <span class="token operator">&lt;=</span> Math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>element <span class="token operator">%</span> start<span class="token operator">++</span> <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> element <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>isPrime<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined, not found</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>isPrime<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5</span>
</code></pre></div><p><strong>findIndexç”¨æ³•ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//æ‰¾æ•°ç»„ä¸­é¦–ä¸ªè´¨æ•°å…ƒç´ çš„ç´¢å¼• ä¸å­˜åœ¨ç´ æ•°è¿”å›-1</span>
<span class="token keyword">function</span> <span class="token function">isPrime</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> start <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>start <span class="token operator">&lt;=</span> Math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>element <span class="token operator">%</span> start<span class="token operator">++</span> <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> element <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span>isPrime<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -1, not found</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span>isPrime<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
</code></pre></div><p>çœ‹çœ‹æºç v8ä¸­array.js**<a href="https://github.com/v8/v8/blob/4.9-lkgr/src/js/array.js#L1633" target="_blank" rel="noopener noreferrer">ç¬¬1633è¡Œå¼€å§‹findä¹‹æ—…<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-js extra-class"><pre class="language-js"><code>		<span class="token comment">/**
         * è¿”å›æ•°ç»„ä¸­æ»¡è¶³æä¾›çš„æµ‹è¯•å‡½æ•°çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼ã€‚å¦åˆ™è¿”å› undefined
         * Array.prototype.find(callback, thisArg)
         *
         */</span>
        <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myfind</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>callback <span class="token comment">/*, thisArg */</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">"this is null or not defined"</span><span class="token punctuation">)</span>
            <span class="token keyword">let</span> newArr <span class="token operator">=</span> <span class="token function">Object</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
            <span class="token keyword">let</span> len <span class="token operator">=</span> newArr<span class="token punctuation">.</span>length <span class="token operator">&gt;&gt;&gt;</span> <span class="token number">0</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> callback <span class="token operator">!==</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span>callback <span class="token operator">+</span> <span class="token string">' is not a function'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">let</span> thatArg <span class="token operator">=</span> arguments<span class="token punctuation">.</span>length <span class="token operator">&gt;=</span> <span class="token number">2</span> <span class="token operator">?</span> arguments<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token keyword">void</span> <span class="token number">0</span>

            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token keyword">in</span> newArr <span class="token operator">&amp;&amp;</span> <span class="token function">callback</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>thatArg<span class="token punctuation">,</span> newArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> newArr<span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token keyword">return</span> newArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> <span class="token keyword">void</span> <span class="token number">0</span>
        <span class="token punctuation">}</span>
</code></pre></div><p>findIndexå‡½æ•°å®ç°çš„åŸç†ä¸€æ¨¡ä¸€æ ·ï¼Œè¿”å›æ˜¯ä¸‹æ ‡å°±è¡Œâ—</p> <p><strong>ä»ä»£ç è§’åº¦æ¥çœ‹ï¼Œä½ éœ€è¦æ³¨æ„çš„ç‚¹ï¼š</strong></p> <ul><li>findæ–¹æ³•ä¸ä¼šæ”¹å˜åŸå§‹æ•°ç»„</li> <li>åœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨ <code>callback</code>å‡½æ•°æ—¶ä¼šç¡®å®šå…ƒç´ çš„ç´¢å¼•èŒƒå›´ï¼Œå› æ­¤åœ¨ <code>find</code>æ–¹æ³•å¼€å§‹æ‰§è¡Œä¹‹åæ·»åŠ åˆ°æ•°ç»„çš„æ–°å…ƒç´ å°†ä¸ä¼šè¢« <code>callback</code>å‡½æ•°è®¿é—®åˆ°ã€‚</li> <li>å¦‚æœæ•°ç»„ä¸­ä¸€ä¸ªå°šæœªè¢«<code>callback</code>å‡½æ•°è®¿é—®åˆ°çš„å…ƒç´ çš„å€¼è¢«<code>callback</code>å‡½æ•°æ‰€æ”¹å˜ï¼Œé‚£ä¹ˆå½“<code>callback</code>å‡½æ•°è®¿é—®åˆ°å®ƒæ—¶ï¼Œå®ƒçš„å€¼æ˜¯å°†æ˜¯æ ¹æ®å®ƒåœ¨æ•°ç»„ä¸­çš„ç´¢å¼•æ‰€è®¿é—®åˆ°çš„å½“å‰å€¼ã€‚è¢«åˆ é™¤çš„å…ƒç´ ä»æ—§ä¼šè¢«è®¿é—®åˆ°ï¼Œä½†æ˜¯å…¶è¿”å›å€¼å·²ç»æ˜¯undefinedäº†ã€‚</li> <li>æˆ‘çœ‹äº†å¾ˆå¤šå…³äºfindå‡½æ•°è¯´æ³•ï¼Œæˆ‘ä¸ªäººè®¤ä¸ºä¸æŒ‡å®š<code>thisArg</code>å‚æ•°çš„è¯ï¼Œå›è°ƒå‡½æ•°thisæŒ‡å‘å¹¶ä¸æ˜¯ä¸€ç›´éƒ½æ˜¯undefinedï¼Œæ›´åˆç†çš„è¯´è¯ï¼Œ<strong>thisç¬¦åˆthisæŒ‡å‘è§„åˆ™</strong>ã€‚</li></ul> <hr> <h4 id="keys-values-entries"><a href="#keys-values-entries" class="header-anchor">#</a> keys &amp; values &amp; entries</h4> <p><strong>å®šä¹‰ï¼š</strong></p> <p><code>keys()</code>æ–¹æ³•è¿”å›ä¸€ä¸ªåŒ…å«æ•°ç»„ä¸­æ¯ä¸ªç´¢å¼•é”®çš„<code>**Array Iterator**</code>å¯¹è±¡ã€‚</p> <p><code>values()</code> æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°çš„ <strong>Array Iterator</strong> å¯¹è±¡ï¼Œè¯¥å¯¹è±¡åŒ…å«æ•°ç»„æ¯ä¸ªç´¢å¼•çš„å€¼</p> <p><code>entries()</code> æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°çš„<strong>Array Iterator</strong>å¯¹è±¡ï¼Œè¯¥å¯¹è±¡åŒ…å«æ•°ç»„ä¸­æ¯ä¸ªç´¢å¼•çš„é”®/å€¼å¯¹ã€‚</p> <p><strong>è¯­æ³•:</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>arr<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>ç”¨æ³•ï¼š</strong></p> <p>ä¸‰è€…ç”¨æ³•ç›¸ä¼¼ï¼Œä¸¾å…¶ä¸­ä¸€ä¸ªä¾‹å­è¯´æ˜å§</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> array1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> iterator1 <span class="token operator">=</span> array1<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> iterator2 <span class="token operator">=</span> array1<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> iterator3 <span class="token operator">=</span> array1<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iterator1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/*Array Iterator {}
         __proto__:Array Iterator
         next:Æ’ next()
         Symbol(Symbol.toStringTag):"Array Iterator"
         __proto__:Object
*/</span>	
</code></pre></div><p><strong>iterator.next()</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
<span class="token keyword">var</span> iterator <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*{value: Array(2), done: false}
          done:false
          value:(2) [0, "a"]
           __proto__: Object
*/</span>
<span class="token comment">// iterator.next()è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹äºæœ‰å…ƒç´ çš„æ•°ç»„ï¼Œ</span>
<span class="token comment">// æ˜¯next{ value: Array(2), done: false }ï¼›</span>
<span class="token comment">// next.done ç”¨äºæŒ‡ç¤ºè¿­ä»£å™¨æ˜¯å¦å®Œæˆï¼šåœ¨æ¯æ¬¡è¿­ä»£æ—¶è¿›è¡Œæ›´æ–°è€Œä¸”éƒ½æ˜¯falseï¼Œ</span>
<span class="token comment">// ç›´åˆ°è¿­ä»£å™¨ç»“æŸdoneæ‰æ˜¯trueã€‚</span>
<span class="token comment">// next.valueæ˜¯ä¸€ä¸ª["key","value"]çš„æ•°ç»„ï¼Œæ˜¯è¿”å›çš„è¿­ä»£å™¨ä¸­çš„å…ƒç´ å€¼ã€‚</span>
</code></pre></div><p><strong>ä½¿ç”¨<a href="">forâ€¦of</a> å¾ªç¯</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> iterator <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// undefined</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> e <span class="token keyword">of</span> iterator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// [0, "a"] </span>
<span class="token comment">// [1, "b"] </span>
<span class="token comment">// [2, "c"]</span>
</code></pre></div><p>å†…å®¹å¥½å¤šï¼Œå¸Œæœ›å¯ä»¥ä»”ç»†çœ‹çœ‹ğŸ‰‘</p> <hr> <h3 id="æ”¹å˜åŸå§‹æ•°ç»„æ–¹æ³•"><a href="#æ”¹å˜åŸå§‹æ•°ç»„æ–¹æ³•" class="header-anchor">#</a> æ”¹å˜åŸå§‹æ•°ç»„æ–¹æ³•</h3> <h4 id="splice"><a href="#splice" class="header-anchor">#</a> splice</h4> <p><strong>å®šä¹‰ï¼š</strong></p> <p>é€šè¿‡åˆ é™¤æˆ–æ›¿æ¢ç°æœ‰å…ƒç´ æˆ–è€…åŸåœ°æ·»åŠ æ–°çš„å…ƒç´ æ¥ä¿®æ”¹æ•°ç»„,å¹¶ä»¥æ•°ç»„å½¢å¼è¿”å›è¢«ä¿®æ”¹çš„å†…å®¹ï¼Œ<strong>æ³¨æ„æ­¤æ–¹æ³•ä¼šæ”¹å˜åŸæ•°ç»„</strong></p> <p><strong>è¯­æ³•:</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>array<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span>deleteCount<span class="token punctuation">,</span>item1<span class="token punctuation">,</span><span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span>itemX<span class="token punctuation">)</span>
</code></pre></div><p><strong>å‚æ•°:</strong></p> <div class="language-markdown extra-class"><pre class="language-markdown"><code> start: æŒ‡å®šä¿®æ”¹çš„å¼€å§‹ä½ç½®ï¼ˆä»0è®¡æ•°ï¼‰
		<span class="token list punctuation">1.</span> å¦‚æœè¶…å‡ºäº†æ•°ç»„çš„é•¿åº¦ï¼Œåˆ™ä»æ•°ç»„æœ«å°¾å¼€å§‹æ·»åŠ å†…å®¹
		<span class="token list punctuation">2.</span> å¦‚æœæ˜¯è´Ÿå€¼ï¼Œåˆ™è¡¨ç¤ºä»æ•°ç»„æœ«ä½å¼€å§‹çš„ç¬¬å‡ ä½ï¼ˆä»-1è®¡æ•°ï¼Œè¿™æ„å‘³ç€-næ˜¯å€’æ•°ç¬¬nä¸ªå…ƒç´ ï¼Œå¹¶ä¸”ç­‰ä»·äºarray.length-nï¼‰
		<span class="token list punctuation">3.</span> å¦‚æœè´Ÿæ•°çš„ç»å¯¹å€¼å¤§äºæ•°ç»„çš„é•¿åº¦ï¼Œåˆ™è¡¨ç¤ºå¼€å§‹ä½ç½®ä¸ºç¬¬0ä½
deleteCount(å¯é€‰) : æ•´æ•°,è¡¨ç¤ºè¦ç§»é™¤çš„æ•°ç»„å…ƒç´ ä¸ªæ•°	
		<span class="token list punctuation">1.</span> å¦‚æœ deleteCount å¤§äº start ä¹‹åçš„å…ƒç´ çš„æ€»æ•°ï¼Œåˆ™ä» start åé¢çš„å…ƒç´ éƒ½å°†è¢«			åˆ é™¤(å«ç¬¬ start ä½)
		<span class="token list punctuation">2.</span> å¦‚æœ deleteCount è¢«çœç•¥äº†ï¼Œæˆ–è€…å®ƒçš„å€¼å¤§äºç­‰äºarray.length - start(ä¹Ÿå°±æ˜¯		   è¯´ï¼Œå¦‚æœå®ƒå¤§äºæˆ–è€…ç­‰äºstartä¹‹åçš„æ‰€æœ‰å…ƒç´ çš„æ•°é‡)ï¼Œé‚£ä¹ˆstartä¹‹åæ•°ç»„çš„æ‰€æœ‰å…ƒç´ éƒ½ä¼šè¢«åˆ é™¤ã€‚
		<span class="token list punctuation">3.</span> å¦‚æœ deleteCount æ˜¯ 0 æˆ–è€…è´Ÿæ•°ï¼Œåˆ™ä¸ç§»é™¤å…ƒç´ ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œè‡³å°‘åº”æ·»åŠ ä¸€ä¸ªæ–°		   å…ƒç´ ã€‚
item1, item2, ...(å¯é€‰) 
è¦æ·»åŠ è¿›æ•°ç»„çš„å…ƒç´ ,ä»start ä½ç½®å¼€å§‹ã€‚å¦‚æœä¸æŒ‡å®šï¼Œåˆ™ splice() å°†åªåˆ é™¤æ•°ç»„å…ƒç´ ã€‚
</code></pre></div><p><strong>ç”¨æ³•ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//ä»ç¬¬ 2 ä½å¼€å§‹åˆ é™¤ 0 ä¸ªå…ƒç´ ï¼Œæ’å…¥â€œdrumâ€</span>
<span class="token keyword">var</span> myFish <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"angel"</span><span class="token punctuation">,</span> <span class="token string">"clown"</span><span class="token punctuation">,</span> <span class="token string">"mandarin"</span><span class="token punctuation">,</span> <span class="token string">"sturgeon"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> removed <span class="token operator">=</span> myFish<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"drum"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// è¿ç®—åçš„ myFish: ["angel", "clown", "drum", "mandarin", "sturgeon"]</span>
<span class="token comment">// è¢«åˆ é™¤çš„å…ƒç´ : [], æ²¡æœ‰å…ƒç´ è¢«åˆ é™¤</span>
<span class="token comment">// ä»ç¬¬ 2 ä½å¼€å§‹åˆ é™¤ 0 ä¸ªå…ƒç´ ï¼Œæ’å…¥â€œdrumâ€ å’Œ "guitar"</span>
<span class="token keyword">var</span> removed2 <span class="token operator">=</span> myFish<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'drum'</span><span class="token punctuation">,</span> <span class="token string">'guitar'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// è¿ç®—åçš„ myFish: ["angel", "clown", "drum", "guitar", "mandarin", "sturgeon"]</span>
<span class="token comment">// è¢«åˆ é™¤çš„å…ƒç´ : [], æ²¡æœ‰å…ƒç´ è¢«åˆ é™¤</span>
</code></pre></div><p>ä»ç¬¬ 2 ä½å¼€å§‹åˆ é™¤ 1 ä¸ªå…ƒç´ ï¼Œæ’å…¥â€œtrumpetâ€</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> myFish <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'angel'</span><span class="token punctuation">,</span> <span class="token string">'clown'</span><span class="token punctuation">,</span> <span class="token string">'drum'</span><span class="token punctuation">,</span> <span class="token string">'sturgeon'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> removed <span class="token operator">=</span> myFish<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"trumpet"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// è¿ç®—åçš„ myFish: ["angel", "clown", "trumpet", "sturgeon"]</span>
<span class="token comment">// è¢«åˆ é™¤çš„å…ƒç´ : ["drum"]</span>
</code></pre></div><p>ä»ç¬¬ 0 ä½å¼€å§‹åˆ é™¤ 2 ä¸ªå…ƒç´ ï¼Œæ’å…¥"parrot"ã€"anemone"å’Œ"blue"</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> myFish <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'angel'</span><span class="token punctuation">,</span> <span class="token string">'clown'</span><span class="token punctuation">,</span> <span class="token string">'trumpet'</span><span class="token punctuation">,</span> <span class="token string">'sturgeon'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> removed <span class="token operator">=</span> myFish<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'parrot'</span><span class="token punctuation">,</span> <span class="token string">'anemone'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// è¿ç®—åçš„ myFish: ["parrot", "anemone", "blue", "trumpet", "sturgeon"]</span>
<span class="token comment">// è¢«åˆ é™¤çš„å…ƒç´ : ["angel", "clown"]</span>
</code></pre></div><p>ä»å€’æ•°ç¬¬ 2 ä½å¼€å§‹åˆ é™¤ 1 ä¸ªå…ƒç´ </p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> myFish <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'angel'</span><span class="token punctuation">,</span> <span class="token string">'clown'</span><span class="token punctuation">,</span> <span class="token string">'mandarin'</span><span class="token punctuation">,</span> <span class="token string">'sturgeon'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> removed <span class="token operator">=</span> myFish<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// è¿ç®—åçš„ myFish: ["angel", "clown", "sturgeon"]</span>
<span class="token comment">// è¢«åˆ é™¤çš„å…ƒç´ : ["mandarin"]</span>
</code></pre></div><p>ä»ç¬¬ 2 ä½å¼€å§‹åˆ é™¤æ‰€æœ‰å…ƒç´ </p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> myFish <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'angel'</span><span class="token punctuation">,</span> <span class="token string">'clown'</span><span class="token punctuation">,</span> <span class="token string">'mandarin'</span><span class="token punctuation">,</span> <span class="token string">'sturgeon'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> removed <span class="token operator">=</span> myFish<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// è¿ç®—åçš„ myFish: ["angel", "clown"]</span>
<span class="token comment">// è¢«åˆ é™¤çš„å…ƒç´ : ["mandarin", "sturgeon"]</span>
</code></pre></div><p>çœ‹çœ‹æºç v8ä¸­array.js**<a href="https://github.com/v8/v8/blob/4.9-lkgr/src/js/array.js#L876" target="_blank" rel="noopener noreferrer">ç¬¬876è¡Œå¼€å§‹spliceä¹‹æ—…<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>è¿™åº”è¯¥å°±æ˜¯ç®€å•çš„æ¨¡æ‹Ÿä¸€ä¸‹å§ï¼Œå”¯ä¸€çƒ¦èºçš„å°±æ˜¯è¾¹ç•Œå€¼</p> <hr> <h4 id="sort"><a href="#sort" class="header-anchor">#</a> sort</h4> <p><strong>å®šä¹‰ï¼š</strong></p> <p>å¯¹æ•°ç»„çš„å…ƒç´ è¿›è¡Œæ’åºï¼Œå¹¶è¿”å›æ•°ç»„ï¼Œ<strong>æ³¨æ„æ­¤æ–¹æ³•ä¼šæ”¹å˜åŸæ•°ç»„</strong></p> <p><strong>è¯­æ³•:</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">[</span>compareFunction<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>å‚æ•°:</strong></p> <div class="language-markdown extra-class"><pre class="language-markdown"><code> compareFunction å¯é€‰
<span class="token list punctuation">1.</span> ç”¨æ¥æŒ‡å®šæŒ‰æŸç§é¡ºåºè¿›è¡Œæ’åˆ—çš„å‡½æ•°ã€‚å¦‚æœçœç•¥ï¼Œå…ƒç´ æŒ‰ç…§è½¬æ¢ä¸ºçš„å­—ç¬¦ä¸²çš„å„ä¸ªå­—ç¬¦çš„Unicodeä½ç‚¹è¿›è¡Œæ’åºã€‚
<span class="token list punctuation">2.</span> æŒ‡æ˜äº†compareFunctionï¼Œ
<span class="token list punctuation">3.</span> å¦‚æœ compareFunction(a, b) å°äº 0 ï¼Œé‚£ä¹ˆ a ä¼šè¢«æ’åˆ—åˆ° b ä¹‹å‰ï¼›
<span class="token list punctuation">4.</span> å¦‚æœ compareFunction(a, b) ç­‰äº 0 ï¼Œ a å’Œ b çš„ç›¸å¯¹ä½ç½®ä¸å˜ã€‚
<span class="token list punctuation">5.</span> å¦‚æœ compareFunction(a, b) å¤§äº 0 ï¼Œ b ä¼šè¢«æ’åˆ—åˆ° a ä¹‹å‰ã€‚
</code></pre></div><p><strong>ç”¨æ³•ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
numbers<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a <span class="token operator">-</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//ä¹Ÿå¯ä»¥å†™æˆï¼š</span>
<span class="token keyword">var</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
numbers<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a <span class="token operator">-</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span> 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [1, 2, 3, 4, 5]</span>
</code></pre></div><p>å¯¹é ASCII å­—ç¬¦æ’åº</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//å½“æ’åºé ASCII å­—ç¬¦çš„å­—ç¬¦ä¸²ï¼ˆå¦‚åŒ…å«ç±»ä¼¼ e, Ã©, Ã¨, a, Ã¤ ç­‰å­—ç¬¦çš„å­—ç¬¦ä¸²ï¼‰ã€‚</span>
<span class="token comment">//ä¸€äº›éè‹±è¯­è¯­è¨€çš„å­—ç¬¦ä¸²éœ€è¦ä½¿ç”¨ String.localeCompareã€‚è¿™ä¸ªå‡½æ•°å¯ä»¥å°†å‡½æ•°æ’åºåˆ°æ­£ç¡®çš„é¡ºåºã€‚</span>
<span class="token keyword">var</span> items <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'rÃ©servÃ©'</span><span class="token punctuation">,</span> <span class="token string">'premier'</span><span class="token punctuation">,</span> <span class="token string">'clichÃ©'</span><span class="token punctuation">,</span> <span class="token string">'communiquÃ©'</span><span class="token punctuation">,</span> <span class="token string">'cafÃ©'</span><span class="token punctuation">,</span> <span class="token string">'adieu'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
items<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a<span class="token punctuation">.</span><span class="token function">localeCompare</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// items is ['adieu', 'cafÃ©', 'clichÃ©', 'communiquÃ©', 'premier', 'rÃ©servÃ©']</span>
</code></pre></div><p>æ’åºæ˜¯ä¸€é—¨å­¦é—®ï¼Œè¿™é‡Œé¢æœ‰å¾ˆå¤šçš„å†…å®¹ï¼Œæ¯”å¦‚ä¸€ä¸ªç®—æ³•çš„äº‹ä»¶å¤æ‚åº¦ï¼Œç©ºé—´å¤æ‚åº¦ï¼Œä»¥åå¾…æ›´æ–°å§ã€‚</p> <hr> <h4 id="pop"><a href="#pop" class="header-anchor">#</a> pop</h4> <p><strong>å®šä¹‰ï¼š</strong></p> <p>ä»æ•°ç»„ä¸­åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›è¯¥å…ƒç´ çš„å€¼ã€‚æ­¤æ–¹æ³•æ›´æ”¹æ•°ç»„çš„é•¿åº¦ã€‚</p> <p><strong>è¯­æ³•:</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>arr<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">//ä»æ•°ç»„ä¸­åˆ é™¤çš„å…ƒç´ (å½“æ•°ç»„ä¸ºç©ºæ—¶è¿”å›undefined)ã€‚</span>
</code></pre></div><p><strong>æè¿°:</strong></p> <div class="language-markdown extra-class"><pre class="language-markdown"><code><span class="token list punctuation">1.</span> pop æ–¹æ³•ä»ä¸€ä¸ªæ•°ç»„ä¸­åˆ é™¤å¹¶è¿”å›æœ€åä¸€ä¸ªå…ƒç´ ã€‚
<span class="token list punctuation">2.</span> popæ–¹æ³•æ ¹æ® lengthå±æ€§æ¥ç¡®å®šæœ€åä¸€ä¸ªå…ƒç´ çš„ä½ç½®ã€‚
<span class="token list punctuation">3.</span> å¦‚æœä¸åŒ…å«lengthå±æ€§æˆ–lengthå±æ€§ä¸èƒ½è¢«è½¬æˆä¸€ä¸ªæ•°å€¼ï¼Œä¼šå°†lengthç½®ä¸º0ï¼Œå¹¶è¿”å›undefinedã€‚
<span class="token list punctuation">4.</span> å¦‚æœä½ åœ¨ä¸€ä¸ªç©ºæ•°ç»„ä¸Šè°ƒç”¨ pop()ï¼Œå®ƒè¿”å›  undefinedã€‚
</code></pre></div><p><strong>ç”¨æ³•ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> myFish <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"angel"</span><span class="token punctuation">,</span> <span class="token string">"clown"</span><span class="token punctuation">,</span> <span class="token string">"mandarin"</span><span class="token punctuation">,</span> <span class="token string">"surgeon"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> popped <span class="token operator">=</span> myFish<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myFish<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// ["angel", "clown", "mandarin"]</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>popped<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// surgeon</span>
</code></pre></div><p>ğŸš€ğŸš€ğŸš€ è¿‡è¿‡è¿‡</p> <hr> <h4 id="shift"><a href="#shift" class="header-anchor">#</a> shift</h4> <p><strong>å®šä¹‰ï¼š</strong></p> <p>ä»æ•°ç»„ä¸­åˆ é™¤<strong>ç¬¬ä¸€ä¸ª</strong>å…ƒç´ ï¼Œå¹¶è¿”å›è¯¥å…ƒç´ çš„å€¼ã€‚æ­¤æ–¹æ³•æ›´æ”¹æ•°ç»„çš„é•¿åº¦ã€‚</p> <p><strong>è¯­æ³•:</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>arr<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">//ä»æ•°ç»„ä¸­åˆ é™¤çš„å…ƒç´ ; å¦‚æœæ•°ç»„ä¸ºç©ºåˆ™è¿”å›undefined ã€‚ </span>
</code></pre></div><p><strong>æè¿°:</strong></p> <div class="language-markdown extra-class"><pre class="language-markdown"><code><span class="token list punctuation">1.</span> shift æ–¹æ³•ç§»é™¤ç´¢å¼•ä¸º 0 çš„å…ƒç´ (å³ç¬¬ä¸€ä¸ªå…ƒç´ )ï¼Œå¹¶è¿”å›è¢«ç§»é™¤çš„å…ƒç´ ï¼Œå…¶ä»–å…ƒç´ çš„ç´¢å¼•å€¼éšä¹‹å‡ 1
<span class="token list punctuation">2.</span> å¦‚æœ length å±æ€§çš„å€¼ä¸º 0 (é•¿åº¦ä¸º 0)ï¼Œåˆ™è¿”å› undefinedã€‚
<span class="token list punctuation">3.</span> shift æ–¹æ³•å¹¶ä¸å±€é™äºæ•°ç»„ï¼šè¿™ä¸ªæ–¹æ³•èƒ½å¤Ÿé€šè¿‡ call æˆ– apply æ–¹æ³•ä½œç”¨äºç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ä¸Š
<span class="token list punctuation">4.</span> å¯¹äºæ²¡æœ‰ length å±æ€§ï¼ˆä»0å¼€å§‹çš„ä¸€ç³»åˆ—è¿ç»­çš„æ•°å­—å±æ€§çš„æœ€åä¸€ä¸ªï¼‰çš„å¯¹è±¡ï¼Œè°ƒç”¨è¯¥æ–¹æ³•å¯èƒ½æ²¡æœ‰ä»»ä½•æ„ä¹‰ã€‚
</code></pre></div><p><strong>ç”¨æ³•ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> myFish <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'angel'</span><span class="token punctuation">,</span> <span class="token string">'clown'</span><span class="token punctuation">,</span> <span class="token string">'mandarin'</span><span class="token punctuation">,</span> <span class="token string">'surgeon'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'è°ƒç”¨ shift ä¹‹å‰: '</span> <span class="token operator">+</span> myFish<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// "è°ƒç”¨ shift ä¹‹å‰: angel,clown,mandarin,surgeon"</span>

<span class="token keyword">var</span> shifted <span class="token operator">=</span> myFish<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'è°ƒç”¨ shift ä¹‹å: '</span> <span class="token operator">+</span> myFish<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// "è°ƒç”¨ shift ä¹‹å: clown,mandarin,surgeon" </span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'è¢«åˆ é™¤çš„å…ƒç´ : '</span> <span class="token operator">+</span> shifted<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// "è¢«åˆ é™¤çš„å…ƒç´ : angel"</span>
</code></pre></div><p>ğŸš€ğŸš€ğŸš€ åº”è¯¥æ²¡æœ‰éš¾ç‚¹</p> <hr> <h4 id="unshift"><a href="#unshift" class="header-anchor">#</a> unshift</h4> <p><strong>å®šä¹‰ï¼š</strong></p> <p>å°†ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ æ·»åŠ åˆ°æ•°ç»„çš„<strong>å¼€å¤´</strong>ï¼Œå¹¶è¿”å›è¯¥æ•°ç»„çš„<strong>æ–°é•¿åº¦(è¯¥</strong>æ–¹æ³•ä¿®æ”¹åŸæœ‰æ•°ç»„</p> <p><strong>è¯­æ³•:</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>arr<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span>element1<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">,</span> elementN<span class="token punctuation">)</span>
<span class="token comment">// elementè¦æ·»åŠ åˆ°æ•°ç»„å¼€å¤´çš„å…ƒç´ æˆ–å¤šä¸ªå…ƒç´ ã€‚</span>
</code></pre></div><p><strong>æè¿°:</strong></p> <div class="language-markdown extra-class"><pre class="language-markdown"><code><span class="token list punctuation">1.</span> unshift æ–¹æ³•ä¼šåœ¨è°ƒç”¨å®ƒçš„ç±»æ•°ç»„å¯¹è±¡çš„å¼€å§‹ä½ç½®æ’å…¥ç»™å®šçš„å‚æ•°ã€‚
<span class="token list punctuation">2.</span> unshift ç‰¹æ„è¢«è®¾è®¡æˆå…·æœ‰é€šç”¨æ€§ï¼›è¿™ä¸ªæ–¹æ³•èƒ½å¤Ÿé€šè¿‡ call æˆ– apply æ–¹æ³•ä½œç”¨äºç±»æ•°ç»„å¯¹è±¡ä¸Š
<span class="token list punctuation">3.</span> ä¸è¿‡å¯¹äºæ²¡æœ‰ length å±æ€§ï¼ˆä»£è¡¨ä»0å¼€å§‹çš„ä¸€ç³»åˆ—è¿ç»­çš„æ•°å­—å±æ€§çš„æœ€åä¸€ä¸ªï¼‰çš„å¯¹è±¡ï¼Œè°ƒç”¨è¯¥æ–¹æ³•å¯èƒ½æ²¡æœ‰ä»»ä½•æ„ä¹‰ã€‚
<span class="token list punctuation">4.</span> æ³¨æ„, å¦‚æœä¼ å…¥å¤šä¸ªå‚æ•°ï¼Œå®ƒä»¬ä¼šè¢«ä»¥å—çš„å½¢å¼æ’å…¥åˆ°å¯¹è±¡çš„å¼€å§‹ä½ç½®ï¼Œå®ƒä»¬çš„é¡ºåºå’Œè¢«ä½œä¸ºå‚æ•°ä¼ å…¥æ—¶çš„é¡ºåºä¸€è‡´
<span class="token list punctuation">5.</span> ï¼Œä¼ å…¥å¤šä¸ªå‚æ•°è°ƒç”¨ä¸€æ¬¡ unshift ï¼Œå’Œä¼ å…¥ä¸€ä¸ªå‚æ•°è°ƒç”¨å¤šæ¬¡ unshift (ä¾‹å¦‚ï¼Œå¾ªç¯è°ƒç”¨)ï¼Œå®ƒä»¬å°†å¾—åˆ°ä¸åŒçš„ç»“æœã€‚ä¾‹å¦‚:
</code></pre></div><p><strong>ç”¨æ³•ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3, 4, 5, 6]</span>

arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// é‡ç½®æ•°ç»„</span>
arr<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [3, 2, 1, 4, 5, 6]</span>
</code></pre></div><p>å†çœ‹ä¸€ä¸ªä¾‹å­</p> <div class="language-js extra-class"><pre class="language-js"><code>arr<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// result of the call is 3, which is the new array length</span>
<span class="token comment">// arr is [0, 1, 2]</span>

arr<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// the new array length is 5</span>
<span class="token comment">// arr is [-2, -1, 0, 1, 2]</span>

arr<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// the new array length is 6</span>
<span class="token comment">// arr is [[-4, -3], -2, -1, 0, 1, 2]</span>

arr<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// the new array length is 8</span>
<span class="token comment">// arr is [ [-7, -6], [-5], [-4, -3], -2, -1, 0, 1, 2 ]</span>
</code></pre></div><p>ğŸš€ğŸš€ğŸš€ åº”è¯¥æ²¡æœ‰éš¾ç‚¹</p> <hr> <h4 id="push"><a href="#push" class="header-anchor">#</a> push</h4> <p><strong>å®šä¹‰ï¼š</strong></p> <p>å°†ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ æ·»åŠ åˆ°æ•°ç»„çš„æœ«å°¾ï¼Œå¹¶è¿”å›è¯¥æ•°ç»„çš„æ–°é•¿åº¦</p> <p><strong>è¯­æ³•:</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>element1<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">,</span> elementN<span class="token punctuation">)</span>
<span class="token comment">// elementè¦æ·»åŠ åˆ°æ•°ç»„æœ«å°¾çš„å…ƒç´ æˆ–å¤šä¸ªå…ƒç´ ã€‚</span>
<span class="token comment">// æ”¾å›å€¼:å½“è°ƒç”¨è¯¥æ–¹æ³•æ—¶ï¼Œæ–°çš„ length å±æ€§å€¼å°†è¢«è¿”å›ã€‚</span>
</code></pre></div><p><strong>æè¿°:</strong></p> <div class="language-markdown extra-class"><pre class="language-markdown"><code><span class="token list punctuation">1.</span> push æ–¹æ³•å…·æœ‰é€šç”¨æ€§ã€‚è¯¥æ–¹æ³•å’Œ call() æˆ– apply() ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œå¯åº”ç”¨åœ¨ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ä¸Šã€‚
<span class="token list punctuation">2.</span> push æ–¹æ³•æ ¹æ® length å±æ€§æ¥å†³å®šä»å“ªé‡Œå¼€å§‹æ’å…¥ç»™å®šçš„å€¼ã€‚
<span class="token list punctuation">3.</span> å¦‚æœ length ä¸èƒ½è¢«è½¬æˆä¸€ä¸ªæ•°å€¼ï¼Œåˆ™æ’å…¥çš„å…ƒç´ ç´¢å¼•ä¸º 0ï¼ŒåŒ…æ‹¬ length ä¸å­˜åœ¨æ—¶ã€‚å½“ length ä¸å­˜åœ¨æ—¶ï¼Œå°†ä¼šåˆ›å»ºå®ƒã€‚
</code></pre></div><p><strong>ç”¨æ³•ï¼š</strong></p> <p>æ·»åŠ å…ƒç´ åˆ°æ•°ç»„</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> sports <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"soccer"</span><span class="token punctuation">,</span> <span class="token string">"baseball"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> total <span class="token operator">=</span> sports<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"football"</span><span class="token punctuation">,</span> <span class="token string">"swimming"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sports<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// ["soccer", "baseball", "football", "swimming"]</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>total<span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token comment">// 4</span>
</code></pre></div><p>åƒæ•°ç»„ä¸€æ ·ä½¿ç”¨å¯¹è±¡</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>

    <span class="token function-variable function">addElem</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">addElem</span> <span class="token punctuation">(</span><span class="token parameter">elem</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// obj.length is automatically incremented </span>
        <span class="token comment">// every time an element is added.</span>
        <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> elem<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// Let's add some empty objects just to illustrate.</span>
obj<span class="token punctuation">.</span><span class="token function">addElem</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span><span class="token function">addElem</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// â†’ 2</span>
<span class="token comment">//æ³¨æ„ï¼Œå°½ç®¡ obj ä¸æ˜¯æ•°ç»„ï¼Œä½†æ˜¯ push æ–¹æ³•æˆåŠŸåœ°ä½¿ obj çš„ length å±æ€§å¢é•¿äº†ï¼Œå°±åƒæˆ‘ä»¬å¤„ç†ä¸€ä¸ªå®é™…çš„æ•°ç»„ä¸€æ ·ã€‚</span>
</code></pre></div><p>è¿‡å§ï¼Œåº”è¯¥æ²¡æœ‰éš¾ç‚¹éœ€è¦å°†çš„ğŸš€ğŸš€ğŸš€</p> <hr> <h4 id="reverse"><a href="#reverse" class="header-anchor">#</a> reverse</h4> <p><strong>å®šä¹‰ï¼š</strong></p> <p>å°†æ•°ç»„ä¸­å…ƒç´ çš„ä½ç½®é¢ å€’ï¼Œå¹¶è¿”å›è¯¥æ•°ç»„ã€‚æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¼šå˜æˆæœ€åä¸€ä¸ªï¼Œæ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ å˜æˆç¬¬ä¸€ä¸ªã€‚è¯¥æ–¹æ³•ä¼šæ”¹å˜åŸæ•°ç»„ã€‚</p> <p><strong>è¯­æ³•:</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>arr<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// æ”¾å›å€¼:é¢ å€’åçš„æ•°ç»„</span>
</code></pre></div><p><strong>æè¿°:</strong></p> <div class="language-markdown extra-class"><pre class="language-markdown"><code><span class="token list punctuation">1.</span> reverse æ–¹æ³•é¢ å€’æ•°ç»„ä¸­å…ƒç´ çš„ä½ç½®ï¼Œæ”¹å˜äº†æ•°ç»„ï¼Œå¹¶è¿”å›è¯¥æ•°ç»„çš„å¼•ç”¨ã€‚
<span class="token list punctuation">2.</span> reverseæ–¹æ³•æ˜¯ç‰¹æ„ç±»åŒ–çš„ï¼›æ­¤æ–¹æ³•å¯è¢« called æˆ– appliedäºç±»ä¼¼æ•°ç»„å¯¹è±¡ã€‚
<span class="token list punctuation">3.</span> å¯¹è±¡å¦‚æœä¸åŒ…å«åæ˜ ä¸€ç³»åˆ—è¿ç»­çš„ã€åŸºäºé›¶çš„æ•°å€¼å±æ€§ä¸­çš„æœ€åä¸€ä¸ªé•¿åº¦çš„å±æ€§ï¼Œåˆ™è¯¥å¯¹è±¡å¯èƒ½ä¸ä¼šä»¥ä»»ä½•æœ‰æ„ä¹‰çš„æ–¹å¼è¿è¡Œã€‚
</code></pre></div><p><strong>ç”¨æ³•ï¼š</strong></p> <p>é¢ å€’æ•°ç»„ä¸­çš„å…ƒç´ </p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3]</span>

a<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [3, 2, 1]</span>
</code></pre></div><p>é¢ å€’ç±»æ•°ç»„ä¸­çš„å…ƒç´ </p> <div class="language- extra-class"><pre class="language-text"><code>onst a = {0: 1, 1: 2, 2: 3, length: 3};

console.log(a); // {0: 1, 1: 2, 2: 3, length: 3}

Array.prototype.reverse.call(a); //same syntax for using apply()

console.log(a); // {0: 3, 1: 2, 2: 1, length: 3}
</code></pre></div><hr> <h4 id="copywithin"><a href="#copywithin" class="header-anchor">#</a> copyWithin</h4> <p><strong>å®šä¹‰ï¼š</strong></p> <p>æµ…å¤åˆ¶æ•°ç»„çš„ä¸€éƒ¨åˆ†åˆ°åŒä¸€æ•°ç»„ä¸­çš„å¦ä¸€ä¸ªä½ç½®ï¼Œå¹¶è¿”å›å®ƒï¼Œä¸ä¼šæ”¹å˜åŸæ•°ç»„çš„é•¿åº¦ã€‚</p> <p><strong>è¯­æ³•:</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>    array<span class="token punctuation">.</span><span class="token function">copyWithin</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> start <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> end <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span>
<span class="token comment">// æ”¾å›å€¼:æ”¹å˜åçš„æ•°ç»„ã€‚</span>
</code></pre></div><p><strong>å‚æ•°:</strong></p> <div class="language-markdown extra-class"><pre class="language-markdown"><code>target
<span class="token list punctuation">1.</span> 0 ä¸ºåŸºåº•çš„ç´¢å¼•ï¼Œå¤åˆ¶åºåˆ—åˆ°è¯¥ä½ç½®ã€‚å¦‚æœæ˜¯è´Ÿæ•°ï¼Œtarget å°†ä»æœ«å°¾å¼€å§‹è®¡ç®—ã€‚
<span class="token list punctuation">2.</span> å¦‚æœ target å¤§äºç­‰äº arr.lengthï¼Œå°†ä¼šä¸å‘ç”Ÿæ‹·è´ã€‚å¦‚æœ target åœ¨ start ä¹‹åï¼Œå¤åˆ¶çš„åºåˆ—å°†è¢«ä¿®æ”¹ä»¥ç¬¦åˆ arr.lengthã€‚

start
<span class="token list punctuation">1.</span> 0 ä¸ºåŸºåº•çš„ç´¢å¼•ï¼Œå¼€å§‹å¤åˆ¶å…ƒç´ çš„èµ·å§‹ä½ç½®ã€‚å¦‚æœæ˜¯è´Ÿæ•°ï¼Œstart å°†ä»æœ«å°¾å¼€å§‹è®¡ç®—ã€‚
<span class="token list punctuation">2.</span> å¦‚æœ start è¢«å¿½ç•¥ï¼ŒcopyWithin å°†ä¼šä»0å¼€å§‹å¤åˆ¶ã€‚
end
<span class="token list punctuation">1.</span> 0 ä¸ºåŸºåº•çš„ç´¢å¼•ï¼Œå¼€å§‹å¤åˆ¶å…ƒç´ çš„ç»“æŸä½ç½®ã€‚copyWithin å°†ä¼šæ‹·è´åˆ°è¯¥ä½ç½®ï¼Œä½†ä¸åŒ…æ‹¬ end è¿™ä¸ªä½ç½®çš„å…ƒç´ ã€‚å¦‚æœæ˜¯è´Ÿæ•°ï¼Œ end å°†ä»æœ«å°¾å¼€å§‹è®¡ç®—ã€‚
<span class="token list punctuation">2.</span> å¦‚æœ end è¢«å¿½ç•¥ï¼ŒcopyWithin æ–¹æ³•å°†ä¼šä¸€ç›´å¤åˆ¶è‡³æ•°ç»„ç»“å°¾ï¼ˆé»˜è®¤ä¸º arr.lengthï¼‰ã€‚
</code></pre></div><p><strong>æ³¨æ„ï¼š</strong></p> <div class="language-markdown extra-class"><pre class="language-markdown"><code><span class="token list punctuation">1.</span> å‚æ•° targetã€start å’Œ end å¿…é¡»ä¸ºæ•´æ•°ã€‚
<span class="token list punctuation">2.</span> å¦‚æœ start ä¸ºè´Ÿï¼Œåˆ™å…¶æŒ‡å®šçš„ç´¢å¼•ä½ç½®ç­‰åŒäº length+startï¼Œlength ä¸ºæ•°ç»„çš„é•¿åº¦ã€‚end ä¹Ÿæ˜¯å¦‚æ­¤ã€‚
<span class="token list punctuation">3.</span> copyWithin æ˜¯ä¸€ä¸ªå¯å˜æ–¹æ³•ï¼Œå®ƒä¸ä¼šæ”¹å˜ this çš„é•¿åº¦ lengthï¼Œä½†æ˜¯ä¼šæ”¹å˜ this æœ¬èº«çš„å†…å®¹ï¼Œä¸”éœ€è¦æ—¶ä¼šåˆ›å»ºæ–°çš„å±æ€§ã€‚
</code></pre></div><p><strong>ç”¨æ³•ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">copyWithin</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token comment">// [1, 2, 3, 1, 2]</span>

<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">copyWithin</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
<span class="token comment">// [4, 5, 3, 4, 5]</span>

<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">copyWithin</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
<span class="token comment">// [4, 2, 3, 4, 5]</span>

<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">copyWithin</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment">// [1, 2, 3, 3, 4]</span>

<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">copyWithin</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// {0: 1, 3: 1, length: 5}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3]</span>

a<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [3, 2, 1]</span>
</code></pre></div><p>æˆ‘å¯èƒ½ä¸ä¼šç”¨è¿™ä¸ªæ–¹æ³•è§£å†³é—®é¢˜å§ï¼Œçœ‹ç€æˆ‘éƒ½å¤´ç–¼âŒ</p> <hr> <h4 id="fill"><a href="#fill" class="header-anchor">#</a> fill</h4> <p><strong>å®šä¹‰ï¼š</strong></p> <p>ç”¨ä¸€ä¸ªå›ºå®šå€¼å¡«å……ä¸€ä¸ªæ•°ç»„ä¸­ä»èµ·å§‹ç´¢å¼•åˆ°ç»ˆæ­¢ç´¢å¼•å†…çš„å…¨éƒ¨å…ƒç´ ã€‚ä¸åŒ…æ‹¬ç»ˆæ­¢ç´¢å¼•ã€‚</p> <p><strong>è¯­æ³•:</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>    arr<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> start<span class="token punctuation">,</span> end <span class="token punctuation">)</span>
<span class="token comment">// æ”¾å›å€¼:ä¿®æ”¹åçš„æ•°ç»„ã€‚</span>
</code></pre></div><p><strong>å‚æ•°:</strong></p> <div class="language-markdown extra-class"><pre class="language-markdown"><code>value
<span class="token list punctuation">1.</span> ç”¨æ¥å¡«å……æ•°ç»„å…ƒç´ çš„å€¼ã€‚

start (å¯é€‰)
<span class="token list punctuation">1.</span> èµ·å§‹ç´¢å¼•ï¼Œé»˜è®¤å€¼ä¸º0ã€‚

end  (å¯é€‰)
<span class="token list punctuation">1.</span> ç»ˆæ­¢ç´¢å¼•ï¼Œé»˜è®¤å€¼ä¸º this.lengthã€‚
</code></pre></div><p><strong>æè¿°ï¼š</strong></p> <div class="language-markdown extra-class"><pre class="language-markdown"><code><span class="token list punctuation">1.</span> å¦‚æœ start æ˜¯ä¸ªè´Ÿæ•°, åˆ™å¼€å§‹ç´¢å¼•ä¼šè¢«è‡ªåŠ¨è®¡ç®—æˆä¸º length+startï¼Œå…¶ä¸­ length æ˜¯ this å¯¹è±¡çš„ length å±æ€§å€¼
<span class="token list punctuation">2.</span> fill æ–¹æ³•æ•…æ„è¢«è®¾è®¡æˆé€šç”¨æ–¹æ³•, è¯¥æ–¹æ³•ä¸è¦æ±‚ this æ˜¯æ•°ç»„å¯¹è±¡ã€‚
<span class="token list punctuation">3.</span> fill æ–¹æ³•æ˜¯ä¸ªå¯å˜æ–¹æ³•, å®ƒä¼šæ”¹å˜è°ƒç”¨å®ƒçš„ this å¯¹è±¡æœ¬èº«, ç„¶åè¿”å›å®ƒ, è€Œå¹¶ä¸æ˜¯è¿”å›ä¸€ä¸ªå‰¯æœ¬ã€‚
<span class="token list punctuation">4.</span> å½“ä¸€ä¸ªå¯¹è±¡è¢«ä¼ é€’ç»™ fillæ–¹æ³•çš„æ—¶å€™, å¡«å……æ•°ç»„çš„æ˜¯è¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨ã€‚ 
</code></pre></div><p><strong>ç”¨æ³•ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">// [4, 4, 4]</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// [1, 4, 4]</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">// [1, 4, 3]</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">// [1, 2, 3]</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">// [1, 2, 3]</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// [4, 2, 3]</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// [1, 2, 3]</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">// [1, 2, 3]</span>
<span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// [4, 4, 4]</span>
<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// {0: 4, 1: 4, 2: 4, length: 3}</span>
<span class="token comment">// Objects by reference.</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// [{}, {}, {}];</span>
<span class="token comment">// éœ€è¦æ³¨æ„å¦‚æœfillçš„å‚æ•°ä¸ºå¼•ç”¨ç±»å‹ï¼Œä¼šå¯¼è‡´éƒ½æ‰§è¡Œéƒ½ä¸€ä¸ªå¼•ç”¨ç±»å‹</span>
<span class="token comment">// å¦‚ arr[0] === arr[1] ä¸ºtrue</span>
arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>hi <span class="token operator">=</span> <span class="token string">"hi"</span><span class="token punctuation">;</span> <span class="token comment">// [{ hi: "hi" }, { hi: "hi" }, { hi: "hi" }]</span>
</code></pre></div><p><strong>çœ‹çœ‹æºç v8ä¸­array.js</strong><a href="https://github.com/v8/v8/blob/4.9-lkgr/src/js/array.js#L1700" target="_blank" rel="noopener noreferrer">ç¬¬1700è¡Œå¼€å§‹fillä¹‹æ—…<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>fill<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token string">'fill'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">value</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

      <span class="token comment">// Steps 1-2.</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">'this is null or not defined'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token keyword">var</span> <span class="token constant">O</span> <span class="token operator">=</span> <span class="token function">Object</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// Steps 3-5.</span>
      <span class="token keyword">var</span> len <span class="token operator">=</span> <span class="token constant">O</span><span class="token punctuation">.</span>length <span class="token operator">&gt;&gt;&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span>

      <span class="token comment">// Steps 6-7.</span>
      <span class="token keyword">var</span> start <span class="token operator">=</span> arguments<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> relativeStart <span class="token operator">=</span> start <span class="token operator">&gt;&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span>

      <span class="token comment">// Step 8.</span>
      <span class="token keyword">var</span> k <span class="token operator">=</span> relativeStart <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">?</span>
        Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>len <span class="token operator">+</span> relativeStart<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">:</span>
        Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>relativeStart<span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// Steps 9-10.</span>
      <span class="token keyword">var</span> end <span class="token operator">=</span> arguments<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> relativeEnd <span class="token operator">=</span> end <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">?</span>
        <span class="token literal-property property">len</span> <span class="token operator">:</span> end <span class="token operator">&gt;&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span>

      <span class="token comment">// Step 11.</span>
      <span class="token keyword">var</span> final <span class="token operator">=</span> relativeEnd <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">?</span>
        Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>len <span class="token operator">+</span> relativeEnd<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">:</span>
        Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>relativeEnd<span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// Step 12.</span>
      <span class="token keyword">while</span> <span class="token punctuation">(</span>k <span class="token operator">&lt;</span> final<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token constant">O</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
        k<span class="token operator">++</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// Step 13.</span>
      <span class="token keyword">return</span> <span class="token constant">O</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ç äº†å››ä¸ªå°æ—¶ï¼Œæˆ‘ç ä¸åŠ¨äº†âœâœâœï¼Œçœ‹çœ‹åˆ«äººè§„èŒƒå†™æ³•å§ï¼Œæ”¾è¿‡æˆ‘å§ğŸ˜­</p> <hr> <h3 id="ä¸æ”¹å˜åŸå§‹æ•°ç»„æ–¹æ³•"><a href="#ä¸æ”¹å˜åŸå§‹æ•°ç»„æ–¹æ³•" class="header-anchor">#</a> ä¸æ”¹å˜åŸå§‹æ•°ç»„æ–¹æ³•</h3> <h4 id="slice"><a href="#slice" class="header-anchor">#</a> slice</h4> <p><strong>å®šä¹‰ï¼š</strong></p> <p>è¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„å¯¹è±¡ï¼Œè¿™ä¸€å¯¹è±¡æ˜¯ä¸€ä¸ªç”± <code>begin</code> å’Œ <code>end</code> å†³å®šçš„åŸæ•°ç»„çš„<strong>æµ…æ‹·è´</strong>ï¼ˆåŒ…æ‹¬ <code>begin</code>ï¼Œä¸åŒ…æ‹¬<code>end</code>ï¼‰ã€‚åŸå§‹æ•°ç»„ä¸ä¼šè¢«æ”¹å˜ã€‚</p> <p>å…³äºæ·±æµ…æ‹·è´ï¼Œå¯ä»¥çœ‹çœ‹æˆ‘è¿™ç¯‡<a href="https://juejin.im/post/5efc5944f265da22eb2a5ba4" target="_blank" rel="noopener noreferrer"><strong>é¢è¯•å¦‚ä½•å†™å‡ºä¸€ä¸ªæ»¡æ„çš„æ·±æ‹·è´(é€‚åˆåˆçº§å‰ç«¯)</strong><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><strong>è¯­æ³•:</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">[</span>begin<span class="token punctuation">[</span><span class="token punctuation">,</span> end<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>å‚æ•°:</strong></p> <div class="language-markdown extra-class"><pre class="language-markdown"><code> begin (å¯é€‰)
 <span class="token list punctuation">1.</span> æå–èµ·å§‹å¤„çš„ç´¢å¼•ï¼ˆä» 0 å¼€å§‹ï¼‰ï¼Œä»è¯¥ç´¢å¼•å¼€å§‹æå–åŸæ•°ç»„å…ƒç´ ã€‚
 <span class="token list punctuation">2.</span> å¦‚æœè¯¥å‚æ•°ä¸ºè´Ÿæ•°ï¼Œåˆ™è¡¨ç¤ºä»åŸæ•°ç»„ä¸­çš„å€’æ•°ç¬¬å‡ ä¸ªå…ƒç´ å¼€å§‹æå–
 <span class="token list punctuation">3.</span> slice(-2) è¡¨ç¤ºæå–åŸæ•°ç»„ä¸­çš„å€’æ•°ç¬¬äºŒä¸ªå…ƒç´ åˆ°æœ€åä¸€ä¸ªå…ƒç´ ï¼ˆåŒ…å«æœ€åä¸€ä¸ªå…ƒç´ ï¼‰
 <span class="token list punctuation">4.</span> å¦‚æœçœç•¥ beginï¼Œåˆ™ slice ä»ç´¢å¼• 0 å¼€å§‹ã€‚
 <span class="token list punctuation">5.</span> å¦‚æœ begin å¤§äºåŸæ•°ç»„çš„é•¿åº¦ï¼Œåˆ™ä¼šè¿”å›ç©ºæ•°ç»„ã€‚	
 
 end   (å¯é€‰)
 <span class="token list punctuation">1.</span>	 slice(1,4) ä¼šæå–åŸæ•°ç»„ä¸­ä»ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹ä¸€ç›´åˆ°ç¬¬å››ä¸ªå…ƒç´ çš„æ‰€æœ‰å…ƒç´  ï¼ˆç´¢å¼•ä¸º 1, 2, 3çš„å…ƒç´ ï¼‰
 <span class="token list punctuation">2.</span> å¦‚æœè¯¥å‚æ•°ä¸ºè´Ÿæ•°ï¼Œ åˆ™å®ƒè¡¨ç¤ºåœ¨åŸæ•°ç»„ä¸­çš„å€’æ•°ç¬¬å‡ ä¸ªå…ƒç´ ç»“æŸæŠ½å–ã€‚
 <span class="token list punctuation">3.</span> å¦‚æœ end è¢«çœç•¥ï¼Œåˆ™ slice ä¼šä¸€ç›´æå–åˆ°åŸæ•°ç»„æœ«å°¾ã€‚
 <span class="token list punctuation">4.</span> å¦‚æœ end å¤§äºæ•°ç»„çš„é•¿åº¦ï¼Œslice ä¹Ÿä¼šä¸€ç›´æå–åˆ°åŸæ•°ç»„æœ«å°¾ã€‚
</code></pre></div><p><strong>ç”¨æ³•ï¼š</strong></p> <p>è¿”å›ç°æœ‰æ•°ç»„çš„ä¸€éƒ¨åˆ†</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> fruits <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Banana'</span><span class="token punctuation">,</span> <span class="token string">'Orange'</span><span class="token punctuation">,</span> <span class="token string">'Lemon'</span><span class="token punctuation">,</span> <span class="token string">'Apple'</span><span class="token punctuation">,</span> <span class="token string">'Mango'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> citrus <span class="token operator">=</span> fruits<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// fruits contains ['Banana', 'Orange', 'Lemon', 'Apple', 'Mango']</span>
<span class="token comment">// citrus contains ['Orange','Lemon']</span>
</code></pre></div><p>å½“æ•°ç»„ä¸­å­˜åœ¨å¼•ç”¨ç±»å‹çš„å€¼æ—¶ï¼Œæµ…æ‹·è´çš„æ˜¯å¼•ç”¨ç±»å‹åœ°å€</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ä½¿ç”¨ slice æ–¹æ³•ä» myCar ä¸­åˆ›å»ºä¸€ä¸ª newCarã€‚</span>
<span class="token keyword">var</span> myHonda <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token literal-property property">wheels</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token literal-property property">engine</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">cylinders</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token number">2.2</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> myCar <span class="token operator">=</span> <span class="token punctuation">[</span>myHonda<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"cherry condition"</span><span class="token punctuation">,</span> <span class="token string">"purchased 1997"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> newCar <span class="token operator">=</span> myCar<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
newCar<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">'blue'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myHonda<span class="token punctuation">.</span>color<span class="token punctuation">)</span>  <span class="token comment">// bule</span>
</code></pre></div><p>ç±»æ•°ç»„å¯¹è±¡è½¬æ¢ä¸ºæ•°ç»„</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> list1 <span class="token operator">=</span> <span class="token function">list</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3]</span>
<span class="token comment">//ä½ ä¹Ÿå¯ä»¥ç®€å•çš„ä½¿ç”¨ [].slice.call(arguments) æ¥ä»£æ›¿</span>
</code></pre></div><p>çœ‹çœ‹æºç v8ä¸­array.js<a href="https://github.com/v8/v8/blob/4.9-lkgr/src/js/array.js#L762" target="_blank" rel="noopener noreferrer">ç¬¬762è¡Œå¼€å§‹sliceä¹‹æ—…<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token string">'use strict'</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> _slice <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>slice<span class="token punctuation">;</span>

  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token comment">// Can't be used with DOM elements in IE &lt; 9</span>
    <span class="token function">_slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// Fails in IE &lt; 9</span>
    <span class="token comment">// This will work for genuine arrays, array-like objects, </span>
    <span class="token comment">// NamedNodeMap (attributes, entities, notations),</span>
    <span class="token comment">// NodeList (e.g., getElementsByTagName), HTMLCollection (e.g., childNodes),</span>
    <span class="token comment">// and will not fail on other DOM objects (as do DOM elements in IE &lt; 9)</span>
    <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">slice</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">begin<span class="token punctuation">,</span> end</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// IE &lt; 9 gets unhappy with an undefined end argument</span>
      end <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> end <span class="token operator">!==</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token operator">?</span> end <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>

      <span class="token comment">// For native Array objects, we use the native slice function</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'[object Array]'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">_slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> begin<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span> 
      <span class="token punctuation">}</span>
      <span class="token comment">// For array like object we handle it ourselves.</span>
      <span class="token keyword">var</span> i<span class="token punctuation">,</span> cloned <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        size<span class="token punctuation">,</span> len <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
      <span class="token comment">// Handle negative value for "begin"</span>
      <span class="token keyword">var</span> start <span class="token operator">=</span> begin <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span>
      start <span class="token operator">=</span> <span class="token punctuation">(</span>start <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">?</span> start <span class="token operator">:</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">+</span> start<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// Handle negative value for "end"</span>
      <span class="token keyword">var</span> upTo <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> end <span class="token operator">==</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token operator">?</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>end<span class="token punctuation">,</span> len<span class="token punctuation">)</span> <span class="token operator">:</span> len<span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>end <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        upTo <span class="token operator">=</span> len <span class="token operator">+</span> end<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// Actual expected size of the slice</span>
      size <span class="token operator">=</span> upTo <span class="token operator">-</span> start<span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>size <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cloned <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>charAt<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            cloned<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>start <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            cloned<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">[</span>start <span class="token operator">+</span> i<span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>

      <span class="token keyword">return</span> cloned<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>æˆ‘æ›´å¤šçš„è§‰å¾—è¿™ä¸ªæ˜¯ä¸€ä¸ªæ¨¡æ‹Ÿçš„è¿‡ç¨‹ï¼Œå”¯ä¸€æœ‰ç‚¹éš¾æŠŠæ¡çš„å°±æ˜¯è¾¹ç•Œå€¼çš„ç¡®å®šï¼Œæ‰€ä»¥æ‰¾æ¥äº†ä¸€ä»½è§„èŒƒä¸‹çš„ä»£ç ,ä½ ä»¬å¯ä»¥å‚è€ƒä¸€ä¸‹ã€‚</p> <p><strong>ä»ä»£ç è§’åº¦æ¥çœ‹ï¼Œä½ éœ€è¦æ³¨æ„çš„ç‚¹ï¼š</strong></p> <ul><li>ç”¨æ³•çš„è¯ï¼Œçœ‹çœ‹å‚æ•°ä¸€ç« èŠ‚å°±è¡Œå•¦ğŸˆ¯</li> <li>å…³äºæ·±æµ…æ‹·è´çš„é—®é¢˜ï¼Œå¦‚æœè¯¥å…ƒç´ æ˜¯ä¸ªå¯¹è±¡å¼•ç”¨ ï¼ˆä¸æ˜¯å®é™…çš„å¯¹è±¡ï¼‰ï¼Œ<code>slice</code> ä¼šæ‹·è´è¿™ä¸ªå¯¹è±¡å¼•ç”¨åˆ°æ–°çš„æ•°ç»„é‡Œã€‚ä¸¤ä¸ªå¯¹è±¡å¼•ç”¨éƒ½å¼•ç”¨äº†åŒä¸€ä¸ªå¯¹è±¡ã€‚å¦‚æœè¢«å¼•ç”¨çš„å¯¹è±¡å‘ç”Ÿæ”¹å˜ï¼Œåˆ™æ–°çš„å’ŒåŸæ¥çš„æ•°ç»„ä¸­çš„è¿™ä¸ªå…ƒç´ ä¹Ÿä¼šå‘ç”Ÿæ”¹å˜ã€‚</li> <li>å¦‚æœå‘ä¸¤ä¸ªæ•°ç»„ä»»ä¸€ä¸­æ·»åŠ äº†æ–°å…ƒç´ ï¼Œåˆ™å¦ä¸€ä¸ªä¸ä¼šå—åˆ°å½±å“ã€‚</li> <li>æ·±æµ…æ‹·è´ï¼Œå¯ä»¥çœ‹çœ‹è¿™ç¯‡æ–‡ç« <a href="https://juejin.im/post/5efc5944f265da22eb2a5ba4" target="_blank" rel="noopener noreferrer"><strong>é¢è¯•å¦‚ä½•å†™å‡ºä¸€ä¸ªæ»¡æ„çš„æ·±æ‹·è´(é€‚åˆåˆçº§å‰ç«¯)</strong><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <hr> <h4 id="join"><a href="#join" class="header-anchor">#</a> join</h4> <p><strong>å®šä¹‰ï¼š</strong></p> <p>å°†ä¸€ä¸ªæ•°ç»„ï¼ˆæˆ–ä¸€ä¸ª<strong>ç±»æ•°ç»„å¯¹è±¡</strong>ï¼‰çš„æ‰€æœ‰å…ƒç´ è¿æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²å¹¶è¿”å›è¿™ä¸ªå­—ç¬¦ä¸²ã€‚å¦‚æœæ•°ç»„åªæœ‰ä¸€ä¸ªé¡¹ç›®ï¼Œé‚£ä¹ˆå°†è¿”å›è¯¥é¡¹ç›®è€Œä¸ä½¿ç”¨åˆ†éš”ç¬¦ã€‚</p> <p><strong>è¯­æ³•:</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>arr<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>separator<span class="token punctuation">)</span>
</code></pre></div><p><strong>å‚æ•°:</strong></p> <div class="language-markdown extra-class"><pre class="language-markdown"><code>separator (å¯é€‰)
æŒ‡å®šä¸€ä¸ªå­—ç¬¦ä¸²æ¥åˆ†éš”æ•°ç»„çš„æ¯ä¸ªå…ƒç´ ã€‚
å¦‚æœéœ€è¦ï¼Œå°†åˆ†éš”ç¬¦è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚
å¦‚æœç¼ºçœè¯¥å€¼ï¼Œæ•°ç»„å…ƒç´ ç”¨é€—å·ï¼ˆ,ï¼‰åˆ†éš”ã€‚
å¦‚æœseparatoræ˜¯ç©ºå­—ç¬¦ä¸²("")ï¼Œåˆ™æ‰€æœ‰å…ƒç´ ä¹‹é—´éƒ½æ²¡æœ‰ä»»ä½•å­—ç¬¦ã€‚
</code></pre></div><p><strong>ç”¨æ³•ï¼š</strong></p> <p>ä½¿ç”¨å››ç§ä¸åŒçš„åˆ†éš”ç¬¦è¿æ¥æ•°ç»„å…ƒç´ </p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Wind'</span><span class="token punctuation">,</span> <span class="token string">'Rain'</span><span class="token punctuation">,</span> <span class="token string">'Fire'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> myVar1 <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// myVar1çš„å€¼å˜ä¸º"Wind,Rain,Fire"</span>
<span class="token keyword">var</span> myVar2 <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">', '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// myVar2çš„å€¼å˜ä¸º"Wind, Rain, Fire"</span>
<span class="token keyword">var</span> myVar3 <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">' + '</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// myVar3çš„å€¼å˜ä¸º"Wind + Rain + Fire"</span>
<span class="token keyword">var</span> myVar4 <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// myVar4çš„å€¼å˜ä¸º"WindRainFire"</span>
</code></pre></div><p>è¿æ¥ç±»æ•°ç»„å¯¹è±¡</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '1,a,true'</span>
<span class="token punctuation">}</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>çœ‹çœ‹æºç v8ä¸­array.js<a href="https://github.com/v8/v8/blob/4.9-lkgr/src/js/array.js#L468" target="_blank" rel="noopener noreferrer">ç¬¬468è¡Œå¼€å§‹joinä¹‹æ—…<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>å¾…æ›´æ–°å§ï¼Œæ€è·¯å–å‡ºæ•°ç»„æˆ–è€…ç±»æ•°ç»„å¯¹è±¡æ¯ä¸€é¡¹ï¼Œæœ€åå»è·Ÿseparatorå®Œæˆå­—ç¬¦ä¸²çš„æ‹¼æ¥å³å¯</p> <hr> <h4 id="tostring"><a href="#tostring" class="header-anchor">#</a> toString</h4> <p><strong>å®šä¹‰ï¼š</strong></p> <p>è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºæŒ‡å®šçš„æ•°ç»„åŠå…¶å…ƒç´ ã€‚</p> <p><strong>è¯­æ³•:</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>arr<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>å½“ä¸€ä¸ªæ•°ç»„è¢«ä½œä¸ºæ–‡æœ¬å€¼æˆ–è€…è¿›è¡Œå­—ç¬¦ä¸²è¿æ¥æ“ä½œæ—¶ï¼Œå°†ä¼šè‡ªåŠ¨è°ƒç”¨å…¶ <code>toString</code> æ–¹æ³•ã€‚</p> <p><strong>ç”¨æ³•ï¼š</strong></p> <div class="language- extra-class"><pre class="language-text"><code>const array1 = [1, 2, 'a', '1a'];
console.log(array1.toString());
// expected output: "1,2,a,1a"
</code></pre></div><hr> <h4 id="concat"><a href="#concat" class="header-anchor">#</a> concat</h4> <p><strong>å®šä¹‰ï¼š</strong></p> <p>ç”¨äºåˆå¹¶ä¸¤ä¸ªæˆ–å¤šä¸ªæ•°ç»„ã€‚æ­¤æ–¹æ³•ä¸ä¼šæ›´æ”¹ç°æœ‰æ•°ç»„ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ã€‚</p> <p><strong>è¯­æ³•:</strong></p> <div class="language- extra-class"><pre class="language-text"><code>  var newArr =oldArray.concat(arrayX,arrayX,......,arrayX)
</code></pre></div><p><strong>å‚æ•°:</strong></p> <div class="language-markdown extra-class"><pre class="language-markdown"><code>arrayx(å¯é€‰)
å°†æ•°ç»„å’Œ/æˆ–å€¼è¿æ¥æˆæ–°æ•°ç»„ã€‚
å¦‚æœçœç•¥äº†valueNå‚æ•°å‚æ•°ï¼Œåˆ™concatä¼šè¿”å›ä¸€ä¸ªå®ƒæ‰€è°ƒç”¨çš„å·²å­˜åœ¨çš„æ•°ç»„çš„æµ…æ‹·è´ã€‚
</code></pre></div><p><strong>ç”¨æ³•ï¼š</strong></p> <p>ä»¥ä¸‹ä»£ç å°†ä¸¤ä¸ªæ•°ç»„åˆå¹¶ä¸ºä¸€ä¸ªæ–°æ•°ç»„ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> alpha <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> numeric <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

alpha<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>numeric<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// result in ['a', 'b', 'c', 1, 2, 3]</span>
</code></pre></div><p>è¿æ¥ä¸‰ä¸ªæ•°ç»„</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> num1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    num2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    num3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> nums <span class="token operator">=</span> num1<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>num2<span class="token punctuation">,</span> num3<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// results in [1, 2, 3, 4, 5, 6, 7, 8, 9]</span>
</code></pre></div><p>å°†å€¼è¿æ¥åˆ°æ•°ç»„</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> alpha <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> alphaNumeric <span class="token operator">=</span> alpha<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>alphaNumeric<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// results in ['a', 'b', 'c', 1, 2, 3]</span>
</code></pre></div><p><strong>æ³¨æ„ï¼š</strong></p> <ul><li><code>concat</code>æ–¹æ³•ä¸ä¼šæ”¹å˜<code>this</code>æˆ–ä»»ä½•ä½œä¸ºå‚æ•°æä¾›çš„æ•°ç»„ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªæµ…æ‹·è´</li> <li><code>concat</code>å°†å¯¹è±¡å¼•ç”¨å¤åˆ¶åˆ°æ–°æ•°ç»„ä¸­ã€‚ åŸå§‹æ•°ç»„å’Œæ–°æ•°ç»„éƒ½å¼•ç”¨ç›¸åŒçš„å¯¹è±¡ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœå¼•ç”¨çš„å¯¹è±¡è¢«ä¿®æ”¹ï¼Œåˆ™æ›´æ”¹å¯¹äºæ–°æ•°ç»„å’ŒåŸå§‹æ•°ç»„éƒ½æ˜¯å¯è§çš„ã€‚ è¿™åŒ…æ‹¬ä¹Ÿæ˜¯æ•°ç»„çš„æ•°ç»„å‚æ•°çš„å…ƒç´ ã€‚</li> <li>æ•°ç»„/å€¼åœ¨è¿æ¥æ—¶ä¿æŒä¸å˜ã€‚æ­¤å¤–ï¼Œå¯¹äºæ–°æ•°ç»„çš„ä»»ä½•æ“ä½œï¼ˆä»…å½“å…ƒç´ ä¸æ˜¯å¯¹è±¡å¼•ç”¨æ—¶ï¼‰éƒ½ä¸ä¼šå¯¹åŸå§‹æ•°ç»„äº§ç”Ÿå½±å“ï¼Œåä¹‹äº¦ç„¶ã€‚</li></ul> <hr> <h4 id="indexof"><a href="#indexof" class="header-anchor">#</a> indexOf</h4> <p><strong>å®šä¹‰ï¼š</strong></p> <p>è¿”å›åœ¨æ•°ç»„ä¸­å¯ä»¥æ‰¾åˆ°ä¸€ä¸ªç»™å®šå…ƒç´ çš„ç¬¬ä¸€ä¸ªç´¢å¼•ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å›-1ã€‚</p> <p><strong>è¯­æ³•:</strong></p> <div class="language- extra-class"><pre class="language-text"><code>      array.indexOf(searchElement,fromIndex)
</code></pre></div><p><strong>å‚æ•°:</strong></p> <div class="language-markdown extra-class"><pre class="language-markdown"><code>searchElement  (å¿…é€‰)  è¦æŸ¥æ‰¾çš„å…ƒç´ 
fromIndex 
<span class="token list punctuation">1.</span> å¼€å§‹æŸ¥æ‰¾çš„ä½ç½®ã€‚å¦‚æœè¯¥ç´¢å¼•å€¼å¤§äºæˆ–ç­‰äºæ•°ç»„é•¿åº¦ï¼Œæ„å‘³ç€ä¸ä¼šåœ¨æ•°ç»„é‡ŒæŸ¥æ‰¾ï¼Œè¿”å›-1ã€‚
<span class="token list punctuation">2.</span> å¦‚æœå‚æ•°ä¸­æä¾›çš„ç´¢å¼•å€¼æ˜¯ä¸€ä¸ªè´Ÿå€¼ï¼Œåˆ™å°†å…¶ä½œä¸ºæ•°ç»„æœ«å°¾çš„ä¸€ä¸ªæŠµæ¶ˆï¼Œå³-1è¡¨ç¤ºä»æœ€åä¸€ä¸ªå…ƒç´ å¼€å§‹æŸ¥æ‰¾
<span class="token list punctuation">3.</span>  æ³¨æ„ï¼šå¦‚æœå‚æ•°ä¸­æä¾›çš„ç´¢å¼•å€¼æ˜¯ä¸€ä¸ªè´Ÿå€¼ï¼Œå¹¶ä¸æ”¹å˜å…¶æŸ¥æ‰¾é¡ºåºï¼ŒæŸ¥æ‰¾é¡ºåºä»ç„¶æ˜¯ä»å‰å‘åæŸ¥è¯¢æ•°ç»„ã€‚å¦‚æœæŠµæ¶ˆåçš„ç´¢å¼•å€¼ä»å°äº0ï¼Œåˆ™æ•´ä¸ªæ•°ç»„éƒ½å°†ä¼šè¢«æŸ¥è¯¢ã€‚å…¶é»˜è®¤å€¼ä¸º0.
<span class="token list punctuation">4.</span> é‡‡ç”¨çš„æ˜¯ä¸¥æ ¼ç­‰äº === 
</code></pre></div><p><strong>ç”¨æ³•ï¼š</strong></p> <p>indexOfæ–¹æ³•ç¡®å®šå¤šä¸ªå€¼åœ¨æ•°ç»„ä¸­çš„ä½ç½®</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
array<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// 0</span>
array<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// -1</span>
array<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 2</span>
array<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -1</span>
array<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
</code></pre></div><p>æ‰¾å‡ºæŒ‡å®šå…ƒç´ å‡ºç°çš„æ‰€æœ‰ä½ç½®</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> indices <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> element <span class="token operator">=</span> <span class="token string">'a'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> idx <span class="token operator">=</span> array<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>idx <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  indices<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>idx<span class="token punctuation">)</span><span class="token punctuation">;</span>
  idx <span class="token operator">=</span> array<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> idx <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>indices<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [0, 2, 4]</span>
</code></pre></div><p>indexOf()ä¸èƒ½è¯†åˆ«<code>NaN</code></p> <div class="language-js extra-class"><pre class="language-js"><code>		<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'å•¦å•¦'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">]</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'å•¦'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -1 </span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -1 </span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'å•¦å•¦'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
</code></pre></div><p>çœ‹çœ‹æºç v8ä¸­array.js<a href="https://github.com/v8/v8/blob/4.9-lkgr/src/js/array.js#L1411" target="_blank" rel="noopener noreferrer">ç¬¬1411è¡Œå¼€å§‹indexOfä¹‹æ—…<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>indexOf<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">indexOf</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">searchElement<span class="token punctuation">,</span> fromIndex</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">var</span> k<span class="token punctuation">;</span>
    <span class="token comment">// 1. Let O be the result of calling ToObject passing</span>
    <span class="token comment">//    the this value as the argument.</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">'"this" is null or not defined'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">var</span> <span class="token constant">O</span> <span class="token operator">=</span> <span class="token function">Object</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 2. Let lenValue be the result of calling the Get</span>
    <span class="token comment">//    internal method of O with the argument "length".</span>
    <span class="token comment">// 3. Let len be ToUint32(lenValue).</span>
    <span class="token keyword">var</span> len <span class="token operator">=</span> <span class="token constant">O</span><span class="token punctuation">.</span>length <span class="token operator">&gt;&gt;&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token comment">// 4. If len is 0, return -1.</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>len <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 5. If argument fromIndex was passed let n be</span>
    <span class="token comment">//    ToInteger(fromIndex); else let n be 0.</span>
    <span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token operator">+</span>fromIndex <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">Infinity</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 6. If n &gt;= len, return -1.</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">&gt;=</span> len<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 7. If n &gt;= 0, then Let k be n.</span>
    <span class="token comment">// 8. Else, n&lt;0, Let k be len - abs(n).</span>
    <span class="token comment">//    If k is less than 0, then let k be 0.</span>
    k <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>n <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">?</span> n <span class="token operator">:</span> len <span class="token operator">-</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 9. Repeat, while k &lt; len</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>k <span class="token operator">&lt;</span> len<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>k <span class="token keyword">in</span> <span class="token constant">O</span> <span class="token operator">&amp;&amp;</span> <span class="token constant">O</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">===</span> searchElement<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> k<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      k<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>è¿™æ˜¯ä¸€ä»½è§„èŒƒä¸‹çš„ä»£ç ,ä½ ä»¬å¯ä»¥å‚è€ƒä¸€ä¸‹ï¼Œæˆ‘å°±ä¸å†™äº†ï¼Œæˆ‘è¿˜è¦å»çº¦ä¼šå‘ï¼Œæ²¡æ—¶é—´äº†ğŸ™</p> <h4 id="lastindexof"><a href="#lastindexof" class="header-anchor">#</a> lastIndexOf</h4> <p><strong>å®šä¹‰ï¼š</strong></p> <p>è¿”å›æŒ‡å®šå…ƒç´ ï¼ˆä¹Ÿå³æœ‰æ•ˆçš„ JavaScript å€¼æˆ–å˜é‡ï¼‰åœ¨æ•°ç»„ä¸­çš„æœ€åä¸€ä¸ªçš„ç´¢å¼•ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¿”å› -1ã€‚ä»æ•°ç»„çš„åé¢å‘å‰æŸ¥æ‰¾ï¼Œä» <code>fromIndex</code> å¤„å¼€å§‹ã€‚</p> <p><strong>è¯­æ³•:</strong></p> <div class="language- extra-class"><pre class="language-text"><code>          arr.lastIndexOf(searchElement,fromIndex)
</code></pre></div><p><strong>å‚æ•°:</strong></p> <div class="language-markdown extra-class"><pre class="language-markdown"><code>searchElement  (å¿…é€‰)  è¦æŸ¥æ‰¾çš„å…ƒç´ 
fromIndex 
<span class="token list punctuation">1.</span> ä»æ­¤ä½ç½®å¼€å§‹é€†å‘æŸ¥æ‰¾
<span class="token list punctuation">2.</span> é»˜è®¤ä¸ºæ•°ç»„çš„é•¿åº¦å‡ 1(arr.length - 1)ï¼Œå³æ•´ä¸ªæ•°ç»„éƒ½è¢«æŸ¥æ‰¾
<span class="token list punctuation">3.</span>  å¦‚æœè¯¥å€¼å¤§äºæˆ–ç­‰äºæ•°ç»„çš„é•¿åº¦ï¼Œåˆ™æ•´ä¸ªæ•°ç»„ä¼šè¢«æŸ¥æ‰¾ã€‚å¦‚æœä¸ºè´Ÿå€¼ï¼Œå°†å…¶è§†ä¸ºä»æ•°ç»„æœ«å°¾å‘å‰çš„åç§»
<span class="token list punctuation">4.</span> å³ä½¿è¯¥å€¼ä¸ºè´Ÿï¼Œæ•°ç»„ä»ç„¶ä¼šè¢«ä»åå‘å‰æŸ¥æ‰¾ã€‚å¦‚æœè¯¥å€¼ä¸ºè´Ÿæ—¶ï¼Œå…¶ç»å¯¹å€¼å¤§äºæ•°ç»„é•¿åº¦ï¼Œåˆ™æ–¹æ³•è¿”å› -1ï¼Œå³æ•°ç»„ä¸ä¼šè¢«æŸ¥æ‰¾ã€‚
</code></pre></div><p><strong>ç”¨æ³•ï¼š</strong></p> <p>æ•°ç»„ä¸­è¯¥å…ƒç´ æœ€åä¸€æ¬¡å‡ºç°çš„ç´¢å¼•ï¼Œå¦‚æœªæ‰¾åˆ°è¿”å›-1ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> index <span class="token operator">=</span> array<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// index is 3</span>
index <span class="token operator">=</span> array<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// index is -1</span>
index <span class="token operator">=</span> array<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// index is 3</span>
index <span class="token operator">=</span> array<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// index is 0</span>
index <span class="token operator">=</span> array<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// index is 0</span>
index <span class="token operator">=</span> array<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// index is 3</span>
</code></pre></div><p>çœ‹ä¸Šä¸€ä¸ªindexOfæ€ä¹ˆå®ç°çš„å§ğŸ¤³ï¼Œæ²¡æ—¶é—´äº†ã€‚</p> <hr></div> <!----> <div class="readMore-wrapper"><span class="readMore">é˜…è¯»å…¨æ–‡</span></div>
                    </div>
                            <p>è¿™æ˜¯ä¸€ä¸ªä¿¡æ¯æç¤ºæ¡†ã€‚</p>
                        </div>

                        <div class="note warning">
                            <div class="note-title"><i class="fas fa-exclamation-triangle"></i> æ³¨æ„</div>
                            <p>è¿™æ˜¯ä¸€ä¸ªè­¦å‘Šæç¤ºæ¡†ã€‚</p>
                        </div>

                        <div class="note success">
                            <div class="note-title"><i class="fas fa-check-circle"></i> æˆåŠŸ</div>
                            <p>è¿™æ˜¯ä¸€ä¸ªæˆåŠŸæç¤ºæ¡†ã€‚</p>
                        </div>

                        <h2>ä»£ç ç¤ºä¾‹</h2>
                        <pre><code class="language-javascript">// ç¤ºä¾‹ä»£ç 
function example() {
    console.log('Hello, FrontendHub!');
}
</code></pre>
                    </div>

                    <!-- æ–‡ç« åº•éƒ¨å¯¼èˆª -->
                    <nav class="article-nav">
                        <a href="#" class="prev-article">
                            <i class="fas fa-chevron-left"></i>
                            <span>ä¸Šä¸€ç¯‡</span>
                        </a>
                        <a href="#" class="next-article">
                            <span>ä¸‹ä¸€ç¯‡</span>
                            <i class="fas fa-chevron-right"></i>
                        </a>
                    </nav>
                </article>
            </div>
        </div>
    </main>

    <!-- é¡µè„š -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4><i class="fas fa-code"></i> FrontendHub</h4>
                    <p>ä¸“æ³¨äºå‰ç«¯æŠ€æœ¯å­¦ä¹ ä¸é¢è¯•å‡†å¤‡</p>
                </div>
                <div class="footer-section">
                    <h4>å¿«é€Ÿé“¾æ¥</h4>
                    <ul>
                        <li><a href="../../index.html">é¦–é¡µ</a></li>
                        <li><a href="../index.html#courses">è¯¾ç¨‹ä½“ç³»</a></li>
                        <li><a href="../index.html#resources">å­¦ä¹ èµ„æº</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 FrontendHub. ç”¨äºä¸ªäººå­¦ä¹ ä½¿ç”¨.</p>
            </div>
        </div>
    </footer>

    <!-- è¿”å›é¡¶éƒ¨æŒ‰é’® -->
    <button class="back-to-top" id="backToTop">
        <i class="fas fa-arrow-up"></i>
    </button>

    <script src="../../js/main.js"></script>
    <script src="../../js/content.js"></script>
</body>
</html>

