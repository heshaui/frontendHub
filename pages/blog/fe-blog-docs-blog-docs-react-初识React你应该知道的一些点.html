<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="referrer" content="no-referrer">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åˆè¯†Reactä½ åº”è¯¥çŸ¥é“çš„ä¸€äº›ç‚¹ - FrontendHub</title>
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="../../css/content.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="content-page">
    <!-- å¯¼èˆªæ  -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand">
                <a href="../../index.html" style="color: inherit; text-decoration: none; display: flex; align-items: center; gap: 0.5rem;">
                    <i class="fas fa-code"></i>
                    <span>FrontendHub</span>
                </a>
            </div>
            <button class="nav-toggle" id="navToggle">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <ul class="nav-menu" id="navMenu">
                <li><a href="../../index.html">é¦–é¡µ</a></li>
                <li><a href="../index.html#features">ç‰¹è‰²</a></li>
                <li><a href="../index.html#courses">è¯¾ç¨‹</a></li>
                <li><a href="../index.html#resources">èµ„æº</a></li>
            </ul>
        </div>
    </nav>

    <!-- é¢åŒ…å±‘å¯¼èˆª -->
    <div class="breadcrumb">
        <div class="container">
            <a href="../../index.html"><i class="fas fa-home"></i> é¦–é¡µ</a>
            <i class="fas fa-chevron-right"></i>
            <span>åˆè¯†Reactä½ åº”è¯¥çŸ¥é“çš„ä¸€äº›ç‚¹</span>
        </div>
    </div>

    <!-- ä¸»è¦å†…å®¹åŒº -->
    <main class="content-main">
        <div class="container">
            <div class="content-layout">
                <!-- ä¾§è¾¹æ ç›®å½• -->
                <aside class="sidebar">
                    <div class="sidebar-sticky">
                        <h3><i class="fas fa-list"></i> ç›®å½•</h3>
                        <nav class="toc" id="toc">
                            <!-- ç›®å½•å°†é€šè¿‡JavaScriptè‡ªåŠ¨ç”Ÿæˆ -->
                        </nav>
                    </div>
                </aside>

                <!-- æ–‡ç« å†…å®¹ -->
                <article class="article">
                    <header class="article-header">
                        <h1>åˆè¯†Reactä½ åº”è¯¥çŸ¥é“çš„ä¸€äº›ç‚¹</h1>
                        <div class="article-meta">
                            <span><i class="far fa-calendar"></i> æ›´æ–°æ—¶é—´ï¼š2025-12-23</span>
                            <span><i class="far fa-clock"></i> é˜…è¯»æ—¶é•¿ï¼šçº¦ 15 åˆ†é’Ÿ</span>
                        </div>
                    </header>

                    <div class="article-content">
<div class="content__default"><h2 id="åˆè¯†reactä½ åº”è¯¥çŸ¥é“çš„ä¸€äº›ç‚¹"><a href="#åˆè¯†reactä½ åº”è¯¥çŸ¥é“çš„ä¸€äº›ç‚¹" class="header-anchor">#</a> åˆè¯†Reactä½ åº”è¯¥çŸ¥é“çš„ä¸€äº›ç‚¹</h2> <h3 id="ç»„ä»¶"><a href="#ç»„ä»¶" class="header-anchor">#</a> ç»„ä»¶</h3> <p>ç»„ä»¶å…è®¸ä½ å°†UIæ‹†åˆ†ä¸ºç‹¬ç«‹å¯å¤ç”¨çš„ä»£ç ç‰‡æ®µï¼Œæ¯ä¸ªç‰‡æ®µè¿›è¡Œç‹¬ç«‹æ„æ€ã€‚</p> <blockquote><p>ç»„ä»¶ï¼Œä»æ¦‚å¿µä¸Šç±»ä¼¼äº JavaScript å‡½æ•°ã€‚å®ƒæ¥å—ä»»æ„çš„å…¥å‚ï¼ˆå³ â€œpropsâ€ï¼‰ï¼Œå¹¶è¿”å›ç”¨äºæè¿°é¡µé¢å±•ç¤ºå†…å®¹çš„ React å…ƒç´ ã€‚</p></blockquote> <ul><li><p>å‡½æ•°ç»„ä»¶</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Welcome</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>Hello<span class="token punctuation">,</span> <span class="token punctuation">{</span>props<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>classç»„ä»¶</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Welcome</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
	<span class="token function">render</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>Hello<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <p>ä»¥ä¸Šä¸¤ä¸ªç»„ä»¶æ˜¯ç­‰æ•ˆçš„ã€‚</p> <p><strong>æ³¨æ„ï¼š</strong> ç»„ä»¶åç§°å¿…é¡»ä»¥å¤§å†™å­—æ¯å¼€å¤´ã€‚</p> <p>React ä¼šå°†ä»¥å°å†™å­—æ¯å¼€å¤´çš„ç»„ä»¶è§†ä¸ºåŸç”Ÿ DOM æ ‡ç­¾ã€‚ä¾‹å¦‚ï¼Œ<code>ä»£è¡¨ HTML çš„ div æ ‡ç­¾ï¼Œè€Œ</code> åˆ™ä»£è¡¨ä¸€ä¸ªç»„ä»¶ï¼Œå¹¶ä¸”éœ€åœ¨ä½œç”¨åŸŸå†…ä½¿ç”¨ <code>Welcome</code>ã€‚</p> <h3 id="state"><a href="#state" class="header-anchor">#</a> State</h3> <p>æ­£ç¡®çš„ä½¿ç”¨<code>setState()</code>ï¼š</p> <ul><li><p>ä¸è¦ç›´æ¥ä¿®æ”¹<code>State</code>ï¼š</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// é”™è¯¯</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>msg <span class="token operator">=</span> <span class="token string">'LinDaiDai'</span>

<span class="token comment">// æ­£ç¡®</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">'LinDaiDai'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><code>State</code>çš„æ›´æ–°å¯èƒ½æ˜¯å¼‚æ­¥çš„ï¼Œå¦‚æœæ›´æ–°çš„<code>state</code>ä¸­æœ‰ä¾èµ–åˆ°<code>state</code>æˆ–è€…<code>props</code>åˆ™å¯ä»¥ç”¨å‡½æ•°ï¼š</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// é”™è¯¯</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token literal-property property">counter</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>counter <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>increment
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// æ­£ç¡®</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token literal-property property">counter</span><span class="token operator">:</span> state<span class="token punctuation">.</span>counter <span class="token operator">+</span> props<span class="token punctuation">.</span>increment
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ä½¿ç”¨æ™®é€šå‡½æ•°ä¹Ÿå¯ä»¥</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">counter</span><span class="token operator">:</span> state<span class="token punctuation">.</span>counter <span class="token operator">+</span> props<span class="token punctuation">.</span>increment
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p><code>State</code>çš„æ›´æ–°å¯èƒ½ä¼šè¢«åˆå¹¶</p> <p>å½“ä½ è°ƒç”¨ <code>setState()</code> çš„æ—¶å€™ï¼ŒReact ä¼šæŠŠä½ æä¾›çš„å¯¹è±¡åˆå¹¶åˆ°å½“å‰çš„ stateã€‚</p> <p>ä¾‹å¦‚ï¼Œä½ çš„ state åŒ…å«å‡ ä¸ªç‹¬ç«‹çš„å˜é‡ï¼š</p> <div class="language-react extra-class"><pre class="language-text"><code>constructor(props) {
  super(props);
  this.state = {
    posts: [],
    comments: []
  };
}
</code></pre></div><p>ç„¶åä½ å¯ä»¥åˆ†åˆ«è°ƒç”¨ <code>setState()</code> æ¥å•ç‹¬åœ°æ›´æ–°å®ƒä»¬ï¼š</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">fetchPosts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">posts</span><span class="token operator">:</span> response<span class="token punctuation">.</span>posts
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">fetchComments</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">comments</span><span class="token operator">:</span> response<span class="token punctuation">.</span>comments
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre></div><p>è¿™é‡Œçš„åˆå¹¶æ˜¯æµ…åˆå¹¶ï¼Œæ‰€ä»¥ <code>this.setState({comments})</code> å®Œæ•´ä¿ç•™äº† <code>this.state.posts</code>ï¼Œ ä½†æ˜¯å®Œå…¨æ›¿æ¢äº† <code>this.state.comments</code>ã€‚</p> <p>https://react.docschina.org/docs/state-and-lifecycle.html#state-updates-are-merged</p></li></ul> <h3 id="äº‹ä»¶"><a href="#äº‹ä»¶" class="header-anchor">#</a> äº‹ä»¶</h3> <p>è§£å†³äº‹ä»¶ä¸­<code>this</code>ç»‘å®šçš„é—®é¢˜ï¼Œå¦‚æœä¸æƒ³ç”¨<code>bind</code>æ˜¾å¼ç»‘å®šçš„è¯ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢ä¸¤ç§æ–¹å¼ï¼š</p> <ul><li><p><code>class fields</code>è¯­æ³•ï¼š</p> <div class="language-react extra-class"><pre class="language-text"><code>class LoggingButton extends React.Component {
  // æ­¤è¯­æ³•ç¡®ä¿ `handleClick` å†…çš„ `this` å·²è¢«ç»‘å®šã€‚
  // æ³¨æ„: è¿™æ˜¯ *å®éªŒæ€§* è¯­æ³•ã€‚
  handleClick = () =&gt; {
    console.log('this is:', this);
  }

  render() {
    return (
      &lt;button onClick={this.handleClick}&gt;
        Click me
      &lt;/button&gt;
    );
  }
}
</code></pre></div></li> <li><p>åœ¨å›è°ƒä¸­ä½¿ç”¨ç®­å¤´å‡½æ•°</p> <div class="language-react extra-class"><pre class="language-text"><code>class LoggingButton extends React.Component {
  handleClick() {
    console.log('this is:', this);
  }

  render() {
    // æ­¤è¯­æ³•ç¡®ä¿ `handleClick` å†…çš„ `this` å·²è¢«ç»‘å®šã€‚
    return (
      &lt;button onClick={() =&gt; this.handleClick()}&gt;
        Click me
      &lt;/button&gt;
    );
  }
}
</code></pre></div><blockquote><p>æ­¤è¯­æ³•é—®é¢˜åœ¨äºæ¯æ¬¡æ¸²æŸ“ <code>LoggingButton</code> æ—¶éƒ½ä¼šåˆ›å»ºä¸åŒçš„å›è°ƒå‡½æ•°ã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¿™æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†å¦‚æœè¯¥å›è°ƒå‡½æ•°ä½œä¸º prop ä¼ å…¥å­ç»„ä»¶æ—¶ï¼Œè¿™äº›ç»„ä»¶å¯èƒ½ä¼šè¿›è¡Œé¢å¤–çš„é‡æ–°æ¸²æŸ“ã€‚æˆ‘ä»¬é€šå¸¸å»ºè®®åœ¨æ„é€ å™¨ä¸­ç»‘å®šæˆ–ä½¿ç”¨ class fields è¯­æ³•æ¥é¿å…è¿™ç±»æ€§èƒ½é—®é¢˜ã€‚</p></blockquote></li></ul> <h3 id="ç»„åˆvsç»§æ‰¿"><a href="#ç»„åˆvsç»§æ‰¿" class="header-anchor">#</a> ç»„åˆVSç»§æ‰¿</h3> <p><code>React</code>ä¸­å¹¶æ²¡æœ‰ç±»ä¼¼äº<code>Vue</code>ä¸­çš„<code>slot</code>ï¼Œä¸è¿‡å¯ä»¥é <code>prop</code>æ¥å®ç°ï¼š</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">SplitPane</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"SplitPane"</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"SplitPane-left"</span><span class="token operator">&gt;</span>
        <span class="token punctuation">{</span>props<span class="token punctuation">.</span>left<span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"SplitPane-right"</span><span class="token operator">&gt;</span>
        <span class="token punctuation">{</span>props<span class="token punctuation">.</span>right<span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>SplitPane
      left<span class="token operator">=</span><span class="token punctuation">{</span>
        <span class="token operator">&lt;</span>Contacts <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token punctuation">}</span>
      right<span class="token operator">=</span><span class="token punctuation">{</span>
        <span class="token operator">&lt;</span>Chat <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="è¯­æ³•éœ€è¦æ³¨æ„çš„ç‚¹"><a href="#è¯­æ³•éœ€è¦æ³¨æ„çš„ç‚¹" class="header-anchor">#</a> è¯­æ³•éœ€è¦æ³¨æ„çš„ç‚¹</h3> <h4 id="_1-æ•°å­—0ä¾æ—§ä¼šè¢«æ¸²æŸ“"><a href="#_1-æ•°å­—0ä¾æ—§ä¼šè¢«æ¸²æŸ“" class="header-anchor">#</a> 1. æ•°å­—0ä¾æ—§ä¼šè¢«æ¸²æŸ“</h4> <p><code>false</code>, <code>null</code>, <code>undefined</code>æ˜¯åˆæ³•çš„å­å…ƒç´ ï¼Œä½†å®ƒä»¬å¹¶ä¸ä¼šæ¸²æŸ“ï¼Œå› æ­¤å¯ä»¥ä½œä¸ºåˆ¤æ–­<code>JSX</code>è¡¨è¾¾å¼æ¸²æŸ“ç»“æœï¼š</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token punctuation">{</span>showHeader <span class="token operator">&amp;&amp;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Header</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">}</span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Content</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>ä½†æ˜¯æ•°å­—<code>0</code>ï¼Œä»ç„¶ä¼šè¢« React æ¸²æŸ“ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹ä»£ç å¹¶ä¸ä¼šåƒä½ é¢„æœŸé‚£æ ·å·¥ä½œï¼Œå› ä¸ºå½“ <code>props.messages</code> æ˜¯ç©ºæ•°ç»„æ—¶ï¼Œ<code>0</code> ä»ç„¶ä¼šè¢«æ¸²æŸ“ï¼š</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>messages<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">MessageList</span></span> <span class="token attr-name">messages</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>messages<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token punctuation">}</span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>è§£å†³æ–¹å¼ï¼šç¡®ä¿ <code>&amp;&amp;</code> ä¹‹å‰çš„è¡¨è¾¾å¼æ€»æ˜¯å¸ƒå°”å€¼ï¼š</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>messages<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">MessageList</span></span> <span class="token attr-name">messages</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>messages<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token punctuation">}</span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="_2-å…ƒç´ å’Œç»„ä»¶"><a href="#_2-å…ƒç´ å’Œç»„ä»¶" class="header-anchor">#</a> 2. å…ƒç´ å’Œç»„ä»¶</h4> <p>å…ƒç´ ï¼šReact å…ƒç´ æ˜¯æ„æˆ React åº”ç”¨çš„åŸºç¡€ç –å—ã€‚å…ƒç´ æè¿°äº†ä½ åœ¨å±å¹•ä¸Šæƒ³çœ‹åˆ°çš„å†…å®¹ã€‚React å…ƒç´ æ˜¯ä¸å¯å˜å¯¹è±¡ã€‚ä¾‹å¦‚ï¼š</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>Hello<span class="token punctuation">,</span> world<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><p>ç»„ä»¶ï¼šReact ç»„ä»¶æ˜¯å¯å¤ç”¨çš„å°çš„ä»£ç ç‰‡æ®µï¼Œå®ƒä»¬è¿”å›è¦åœ¨é¡µé¢ä¸­æ¸²æŸ“çš„ React å…ƒç´ ã€‚ä¾‹å¦‚ï¼š</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Welcome</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>Hello<span class="token punctuation">,</span> <span class="token punctuation">{</span>props<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="å¦‚ä½•é˜»æ­¢ç»„ä»¶ä¸æ›´æ–°"><a href="#å¦‚ä½•é˜»æ­¢ç»„ä»¶ä¸æ›´æ–°" class="header-anchor">#</a> å¦‚ä½•é˜»æ­¢ç»„ä»¶ä¸æ›´æ–°</h3> <p>ä»¥ä¸‹ç”Ÿå‘½å‘¨æœŸé»˜è®¤æ˜¯è¿”å›<code>true</code>ï¼Œåªè¦å°†å…¶æ”¹ä¸º<code>false</code>å³ä¸æ›´æ–°ã€‚</p> <div class="language- extra-class"><pre class="language-text"><code>shouldComponentUpdate(nextProps, nextState) {
    return false;
  }
</code></pre></div><h3 id="å…¶å®ƒapi"><a href="#å…¶å®ƒapi" class="header-anchor">#</a> å…¶å®ƒAPI</h3> <h4 id="åœ¨ç»„ä»¶ä¸Šèƒ½è°ƒç”¨çš„æ–¹æ³•"><a href="#åœ¨ç»„ä»¶ä¸Šèƒ½è°ƒç”¨çš„æ–¹æ³•" class="header-anchor">#</a> åœ¨ç»„ä»¶ä¸Šèƒ½è°ƒç”¨çš„æ–¹æ³•</h4> <p>ä¸åŒäºä¸Šè¿°ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼ˆReact ä¸»åŠ¨è°ƒç”¨ï¼‰ï¼Œä»¥ä¸‹æ–¹æ³•æ˜¯ä½ å¯ä»¥åœ¨ç»„ä»¶ä¸­è°ƒç”¨çš„æ–¹æ³•ã€‚</p> <p>åªæœ‰ä¸¤ä¸ªæ–¹æ³•ï¼š<code>setState()</code> å’Œ <code>forceUpdate()</code>ã€‚</p> <h4 id="forceupdate-å¼ºåˆ¶ç»„ä»¶é‡æ–°æ¸²æŸ“"><a href="#forceupdate-å¼ºåˆ¶ç»„ä»¶é‡æ–°æ¸²æŸ“" class="header-anchor">#</a> forceUpdate()å¼ºåˆ¶ç»„ä»¶é‡æ–°æ¸²æŸ“</h4> <p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“ç»„ä»¶çš„ state æˆ– props å‘ç”Ÿå˜åŒ–æ—¶ï¼Œç»„ä»¶å°†é‡æ–°æ¸²æŸ“ã€‚å¦‚æœ <code>render()</code> æ–¹æ³•ä¾èµ–äºå…¶ä»–æ•°æ®ï¼Œåˆ™å¯ä»¥è°ƒç”¨ <code>forceUpdate()</code> å¼ºåˆ¶è®©ç»„ä»¶é‡æ–°æ¸²æŸ“ã€‚</p> <p>è°ƒç”¨ <code>forceUpdate()</code> å°†è‡´ä½¿ç»„ä»¶è°ƒç”¨ <code>render()</code> æ–¹æ³•ï¼Œæ­¤æ“ä½œä¼šè·³è¿‡è¯¥ç»„ä»¶çš„ <code>shouldComponentUpdate()</code>ã€‚</p> <p>ä½†å…¶å­ç»„ä»¶ä¼šè§¦å‘æ­£å¸¸çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼ŒåŒ…æ‹¬ <code>shouldComponentUpdate()</code> æ–¹æ³•ã€‚å¦‚æœæ ‡è®°å‘ç”Ÿå˜åŒ–ï¼ŒReact ä»å°†åªæ›´æ–° DOMã€‚</p> <p>æ³¨æ„âš ï¸ï¼š</p> <p>é€šå¸¸ä½ åº”è¯¥é¿å…ä½¿ç”¨ <code>forceUpdate()</code>ï¼Œå°½é‡åœ¨ <code>render()</code> ä¸­ä½¿ç”¨ <code>this.props</code> å’Œ <code>this.state</code>ã€‚</p> <h3 id="classå±æ€§"><a href="#classå±æ€§" class="header-anchor">#</a> Classå±æ€§</h3> <h4 id="defaultprops"><a href="#defaultprops" class="header-anchor">#</a> defaultProps</h4> <p><code>defaultProps</code> å¯ä»¥ä¸º Class ç»„ä»¶æ·»åŠ é»˜è®¤ propsã€‚è¿™ä¸€èˆ¬ç”¨äº props æœªèµ‹å€¼ï¼Œä½†åˆä¸èƒ½ä¸º null çš„æƒ…å†µ:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">CustomButton</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>

CustomButton<span class="token punctuation">.</span>defaultProps <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'blue'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>ä¸Šè¿°<code>CustomButton</code>è¢«è°ƒç”¨æ—¶å¦‚æœæ²¡æœ‰æä¾›<code>props.color</code>ï¼Œåˆ™é»˜è®¤ä¸º<code>blue</code>ã€‚</p> <p>æ­¤æ—¶å¦‚æœä¼ é€’äº†<code>null</code>çš„è¯ï¼Œåˆ™å°±ä¼šæ˜¯<code>null</code>ï¼š</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>CustomButton color<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">null</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span> <span class="token punctuation">;</span> <span class="token comment">// props.color å°†ä¿æŒæ˜¯ null</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="displayname"><a href="#displayname" class="header-anchor">#</a> displayName</h4> <p><code>displayName</code> å­—ç¬¦ä¸²å¤šç”¨äºè°ƒè¯•æ¶ˆæ¯ã€‚é€šå¸¸ï¼Œä½ ä¸éœ€è¦è®¾ç½®å®ƒï¼Œå› ä¸ºå®ƒå¯ä»¥æ ¹æ®å‡½æ•°ç»„ä»¶æˆ– class ç»„ä»¶çš„åç§°æ¨æ–­å‡ºæ¥ã€‚</p> <p><strong>ç”¨å¤„</strong>ï¼š</p> <p>è°ƒè¯•æ—¶éœ€è¦æ˜¾ç¤ºä¸åŒçš„åç§°æˆ–åˆ›å»ºé«˜é˜¶ç»„ä»¶ã€‚<code>displayName</code>å¯ä»¥æ–¹ä¾¿æˆ‘ä»¬åœ¨ä½¿ç”¨<code>Chrome</code>æµè§ˆå™¨æ’ä»¶çš„æƒ…å†µä¸‹é€šè¿‡å®¡æŸ¥å…ƒç´ çœ‹åˆ°å…·ä½“æ˜¯å“ªä¸ªç»„ä»¶ã€‚</p> <p>ä¾‹å¦‚ä½ è¦å®¡æŸ¥çš„è¿™ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ª<code>HOC</code>äº§ç‰©ï¼Œå¦‚ä¸‹ä¸€ä¸ªç®€å•çš„æ¡ˆä¾‹ğŸŒ°ï¼š</p> <p><em>LoginHOC.tsx</em>:</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">LoginHoc</span> <span class="token punctuation">(</span><span class="token parameter">WrappedComponent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">class</span> <span class="token class-name">InnerComponent</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
    <span class="token function">render</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">WrappedComponent</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">WrappedComponent</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> InnerComponent<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><em>Blog.tsx</em>:</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> LoginHOC <span class="token keyword">from</span> <span class="token string">'./LoginHOC'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Blog</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>blog<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">æˆ‘æ˜¯æŒ‰é’®</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">LoginHOC</span><span class="token punctuation">(</span>Blog<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>åœ¨<code>App.js</code>ä¸­å¼•ç”¨ï¼š</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> Blog <span class="token keyword">from</span> <span class="token string">'./components/HOC-example/Blog'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">'App'</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Blog detail<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Blog<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre></div><p>è¿™æ—¶å€™ä½¿ç”¨<code>Chrome</code>æ’ä»¶<a href="https://github.com/facebook/react-devtools" target="_blank" rel="noopener noreferrer">React Developer Tools<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>è°ƒè¯•æ—¶ï¼Œä¼šå‘ç°é¡µé¢ä¸­çš„å…ƒç´ ä¸ºè¿™æ ·ï¼š</p> <p><img src="https://s.poetries.top/uploads/2025/10/5a38f8a1f3148055.png" alt=""></p> <p>æ­¤æ—¶å¦‚æœä½ ç»™<code>HOC</code>è®¾ç½®äº†<code>displayName</code>çš„è¯ï¼š</p> <div class="language-diff extra-class"><pre class="language-diff"><code>import React, { Component } from 'react';

export default function LoginHoc (WrappedComponent) {
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> class InnerComponent extends Component {
</span><span class="token prefix unchanged"> </span><span class="token line">   render () {
</span><span class="token prefix unchanged"> </span><span class="token line">     return (
</span><span class="token prefix unchanged"> </span><span class="token line">       &lt;WrappedComponent {...this.props}&gt;&lt;/WrappedComponent&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">     )
</span><span class="token prefix unchanged"> </span><span class="token line">   }
</span><span class="token prefix unchanged"> </span><span class="token line"> }
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> InnerComponent.displayName = `LoginHoc(${getDisplayName(WrappedComponent)})`;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> return InnerComponent;
</span></span>}
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> function getDisplayName (WrappedComponent) {
</span><span class="token prefix inserted">+</span><span class="token line">  return WrappedComponent.displayName || WrappedComponent.name || 'Component'
</span><span class="token prefix inserted">+</span><span class="token line">}
</span></span></code></pre></div><p>æ•ˆæœå¦‚ä¸‹ï¼š</p> <p><img src="https://s.poetries.top/uploads/2025/10/282b4f4dbc56bac7.png" alt=""></p> <p>èƒ½æ›´åŠ æ¸…æ¥šçš„è®©æˆ‘ä»¬çœ‹åˆ°åŒ…è£…æ˜¾ç¤ºåç§°ã€‚</p> <h3 id="reactdom"><a href="#reactdom" class="header-anchor">#</a> ReactDOM</h3> <p><code>react-dom</code> çš„ package æä¾›äº†å¯åœ¨åº”ç”¨é¡¶å±‚ä½¿ç”¨çš„ DOMï¼ˆDOM-specificï¼‰æ–¹æ³•ï¼Œå¦‚æœæœ‰éœ€è¦ï¼Œä½ å¯ä»¥æŠŠè¿™äº›æ–¹æ³•ç”¨äº React æ¨¡å‹ä»¥å¤–çš„åœ°æ–¹ã€‚ä¸è¿‡ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¤§éƒ¨åˆ†ç»„ä»¶éƒ½ä¸éœ€è¦ä½¿ç”¨è¿™ä¸ªæ¨¡å—ã€‚</p> <ul><li><code>render</code>:
<ul><li><code>React.render(element, container[, callback])</code></li> <li>åœ¨æä¾›çš„ <code>container</code> é‡Œæ¸²æŸ“ä¸€ä¸ª React å…ƒç´ ï¼Œå¹¶è¿”å›å¯¹è¯¥ç»„ä»¶çš„<a href="https://react.docschina.org/docs/more-about-refs.html" target="_blank" rel="noopener noreferrer">å¼•ç”¨<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ï¼ˆæˆ–è€…é’ˆå¯¹<a href="https://react.docschina.org/docs/components-and-props.html#function-and-class-components" target="_blank" rel="noopener noreferrer">æ— çŠ¶æ€ç»„ä»¶<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>è¿”å› <code>null</code>ï¼‰ã€‚</li></ul></li> <li><code>hydrate</code>:
<ul><li><code>ReactDOM.hydrate(element, container[, callback])</code></li> <li>ä¸ <a href="https://react.docschina.org/docs/react-dom.html#render" target="_blank" rel="noopener noreferrer"><code>render()</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ç›¸åŒï¼Œä½†å®ƒç”¨äºåœ¨ <a href="https://react.docschina.org/docs/react-dom-server.html" target="_blank" rel="noopener noreferrer"><code>ReactDOMServer</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> æ¸²æŸ“çš„å®¹å™¨ä¸­å¯¹ HTML çš„å†…å®¹è¿›è¡Œ hydrate æ“ä½œã€‚</li></ul></li> <li><code>unmountComponentAtNode()</code> <ul><li><code>ReactDOM.unmountComponentAtNode(container)</code></li> <li>ä» DOM ä¸­å¸è½½ç»„ä»¶ï¼Œä¼šå°†å…¶äº‹ä»¶å¤„ç†å™¨ï¼ˆevent handlersï¼‰å’Œ state ä¸€å¹¶æ¸…é™¤ã€‚</li></ul></li> <li><code>findDOMNode()</code> <ul><li><code>ReactDOM.findDOMNode(component)</code></li> <li><code>findDOMNode</code> æ˜¯ä¸€ä¸ªè®¿é—®åº•å±‚ DOM èŠ‚ç‚¹çš„åº”æ€¥æ–¹æ¡ˆï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä¸æ¨èä½¿ç”¨è¯¥æ–¹æ³•ï¼Œå› ä¸ºå®ƒä¼šç ´åç»„ä»¶çš„æŠ½è±¡ç»“æ„ã€‚<a href="https://react.docschina.org/docs/strict-mode.html#warning-about-deprecated-finddomnode-usage" target="_blank" rel="noopener noreferrer">ä¸¥æ ¼æ¨¡å¼ä¸‹è¯¥æ–¹æ³•å·²å¼ƒç”¨ã€‚<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><strong>å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥ç»‘å®šä¸€ä¸ª ref åˆ° DOM èŠ‚ç‚¹ä¸Šï¼Œå¯ä»¥å®Œå…¨é¿å…ä½¿ç”¨ findDOMNodeã€‚</strong></li> <li><code>findDOMNode</code> ä¸èƒ½ç”¨äºå‡½æ•°ç»„ä»¶ã€‚</li></ul></li> <li><code>createPortal()</code> <ul><li><code>ReactDOM.createPortal(child, container)</code></li> <li>åˆ›å»º portalã€‚<a href="https://react.docschina.org/docs/portals.html" target="_blank" rel="noopener noreferrer">Portal<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> å°†æä¾›ä¸€ç§å°†å­èŠ‚ç‚¹æ¸²æŸ“åˆ° DOM èŠ‚ç‚¹ä¸­çš„æ–¹å¼ï¼Œè¯¥èŠ‚ç‚¹å­˜åœ¨äº DOM ç»„ä»¶çš„å±‚æ¬¡ç»“æ„ä¹‹å¤–ã€‚</li></ul></li></ul> <h3 id="domç›¸å…³"><a href="#domç›¸å…³" class="header-anchor">#</a> DOMç›¸å…³</h3> <h4 id="classname"><a href="#classname" class="header-anchor">#</a> className</h4> <p><code>className</code> å±æ€§ç”¨äºæŒ‡å®š CSS çš„ classï¼Œæ­¤ç‰¹æ€§é€‚ç”¨äºæ‰€æœ‰å¸¸è§„ DOM èŠ‚ç‚¹å’Œ SVG å…ƒç´ ï¼Œå¦‚ <code>ï¼Œ</code> åŠå…¶å®ƒæ ‡ç­¾ã€‚</p> <p>å¦‚æœä½ åœ¨ React ä¸­ä½¿ç”¨ Web Componentsï¼ˆè¿™æ˜¯ä¸€ç§ä¸å¸¸è§çš„ä½¿ç”¨æ–¹å¼ï¼‰ï¼Œè¯·ä½¿ç”¨ class å±æ€§ä»£æ›¿ã€‚</p> <h4 id="dangerouslysetinnerhtml"><a href="#dangerouslysetinnerhtml" class="header-anchor">#</a> dangerouslySetInnerHTML</h4> <p><code>dangerouslySetInnerHTML</code> æ˜¯ React ä¸ºæµè§ˆå™¨ DOM æä¾› <code>innerHTML</code> çš„æ›¿æ¢æ–¹æ¡ˆã€‚é€šå¸¸æ¥è®²ï¼Œä½¿ç”¨ä»£ç ç›´æ¥è®¾ç½® HTML å­˜åœ¨é£é™©ï¼Œå› ä¸ºå¾ˆå®¹æ˜“æ— æ„ä¸­ä½¿ç”¨æˆ·æš´éœ²äº<a href="https://en.wikipedia.org/wiki/Cross-site_scripting" target="_blank" rel="noopener noreferrer">è·¨ç«™è„šæœ¬ï¼ˆXSSï¼‰<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>çš„æ”»å‡»ã€‚</p> <p>ä½¿ç”¨ï¼š</p> <p>è®¾ç½®ä¸€ä¸ªå¸¦æœ‰å±æ€§åä¸º<code>key</code>çš„å¯¹è±¡ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">createMarkup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token literal-property property">__html</span><span class="token operator">:</span> <span class="token string">'First &amp;middot; Second'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">MyComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>div dangerouslySetInnerHTML<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">createMarkup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
  
<span class="token comment">// ä½¿ç”¨</span>
<span class="token operator">&lt;</span>MyComponent<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>MyComponent<span class="token operator">&gt;</span>
</code></pre></div><p>æœ€ç»ˆä¼šè¢«æ¸²æŸ“ä¸ºï¼š</p> <div class="language- extra-class"><pre class="language-text"><code>First Â· Second
</code></pre></div><h4 id="style"><a href="#style" class="header-anchor">#</a> style</h4> <p><code>style</code>å±æ€§æ¥æ”¶çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ç‚¹å’Œ<code>DOM</code>ä¸­<code>style</code>çš„<code>JavaScript</code>å±æ€§ä¸€æ ·ï¼ŒåŒæ—¶ä¼šæ›´é«˜æ•ˆçš„ï¼Œä¸”èƒ½é¢„é˜²è·¨ç«™è„šæœ¬ï¼ˆXSSï¼‰çš„å®‰å…¨æ¼æ´ã€‚ä¾‹å¦‚ï¼š</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">const</span> divStyle <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'blue'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">backgroundImage</span><span class="token operator">:</span> <span class="token string">'url('</span> <span class="token operator">+</span> imgUrl <span class="token operator">+</span> <span class="token string">')'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">HelloWorldComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>divStyle<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Hello World!</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>éœ€è¦æ³¨æ„çš„ç‚¹ï¼š</p> <ul><li><p>æ ·å¼ä¸ä¼šè‡ªåŠ¨è¡¥é½å‰ç¼€ã€‚å¦‚éœ€æ”¯æŒæ—§ç‰ˆæµè§ˆå™¨ï¼Œéœ€è¦æ‰‹åŠ¨è¡¥å……å¯¹åº”çš„æ ·å¼å±æ€§ï¼š</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">const</span> divStyle <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">WebkitTransition</span><span class="token operator">:</span> <span class="token string">'all'</span><span class="token punctuation">,</span> <span class="token comment">// note the capital 'W' here</span>
  <span class="token literal-property property">msTransition</span><span class="token operator">:</span> <span class="token string">'all'</span> <span class="token comment">// 'ms' is the only lowercase vendor prefix</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>æµè§ˆå™¨å¼•æ“å‰ç¼€éƒ½åº”ä»¥å¤§å†™å­—æ¯å¼€å¤´ï¼Œ<a href="https://www.andismith.com/blog/2012/02/modernizr-prefixed/" target="_blank" rel="noopener noreferrer">é™¤äº† <code>ms</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚å› æ­¤ï¼Œ<code>WebkitTransition</code> é¦–å­—æ¯ä¸º â€Wâ€ã€‚</p></li> <li><p>React ä¼šè‡ªåŠ¨æ·»åŠ  â€pxâ€ åç¼€åˆ°å†…è”æ ·å¼ä¸ºæ•°å­—çš„å±æ€§åã€‚å¦‚éœ€ä½¿ç”¨ â€pxâ€ ä»¥å¤–çš„å•ä½ï¼Œè¯·å°†æ­¤å€¼è®¾ä¸ºæ•°å­—ä¸æ‰€éœ€å•ä½ç»„æˆçš„å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚ï¼š</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// Result style: '10px'</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  Hello World!
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">// Result style: '10%'</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token string">'10%'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  Hello World!
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li></ul> <h3 id="åˆæˆäº‹ä»¶"><a href="#åˆæˆäº‹ä»¶" class="header-anchor">#</a> åˆæˆäº‹ä»¶</h3> <p>æˆ‘ä»¬çŸ¥é“åœ¨æ™®é€šçš„<code>DOM</code>å…ƒç´ ä¸­æœ‰ä¸€ä¸ª<code>event</code>å¯¹è±¡æ¥è·å–äº‹ä»¶å¯¹è±¡ã€‚</p> <p>è€Œåœ¨<code>React</code>ä¸­ï¼Œè·å–åˆ°çš„è¿™ä¸ªäº‹ä»¶å¯¹è±¡è¢«ç§°ä¸ºåˆæˆäº‹ä»¶<code>SyntheticEvent</code>ã€‚</p> <p>å®ƒæ˜¯æµè§ˆå™¨çš„åŸç”Ÿäº‹ä»¶çš„è·¨æµè§ˆå™¨åŒ…è£…å™¨ã€‚é™¤å…¼å®¹æ‰€æœ‰æµè§ˆå™¨å¤–ï¼Œå®ƒè¿˜æ‹¥æœ‰å’Œæµè§ˆå™¨åŸç”Ÿäº‹ä»¶ç›¸åŒçš„æ¥å£ï¼ŒåŒ…æ‹¬ <code>stopPropagation()</code> å’Œ <code>preventDefault()</code>ã€‚</p> <p>æ¯ä¸ª <code>SyntheticEvent</code> å¯¹è±¡éƒ½åŒ…å«ä»¥ä¸‹å±æ€§ï¼š</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token builtin">boolean</span> bubbles
<span class="token builtin">boolean</span> cancelable
DOMEventTarget currentTarget
<span class="token builtin">boolean</span> defaultPrevented
<span class="token builtin">number</span> eventPhase
<span class="token builtin">boolean</span> isTrusted
DOMEvent nativeEvent
<span class="token keyword">void</span> <span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token builtin">boolean</span> <span class="token function">isDefaultPrevented</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">void</span> <span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token builtin">boolean</span> <span class="token function">isPropagationStopped</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">void</span> <span class="token function">persist</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
DOMEventTarget target
<span class="token builtin">number</span> timeStamp
<span class="token builtin">string</span> <span class="token keyword">type</span>
</code></pre></div><h4 id="äº‹ä»¶æ± "><a href="#äº‹ä»¶æ± " class="header-anchor">#</a> äº‹ä»¶æ± </h4> <p>å¦‚ä¸Šæ‰€è¿°ï¼Œ<code>SyntheticEvent</code>æ˜¯ä¸€ä¸ªåˆæˆäº‹ä»¶ï¼Œå¦‚æœæˆ‘ä»¬åœ¨äº‹ä»¶çš„å›è°ƒå‡½æ•°ä¸­ç›´æ¥æ‰“å°å®ƒå‡ºæ¥ï¼Œè·å–åˆ°çš„å±æ€§å€¼å…¨éƒ½æ˜¯<code>null</code>æˆ–è€…<code>undefined</code>ã€‚</p> <p>ä¾‹å¦‚è¿™æ®µä»£ç ï¼š</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">SyntheticEvent</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">clickBtn</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// nullified object</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "click"</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">clickBtn</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          ç‚¹å‡»æˆ‘
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>event</code>æ‹¿åˆ°çš„å¯¹è±¡ï¼š</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
 <span class="token literal-property property">detail</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
 <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
 <span class="token literal-property property">nativeEvent</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
 <span class="token literal-property property">isTrusted</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
 <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æ‰€ä»¥æœ‰äº†å®˜ç½‘çš„è¿™å¥è¯ï¼š</p> <p><code>SyntheticEvent</code> æ˜¯åˆå¹¶è€Œæ¥ã€‚è¿™æ„å‘³ç€ <code>SyntheticEvent</code> å¯¹è±¡å¯èƒ½ä¼šè¢«é‡ç”¨ï¼Œè€Œä¸”åœ¨äº‹ä»¶å›è°ƒå‡½æ•°è¢«è°ƒç”¨åï¼Œæ‰€æœ‰çš„å±æ€§éƒ½ä¼šæ— æ•ˆã€‚å‡ºäºæ€§èƒ½è€ƒè™‘ï¼Œä½ ä¸èƒ½é€šè¿‡å¼‚æ­¥è®¿é—®äº‹ä»¶ã€‚</p> <p>å†å¦‚ä¸‹ï¼š</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">function</span> <span class="token function">clickBtn</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; nullified object.</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; "click"</span>
  <span class="token keyword">const</span> eventType <span class="token operator">=</span> event<span class="token punctuation">.</span>type<span class="token punctuation">;</span> <span class="token comment">// =&gt; "click"</span>

  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; null</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>eventType<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; "click"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// ä¸èµ·ä½œç”¨ï¼Œthis.state.clickEvent çš„å€¼å°†ä¼šåªåŒ…å« null</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">clickEvent</span><span class="token operator">:</span> event<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// ä½ ä»ç„¶å¯ä»¥å¯¼å‡ºäº‹ä»¶å±æ€§</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">eventType</span><span class="token operator">:</span> event<span class="token punctuation">.</span>type<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å¦‚æœä½ æƒ³å¼‚æ­¥è®¿é—®äº‹ä»¶å±æ€§ï¼Œä½ éœ€åœ¨äº‹ä»¶ä¸Šè°ƒç”¨ <code>event.persist()</code>ï¼Œæ­¤æ–¹æ³•ä¼šä»æ± ä¸­ç§»é™¤åˆæˆäº‹ä»¶ï¼Œå…è®¸ç”¨æˆ·ä»£ç ä¿ç•™å¯¹äº‹ä»¶çš„å¼•ç”¨ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">clickBtn</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  event<span class="token punctuation">.</span><span class="token function">persist</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ç°åœ¨çš„<code>event</code>ï¼š</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
 <span class="token literal-property property">detail</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
 <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'click'</span><span class="token punctuation">,</span>
 <span class="token literal-property property">nativeEvent</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token literal-property property">isTrusted</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
 <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="å¤„ç†æ•è·é˜¶æ®µçš„ç‚¹å‡»äº‹ä»¶"><a href="#å¤„ç†æ•è·é˜¶æ®µçš„ç‚¹å‡»äº‹ä»¶" class="header-anchor">#</a> å¤„ç†æ•è·é˜¶æ®µçš„ç‚¹å‡»äº‹ä»¶</h4> <p>å¤„ç†æ•è·é˜¶æ®µçš„ç‚¹å‡»äº‹ä»¶è¯·ä½¿ç”¨ <code>onClickCapture</code>ï¼Œè€Œä¸æ˜¯ <code>onClick</code>ã€‚</p> <h3 id="æ§åˆ¶ç»„ä»¶ä¸éæ§åˆ¶ç»„ä»¶"><a href="#æ§åˆ¶ç»„ä»¶ä¸éæ§åˆ¶ç»„ä»¶" class="header-anchor">#</a> æ§åˆ¶ç»„ä»¶ä¸éæ§åˆ¶ç»„ä»¶</h3> <p>React æœ‰ä¸¤ç§ä¸åŒçš„æ–¹å¼æ¥å¤„ç†è¡¨å•è¾“å…¥ã€‚</p> <p>å¦‚æœä¸€ä¸ª input è¡¨å•å…ƒç´ çš„å€¼æ˜¯ç”± React æ§åˆ¶ï¼Œå°±å…¶ç§°ä¸º<em>å—æ§ç»„ä»¶</em>ã€‚å½“ç”¨æˆ·å°†æ•°æ®è¾“å…¥åˆ°å—æ§ç»„ä»¶æ—¶ï¼Œä¼šè§¦å‘ä¿®æ”¹çŠ¶æ€çš„äº‹ä»¶å¤„ç†å™¨ï¼Œè¿™æ—¶ç”±ä½ çš„ä»£ç æ¥å†³å®šæ­¤è¾“å…¥æ˜¯å¦æœ‰æ•ˆï¼ˆå¦‚æœæœ‰æ•ˆå°±ä½¿ç”¨æ›´æ–°åçš„å€¼é‡æ–°æ¸²æŸ“ï¼‰ã€‚å¦‚æœä¸é‡æ–°æ¸²æŸ“ï¼Œåˆ™è¡¨å•å…ƒç´ å°†ä¿æŒä¸å˜ã€‚</p> <p>ä¸€ä¸ª<em>éå—æ§ç»„ä»¶</em>ï¼Œå°±åƒæ˜¯è¿è¡Œåœ¨ React ä½“ç³»ä¹‹å¤–çš„è¡¨å•å…ƒç´ ã€‚å½“ç”¨æˆ·å°†æ•°æ®è¾“å…¥åˆ°è¡¨å•å­—æ®µï¼ˆä¾‹å¦‚ inputï¼Œdropdown ç­‰ï¼‰æ—¶ï¼ŒReact ä¸éœ€è¦åšä»»ä½•äº‹æƒ…å°±å¯ä»¥æ˜ å°„æ›´æ–°åçš„ä¿¡æ¯ã€‚ç„¶è€Œï¼Œè¿™ä¹Ÿæ„å‘³ç€ï¼Œä½ æ— æ³•å¼ºåˆ¶ç»™è¿™ä¸ªè¡¨å•å­—æ®µè®¾ç½®ä¸€ä¸ªç‰¹å®šå€¼ã€‚</p> <p>åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä½ åº”è¯¥ä½¿ç”¨å—æ§ç»„ä»¶ã€‚</p></div> <!----> <div class="readMore-wrapper"><span class="readMore">é˜…è¯»å…¨æ–‡</span></div>
                    </div>
                            <p>è¿™æ˜¯ä¸€ä¸ªä¿¡æ¯æç¤ºæ¡†ã€‚</p>
                        </div>

                        <div class="note warning">
                            <div class="note-title"><i class="fas fa-exclamation-triangle"></i> æ³¨æ„</div>
                            <p>è¿™æ˜¯ä¸€ä¸ªè­¦å‘Šæç¤ºæ¡†ã€‚</p>
                        </div>

                        <div class="note success">
                            <div class="note-title"><i class="fas fa-check-circle"></i> æˆåŠŸ</div>
                            <p>è¿™æ˜¯ä¸€ä¸ªæˆåŠŸæç¤ºæ¡†ã€‚</p>
                        </div>

                        <h2>ä»£ç ç¤ºä¾‹</h2>
                        <pre><code class="language-javascript">// ç¤ºä¾‹ä»£ç 
function example() {
    console.log('Hello, FrontendHub!');
}
</code></pre>
                    </div>

                    <!-- æ–‡ç« åº•éƒ¨å¯¼èˆª -->
                    <nav class="article-nav">
                        <a href="#" class="prev-article">
                            <i class="fas fa-chevron-left"></i>
                            <span>ä¸Šä¸€ç¯‡</span>
                        </a>
                        <a href="#" class="next-article">
                            <span>ä¸‹ä¸€ç¯‡</span>
                            <i class="fas fa-chevron-right"></i>
                        </a>
                    </nav>
                </article>
            </div>
        </div>
    </main>

    <!-- é¡µè„š -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4><i class="fas fa-code"></i> FrontendHub</h4>
                    <p>ä¸“æ³¨äºå‰ç«¯æŠ€æœ¯å­¦ä¹ ä¸é¢è¯•å‡†å¤‡</p>
                </div>
                <div class="footer-section">
                    <h4>å¿«é€Ÿé“¾æ¥</h4>
                    <ul>
                        <li><a href="../../index.html">é¦–é¡µ</a></li>
                        <li><a href="../index.html#courses">è¯¾ç¨‹ä½“ç³»</a></li>
                        <li><a href="../index.html#resources">å­¦ä¹ èµ„æº</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 FrontendHub. ç”¨äºä¸ªäººå­¦ä¹ ä½¿ç”¨.</p>
            </div>
        </div>
    </footer>

    <!-- è¿”å›é¡¶éƒ¨æŒ‰é’® -->
    <button class="back-to-top" id="backToTop">
        <i class="fas fa-arrow-up"></i>
    </button>

    <script src="../../js/main.js"></script>
    <script src="../../js/content.js"></script>
</body>
</html>

