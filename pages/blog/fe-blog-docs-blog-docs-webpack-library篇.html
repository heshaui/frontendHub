<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="referrer" content="no-referrer">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>webpack libraryç¯‡ - FrontendHub</title>
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="../../css/content.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="content-page">
    <!-- å¯¼èˆªæ  -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand">
                <a href="../../index.html" style="color: inherit; text-decoration: none; display: flex; align-items: center; gap: 0.5rem;">
                    <i class="fas fa-code"></i>
                    <span>FrontendHub</span>
                </a>
            </div>
            <button class="nav-toggle" id="navToggle">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <ul class="nav-menu" id="navMenu">
                <li><a href="../../index.html">é¦–é¡µ</a></li>
                <li><a href="../index.html#features">ç‰¹è‰²</a></li>
                <li><a href="../index.html#courses">è¯¾ç¨‹</a></li>
                <li><a href="../index.html#resources">èµ„æº</a></li>
            </ul>
        </div>
    </nav>

    <!-- é¢åŒ…å±‘å¯¼èˆª -->
    <div class="breadcrumb">
        <div class="container">
            <a href="../../index.html"><i class="fas fa-home"></i> é¦–é¡µ</a>
            <i class="fas fa-chevron-right"></i>
            <span>webpack libraryç¯‡</span>
        </div>
    </div>

    <!-- ä¸»è¦å†…å®¹åŒº -->
    <main class="content-main">
        <div class="container">
            <div class="content-layout">
                <!-- ä¾§è¾¹æ ç›®å½• -->
                <aside class="sidebar">
                    <div class="sidebar-sticky">
                        <h3><i class="fas fa-list"></i> ç›®å½•</h3>
                        <nav class="toc" id="toc">
                            <!-- ç›®å½•å°†é€šè¿‡JavaScriptè‡ªåŠ¨ç”Ÿæˆ -->
                        </nav>
                    </div>
                </aside>

                <!-- æ–‡ç« å†…å®¹ -->
                <article class="article">
                    <header class="article-header">
                        <h1>webpack libraryç¯‡</h1>
                        <div class="article-meta">
                            <span><i class="far fa-calendar"></i> æ›´æ–°æ—¶é—´ï¼š2025-12-23</span>
                            <span><i class="far fa-clock"></i> é˜…è¯»æ—¶é•¿ï¼šçº¦ 15 åˆ†é’Ÿ</span>
                        </div>
                    </header>

                    <div class="article-content">
<div class="content__default"><h2 id="ä¸€ã€webpack-numbersæ¡ˆä¾‹"><a href="#ä¸€ã€webpack-numbersæ¡ˆä¾‹" class="header-anchor">#</a> ä¸€ã€webpack-numbersæ¡ˆä¾‹</h2> <p>è¿™é‡Œæˆ‘ä¹Ÿä¸æŠ˜è…¾äº†, å°±ä»¥å®˜ç½‘æä¾›çš„æ¡ˆä¾‹è¿›è¡Œè®²è§£å§.</p> <p>é¦–å…ˆè®©æˆ‘ä»¬æ˜ç¡®è¦åšä»€ä¹ˆäº‹æƒ….</p> <ol><li>æœ¬åœ°ç¼–å†™åˆ›å»ºä¸€ä¸ªåä¸º<code>lindaidai-webpack-numbers</code>çš„é¡¹ç›®(ä¹Ÿå°±æ˜¯library)</li> <li>è¿™ä¸ªlibraryçš„åŠŸèƒ½æ˜¯å¯¼å‡ºä¸¤ä¸ªæ–¹æ³•, èƒ½å®ç°æ•°å­—ä¸å­—ç¬¦ä¸²çš„äº’ç›¸è½¬æ¢</li> <li>libraryä¸­ç”¨åˆ°äº†lodashè¿™ä¸ªå·¥å…·åº“</li> <li>å°†libraryæ‰“åŒ…å‘å¸ƒåˆ°NPMä¸Š, å…¶å®ƒç”¨æˆ·èƒ½å¤Ÿé€šè¿‡<code>npm install</code>çš„æ–¹å¼ä¸‹è½½ä½¿ç”¨</li> <li>å¤–éƒ¨åŒ–lodash, ä¹Ÿå°±æ˜¯æˆ‘ä»¬libraryè™½ç„¶ä½¿ç”¨äº†lodash, ä½†æ˜¯å¹¶ä¸è¦å°†å®ƒæ‰“åŒ…åˆ°æˆ‘ä»¬çš„bundleä¸­</li> <li>ç”¨æˆ·èƒ½é€šè¿‡ES2015æ¨¡å—, CommonJSæ¨¡å—, scriptè„šæœ¬å¼•å…¥æˆ‘ä»¬çš„libraryå¹¶ä½¿ç”¨å®ƒ</li></ol> <p>è¯¥ library çš„ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// ES2015æ¨¡å—å¼•å…¥</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> webpackNumbers <span class="token keyword">from</span> <span class="token string">'lindaidai-webpack-numbers'</span>
<span class="token comment">// CommonJSæ¨¡å—å¼•å…¥</span>
<span class="token keyword">var</span> webpackNumbers <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'lindaidai-webpack-numbers'</span><span class="token punctuation">)</span>

<span class="token comment">// ES2015æ¨¡å—å’ŒCommonJSæ¨¡å—éƒ½æ˜¯è¿™æ ·è°ƒç”¨çš„:</span>
webpackNumbers<span class="token punctuation">.</span><span class="token function">numToWord</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>

<span class="token comment">// AMDæ¨¡å—å¼•å…¥</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'lindaidai-webpack-numbers'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">webpackNumbers</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// AMD æ¨¡å—è°ƒç”¨</span>
  webpackNumbers<span class="token punctuation">.</span><span class="token function">wordToNum</span><span class="token punctuation">(</span><span class="token string">'Two'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>ç”¨æˆ·è¿˜å¯ä»¥é€šè¿‡ script æ ‡ç­¾æ¥åŠ è½½å’Œä½¿ç”¨æ­¤ libraryï¼š</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">doctype</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
  ...
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://unpkg.com/lindaidai-webpack-numbers<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token comment">// ...</span>
    <span class="token comment">// å…¨å±€å˜é‡</span>
    webpackNumbers<span class="token punctuation">.</span><span class="token function">wordToNum</span><span class="token punctuation">(</span><span class="token string">'Five'</span><span class="token punctuation">)</span>
    <span class="token comment">// window å¯¹è±¡ä¸­çš„å±æ€§</span>
    window<span class="token punctuation">.</span>webpackNumbers<span class="token punctuation">.</span><span class="token function">wordToNum</span><span class="token punctuation">(</span><span class="token string">'Five'</span><span class="token punctuation">)</span>
    <span class="token comment">// ...</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="åˆ›å»ºlibraryçš„é¡¹ç›®ç»“æ„"><a href="#åˆ›å»ºlibraryçš„é¡¹ç›®ç»“æ„" class="header-anchor">#</a> åˆ›å»ºlibraryçš„é¡¹ç›®ç»“æ„</h3> <p>è®©æˆ‘ä»¬ä½¿ç”¨webpackå¿«é€Ÿçš„æ„å»ºä¸€ä¸ªæœ¬åœ°çš„library.</p> <p>ç”±äºæœ‰äº†ä¹‹å‰webpackçš„åŸºç¡€, æˆ‘ç›¸ä¿¡ä½ æ„å»ºèµ·æ¥åº”è¯¥ä¹Ÿä¼šå¾ˆå¿«.</p> <div class="language- extra-class"><pre class="language-text"><code>mkdir lindaidai-webpack-numbers &amp;&amp; cd lindaidai-webpack-numbers
npm init -y
cnpm i --save-dev webpack webpack-cli lodash
touch webpack.config.js
mkdir src &amp;&amp; cd src
touch index.js
touch ref.json
</code></pre></div><p>ä¸€é¡¿æ“ä½œä¹‹å, é¡¹ç›®ç»“æ„å˜æˆäº†è¿™æ ·:</p> <div class="language- extra-class"><pre class="language-text"><code>lindaidai-webpack-numbers
	|- /node_modules
	|- /src
		|- index.js
		|- ref.json
	|- package.json
	|- webpack.config.js
</code></pre></div><p>ä¹‹åæ¥ç®€å•çš„ç¼–å†™ä¸€ä¸‹æ–‡ä»¶ä¸­çš„ä»£ç :</p> <p><strong>src/ref.json</strong>:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span><span class="token punctuation">{</span>
        <span class="token property">"num"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">"word"</span><span class="token operator">:</span> <span class="token string">"One"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token property">"num"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token property">"word"</span><span class="token operator">:</span> <span class="token string">"Two"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token property">"num"</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
        <span class="token property">"word"</span><span class="token operator">:</span> <span class="token string">"Three"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token property">"num"</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
        <span class="token property">"word"</span><span class="token operator">:</span> <span class="token string">"Four"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token property">"num"</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
        <span class="token property">"word"</span><span class="token operator">:</span> <span class="token string">"Five"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token property">"num"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token property">"word"</span><span class="token operator">:</span> <span class="token string">"Zero"</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div><p><strong>src/index.js</strong>:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> _ <span class="token keyword">from</span> <span class="token string">'lodash'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> numRef <span class="token keyword">from</span> <span class="token string">'./ref.json'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">numToWord</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> _<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>numRef<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">accum<span class="token punctuation">,</span> ref</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> num <span class="token operator">===</span> ref<span class="token punctuation">.</span>num <span class="token operator">?</span> ref<span class="token punctuation">.</span>word <span class="token operator">:</span> accum
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">wordToNum</span><span class="token punctuation">(</span><span class="token parameter">word</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> _<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>numRef<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">accum<span class="token punctuation">,</span> ref</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> ref<span class="token punctuation">.</span>word <span class="token operator">===</span> word <span class="token operator">&amp;&amp;</span> word<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> ref<span class="token punctuation">.</span>num <span class="token operator">:</span> accum<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>webpack.config.js</strong>:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">'./src/index.js'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">'webpack-numbers.js'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="é…ç½®webpack-config-js"><a href="#é…ç½®webpack-config-js" class="header-anchor">#</a> é…ç½®webpack.config.js</h3> <p>ç¼–å†™å®Œæˆä¸Šé¢ğŸ‘†å‡ ä¸ªæ–‡ä»¶ä¹‹å, æ‰“åŒ…ä¹‹åç”Ÿæˆçš„<code>dist</code>ç›®å½•å°±åªæœ‰ä¸€ä¸ª<code>webpack-numbers.js</code>æ–‡ä»¶:</p> <div class="language- extra-class"><pre class="language-text"><code>/dist
	|- webpack.numbers.js
</code></pre></div><p>ä½†æ˜¯æˆ‘ä»¬æ³¨æ„åˆ°ç”Ÿæˆçš„jsä¸­åŒ…å«äº†lodash:</p> <div class="language-diff extra-class"><pre class="language-diff"><code>lindaidai@LinDaiDaideMacBook-Pro lindaidai-webpack-numbers % npm run build

<span class="token inserted-arrow inserted"><span class="token prefix inserted">&gt;</span><span class="token line"> lindaidai-webpack-numbers@1.0.0 build /Users/lindaidai/codes/webpack/lindaidai-webpack-numbers
</span><span class="token prefix inserted">&gt;</span><span class="token line"> webpack
</span></span>
Hash: e49f78747376a068a282
Version: webpack 4.41.5
Time: 1544ms
Built at: 2020-02-10 6:57:59 PM
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">            Asset      Size  Chunks             Chunk Names
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> webpack-numbers.js  72.4 KiB       0  [emitted]  main
</span></span></code></pre></div><p>æ‰€ä»¥å¯¼è‡´<code>webpack-number.js</code>éå¸¸å¤§.</p> <h4 id="å¤–éƒ¨åŒ–lodash-é…ç½®externals"><a href="#å¤–éƒ¨åŒ–lodash-é…ç½®externals" class="header-anchor">#</a> å¤–éƒ¨åŒ–lodash(é…ç½®externals)</h4> <p>å› æ­¤å¯¹äºè¿™ç§æˆ‘ä»¬é¢å¤–å¼•å…¥çš„module, æˆ‘ä»¬æ›´å€¾å‘äºæŠŠ <code>lodash</code> å½“ä½œ <code>peerDependency</code>ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç”¨æˆ·åº”è¯¥å·²ç»å°† <code>lodash</code> å®‰è£…å¥½.</p> <p>æ‰€ä»¥ï¼Œä½ å¯ä»¥æ”¾å¼ƒå¯¹å¤–éƒ¨ library çš„æ§åˆ¶ï¼Œè€Œæ˜¯å°†æ§åˆ¶æƒè®©ç»™ä½¿ç”¨ library çš„ç”¨æˆ·ã€‚</p> <p>è¿™ä¸ªåŠŸèƒ½éœ€è¦é <code>externals</code>é…ç½®:</p> <p><strong>webpack.config.js</strong>:</p> <div class="language-diff extra-class"><pre class="language-diff"><code>module.exports = {
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> entry: './src/index.js',
</span><span class="token prefix unchanged"> </span><span class="token line"> output: {
</span><span class="token prefix unchanged"> </span><span class="token line">   path: path.resolve(__dirname, 'dist'),
</span><span class="token prefix unchanged"> </span><span class="token line">   filename: 'webpack-numbers.js'
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">  }
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">  },
</span><span class="token prefix inserted">+</span><span class="token line">  externals: {
</span><span class="token prefix inserted">+</span><span class="token line">  	lodash: {
</span><span class="token prefix inserted">+</span><span class="token line">  		commonjs: 'lodash',
</span><span class="token prefix inserted">+</span><span class="token line">  		commonjs2: 'lodash',
</span><span class="token prefix inserted">+</span><span class="token line">  		amd: 'lodash',
</span><span class="token prefix inserted">+</span><span class="token line">  		root: '_'
</span><span class="token prefix inserted">+</span><span class="token line">  	}
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> }
</span></span>};
</code></pre></div><blockquote><p>è¿™æ„å‘³ç€ä½ çš„ library éœ€è¦ä¸€ä¸ªåä¸º <code>lodash</code> çš„ä¾èµ–ï¼Œè¿™ä¸ªä¾èµ–åœ¨ç”¨æˆ·çš„ç¯å¢ƒä¸­å¿…é¡»å­˜åœ¨ä¸”å¯ç”¨ã€‚</p></blockquote> <h4 id="æš´éœ²library"><a href="#æš´éœ²library" class="header-anchor">#</a> æš´éœ²library</h4> <p>å› ä¸ºæˆ‘ä»¬ç¼–å†™çš„libraryå¯èƒ½ä¼šåœ¨ä¸åŒçš„æ‰§è¡Œç¯å¢ƒä¸­ç”¨åˆ°ï¼Œä¾‹å¦‚ CommonJSï¼ŒAMDï¼ŒNode.js æˆ–è€…ä½œä¸ºä¸€ä¸ªå…¨å±€å˜é‡.</p> <p>æ‰€ä»¥ä¸ºäº†å®ç°è¿™ä¸ªåŠŸèƒ½, æˆ‘ä»¬é¦–å…ˆéœ€è¦åœ¨<code>oupout</code>ä¸­æ·»åŠ <code>library</code>å±æ€§:</p> <p><strong>webpack.config.js</strong>:</p> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> var path = require('path');
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> module.exports = {
</span><span class="token prefix unchanged"> </span><span class="token line">   entry: './src/index.js',
</span><span class="token prefix unchanged"> </span><span class="token line">   output: {
</span><span class="token prefix unchanged"> </span><span class="token line">     path: path.resolve(__dirname, 'dist'),
</span><span class="token prefix unchanged"> </span><span class="token line">     filename: 'webpack-numbers.js',
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">     library: 'webpackNumbers'
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   },
</span><span class="token prefix unchanged"> </span><span class="token line">   externals: {
</span><span class="token prefix unchanged"> </span><span class="token line">     lodash: {
</span><span class="token prefix unchanged"> </span><span class="token line">       commonjs: 'lodash',
</span><span class="token prefix unchanged"> </span><span class="token line">       commonjs2: 'lodash',
</span><span class="token prefix unchanged"> </span><span class="token line">       amd: 'lodash',
</span><span class="token prefix unchanged"> </span><span class="token line">       root: '_'
</span><span class="token prefix unchanged"> </span><span class="token line">     }
</span><span class="token prefix unchanged"> </span><span class="token line">   }
</span><span class="token prefix unchanged"> </span><span class="token line"> };
</span></span></code></pre></div><p>æ·»åŠ äº†<code>library</code>å±æ€§æ˜¯ä¸ºäº†å°†<code>library</code>åœ¨æ‰“åŒ…ä¹‹åçš„<code>bundle</code>æ–‡ä»¶ä¸­æš´éœ²ä¸€ä¸ªåä¸º<code>webpackNumbers</code>çš„å…¨å±€å˜é‡.</p> <p>ä½†æ˜¯è¿˜éœ€è¦æŒ‡å®šæˆ‘ä»¬çš„<code>library</code>åœ¨æ€æ ·çš„ç¯å¢ƒä¸­ä½¿ç”¨.</p> <p>è¿™ä¾é äº<code>libraryTarget</code>å±æ€§, å®ƒå¯ä»¥æ§åˆ¶<code>library</code>å¦‚ä½•ä»¥ä¸åŒæ–¹å¼æš´éœ²çš„é€‰é¡¹.</p> <p>ä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªå€¼:</p> <ul><li>å˜é‡ï¼šä½œä¸ºä¸€ä¸ªå…¨å±€å˜é‡ï¼Œé€šè¿‡ <code>script</code> æ ‡ç­¾æ¥è®¿é—®ï¼ˆ<code>libraryTarget:'var'</code>ï¼‰ã€‚</li> <li>thisï¼šé€šè¿‡ <code>this</code> å¯¹è±¡è®¿é—®ï¼ˆ<code>libraryTarget:'this'</code>ï¼‰ã€‚</li> <li>windowï¼šé€šè¿‡ <code>window</code> å¯¹è±¡è®¿é—®ï¼Œåœ¨æµè§ˆå™¨ä¸­ï¼ˆ<code>libraryTarget:'window'</code>ï¼‰ã€‚</li> <li>UMDï¼šåœ¨ AMD æˆ– CommonJS çš„ <code>require</code> ä¹‹åå¯è®¿é—®, ä¹Ÿå°±æ˜¯ä»¥ä¸Šå‡ ç§ç¯å¢ƒéƒ½å¯ä»¥è®¿é—®ï¼ˆ<code>libraryTarget:'umd'</code>ï¼‰</li></ul> <p><strong>å¦‚æœè®¾ç½®äº† <code>library</code> ä½†æ²¡è®¾ç½® <code>libraryTarget</code>ï¼Œåˆ™ <code>libraryTarget</code> é»˜è®¤ä¸º <code>var</code></strong></p> <p>æ‰€ä»¥åœ¨æ­¤å¤„æˆ‘å¸Œæœ›åœ¨æ‰€æœ‰çš„ç¯å¢ƒä¸­éƒ½èƒ½ä½¿ç”¨, åˆ™åªè¦è®¾ç½®<code>libraryTarget: 'umd'</code>:</p> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> var path = require('path');
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> module.exports = {
</span><span class="token prefix unchanged"> </span><span class="token line">   entry: './src/index.js',
</span><span class="token prefix unchanged"> </span><span class="token line">   output: {
</span><span class="token prefix unchanged"> </span><span class="token line">     path: path.resolve(__dirname, 'dist'),
</span><span class="token prefix unchanged"> </span><span class="token line">     filename: 'webpack-numbers.js',
</span><span class="token prefix unchanged"> </span><span class="token line">     library: 'webpackNumbers',
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">     libraryTarget: 'umd'
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   },
</span><span class="token prefix unchanged"> </span><span class="token line">   externals: {
</span><span class="token prefix unchanged"> </span><span class="token line">     lodash: {
</span><span class="token prefix unchanged"> </span><span class="token line">       commonjs: 'lodash',
</span><span class="token prefix unchanged"> </span><span class="token line">       commonjs2: 'lodash',
</span><span class="token prefix unchanged"> </span><span class="token line">       amd: 'lodash',
</span><span class="token prefix unchanged"> </span><span class="token line">       root: '_'
</span><span class="token prefix unchanged"> </span><span class="token line">     }
</span><span class="token prefix unchanged"> </span><span class="token line">   }
</span><span class="token prefix unchanged"> </span><span class="token line"> };
</span></span></code></pre></div><h3 id="å‘å¸ƒè‡³npm"><a href="#å‘å¸ƒè‡³npm" class="header-anchor">#</a> å‘å¸ƒè‡³NPM</h3> <p>ç°åœ¨æˆ‘ä»¬å¸Œæœ›çš„æ˜¯å°†æ‰“åŒ…ä¹‹åçš„<code>dist</code>æ–‡ä»¶ä¸è¿™æ•´ä¸ªé¡¹ç›®ä¸€èµ·å‘å¸ƒåˆ°NPMä¸Š.</p> <p>æ‰€ä»¥æˆ‘ä»¬éœ€è¦æ‰§è¡Œæ‰“åŒ…å‘½ä»¤è®©<code>library</code>é¡¹ç›®ç›®å½•ç»“æ„å˜ä¸º:</p> <div class="language- extra-class"><pre class="language-text"><code>lindaidai-webpack-numbers
	|- /dist
		|- webpack.numbers.js
	|- /src
		|- index.js
		|- ref.json
	|- package.json
	|- webpack.config.js
</code></pre></div><p>(å¦‚æœä½ çš„é¡¹ç›®æ²¡æœ‰é…ç½®æ‰“åŒ…å‘½ä»¤çš„è¯éœ€è¦åœ¨package.jsonä¸­é…ç½®ä¸€ä¸ªè„šæœ¬å‘½ä»¤"build": "webpack", è¿™æ ·ä½ å°±å¯ä»¥æ‰§è¡Œ<code>npm run build</code>æŒ‡ä»¤è¿›è¡Œæ‰“åŒ…äº†)</p> <h4 id="ç™»å½•npm"><a href="#ç™»å½•npm" class="header-anchor">#</a> ç™»å½•npm</h4> <div class="language- extra-class"><pre class="language-text"><code>npm adduser //åˆ›å»ºç”¨æˆ·(å¦‚æœä½ æ²¡æœ‰npmè´¦å·çš„è¯)
or
npm login //ç™»å½•ç”¨æˆ·
</code></pre></div><p>å¯ä»¥ä½¿ç”¨:</p> <div class="language- extra-class"><pre class="language-text"><code>npm whoami
</code></pre></div><p>æ£€æµ‹ç”¨æˆ·æ˜¯å¦ç™»å½•ä¸Šäº†npm</p> <h4 id="å®‰è£…publish"><a href="#å®‰è£…publish" class="header-anchor">#</a> å®‰è£…publish</h4> <p>é¦–å…ˆéœ€è¦å®‰è£…publish</p> <div class="language- extra-class"><pre class="language-text"><code>npm i -g publish
</code></pre></div><h4 id="å‘å¸ƒlibrary"><a href="#å‘å¸ƒlibrary" class="header-anchor">#</a> å‘å¸ƒlibrary</h4> <p>ç”±äºæˆ‘ä»¬ä¹‹å‰æåˆ°äº†ä½ éœ€è¦å°†æ•´ä¸ªlibraryé€šè¿‡bundleä¸­çš„<code>webpack.numbers.js</code>æš´éœ²å‡ºå», æ‰€ä»¥ä½ è¿˜éœ€è¦ä¿®æ”¹package.jsonä¸­çš„<code>"main"</code>å±æ€§:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token operator">...</span>
  <span class="token string-property property">"main"</span><span class="token operator">:</span> <span class="token string">"dist/webpack-numbers.js"</span><span class="token punctuation">,</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>è¿™æ ·æ•´ä½“çš„package.jsonéœ€è¦ä¿®æ”¹æˆå¦‚ä¸‹:</p> <div class="language-diff extra-class"><pre class="language-diff"><code>{
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   "name": "lindaidai-webpack-numbers",
</span><span class="token prefix unchanged"> </span><span class="token line">   "version": "1.0.0",
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">   "description": "This is a LinDaiDai's packages",
</span><span class="token prefix inserted">+</span><span class="token line">   "main": "dist/webpack-numbers.js",
</span><span class="token prefix inserted">+</span><span class="token line">   "private": false,
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   "scripts": {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">        "build": "webpack"
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   },
</span><span class="token prefix unchanged"> </span><span class="token line">   "keywords": [],
</span><span class="token prefix unchanged"> </span><span class="token line">   "author": "",
</span><span class="token prefix unchanged"> </span><span class="token line">   "license": "ISC",
</span><span class="token prefix unchanged"> </span><span class="token line">   "devDependencies": {
</span><span class="token prefix unchanged"> </span><span class="token line">       "lodash": "^4.17.15",
</span><span class="token prefix unchanged"> </span><span class="token line">       "webpack": "^4.41.5",
</span><span class="token prefix unchanged"> </span><span class="token line">       "webpack-cli": "^3.3.10"
</span><span class="token prefix unchanged"> </span><span class="token line">   }
</span></span>}
</code></pre></div><p>ç°åœ¨ä½ å°±å¯ä»¥åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰§è¡ŒæŒ‡ä»¤æ¥å‘å¸ƒlibraryäº†:</p> <div class="language- extra-class"><pre class="language-text"><code>npm publish
</code></pre></div><p>æˆåŠŸä¹‹ååº”è¯¥ä¼šæç¤º:</p> <div class="language- extra-class"><pre class="language-text"><code>+lindaidai-webpack-numbers@1.0.0
</code></pre></div><p>å¹¶ä¸”æ­¤æ—¶ä½ æ˜¯å¯ä»¥åœ¨ <a href="https://unpkg.com/#/" target="_blank" rel="noopener noreferrer">unpkg.com<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ä¸­æ‰¾åˆ°ä½ å‘å¸ƒçš„libraryçš„.</p> <p>è‹¥æ˜¯ä½ ç¼–å†™çš„æ¨¡å—æ˜¯ç¬¬ä¸€æ¬¡å‘å¸ƒçš„ï¼Œåˆ™ç›´æ¥ä½¿ç”¨æŒ‡ä»¤<code>npm publish</code>å°±å¯ä»¥äº†
è‹¥æ˜¯ç¬¬äºŒæ¬¡ï¼Œåˆ™éœ€è¦åœ¨<code>package.json</code>ä¸­ä¿®æ”¹ä¸€ä¸‹<code>version</code>ï¼Œå¦‚ä¿®æ”¹ä¸º<code>1.0.1</code>ï¼Œç„¶åå†æ¬¡æ‰§è¡Œ<code>npm publish</code>å°±OKäº†ã€‚</p> <p><strong>å¦‚æœä½ åœ¨å‘å¸ƒçš„æ—¶å€™æŠ¥äº†å¦‚ä¸‹çš„é”™è¯¯, è¿™æ˜¯ç”±äºåŒ…åé‡å¤äº†, ä¹Ÿå°±æ˜¯ä½ å‘å¸ƒçš„åŒ…åœ¨NPMä¸Šå·²ç»æœ‰äººç”¨äº†, ä½ æ¢ä¸ªåå­—å°±å¯ä»¥äº†</strong>:</p> <div class="language- extra-class"><pre class="language-text"><code>npm ERR! code E403
npm ERR! 403 403 Forbidden - PUT https://registry.npmjs.org/mini-vm - You do not have permission to publish "webpack-numbers". Are you logged in as the correct user?
npm ERR! 403 In most cases, you or one of your dependencies are requestingnpm ERR! 403 a package version that is forbidden by your security policy.

npm ERR! A complete log of this run can be found in:
npm ERR!     F:\node\rely\node_cache\_logs\2020-02-07T08_30_57_238Z-debug.log
</code></pre></div><p><strong>è¿˜æœ‰ä»¥ä¸‹å‡ ç‚¹éœ€è¦ä½ æ³¨æ„çš„:</strong></p> <ol><li><p>ç¡®ä¿è‡ªå·±æ˜¯ç™»å½•äº†npmçš„</p></li> <li><p>ç¡®ä¿è‡ªå·±çš„npmçš„é‚®ç®±è¢«æ¿€æ´»äº†</p></li> <li><p>å‘½åä¸èƒ½å¤ªç®€å•,æœ€åè¦æœ‰è‡ªå·±çš„æ ‡å¿—,å¤ªç®€å•å¯èƒ½æ˜¯åˆ«äººå·²ç»ç”¨è¿‡çš„åå­—ä½ å°±ä¸èƒ½å‘å¸ƒæˆåŠŸ,ä¹Ÿä¸è¦æœ‰æ•°å­—</p></li> <li><p>å¦‚æœæ˜¯è¦å†æ¬¡æ¨é€åŒä¸€ä¸ªé¡¹ç›®è®°å¾—ä¿®æ”¹è¯¥é¡¹ç›®ç‰ˆæœ¬å·ã€‚</p></li></ol> <p>å…·ä½“å…³äºNPMåŒ…çš„å‘å¸ƒå¯ä»¥çœ‹æˆ‘ä¹‹å‰çš„ä¸€ç¯‡æ–‡ç« : <a href="https://www.jianshu.com/p/e668c14ff88f" target="_blank" rel="noopener noreferrer">ã€ŠNPM-åœ¨npmä¸Šå‘å¸ƒæ¨¡å—ã€‹<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="ä½¿ç”¨å‘å¸ƒçš„library"><a href="#ä½¿ç”¨å‘å¸ƒçš„library" class="header-anchor">#</a> ä½¿ç”¨å‘å¸ƒçš„library</h3> <p>æˆåŠŸå°†è‡ªå·±çš„libraryå‘å¸ƒåˆ°NPMä¸Šäº†ä¹‹å, è®©æˆ‘ä»¬æ¥ç”¨ä¸ªæ¡ˆä¾‹æµ‹è¯•ä¸‹å§.</p> <p><strong>(æ¡ˆä¾‹GitHubåœ°å€: <a href="">LinDaiDai/webpack-basic</a>)</strong></p> <p>åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹æ‰§è¡Œå‘½ä»¤æ¥å®‰è£…library:</p> <div class="language- extra-class"><pre class="language-text"><code>npm i --save-dev lindaidai-webpack-numbers
</code></pre></div><p>æ¥ä¸‹é‡Œåœ¨é¡¹ç›®ä¸­ä½¿ç”¨å®ƒ:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// ES6</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> lindaiWebpackNumbers <span class="token keyword">from</span> <span class="token string">'lindaidai-webpack-numbers'</span>
<span class="token comment">// CommonJS</span>
<span class="token comment">// var lindaiWebpackNumbers = require('lindaidai-webpack-numbers')</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>lindaiWebpackNumbers<span class="token punctuation">.</span><span class="token function">numToWord</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// Two</span>
</code></pre></div><p>å¼•å…¥æ—¶å‘½åå¯ä»¥éšæ„, ä¸ä¸€å®šè¦æ˜¯<code>lindaidiWebpackNumbers</code>.</p></div> <!----> <div class="readMore-wrapper"><span class="readMore">é˜…è¯»å…¨æ–‡</span></div>
                    </div>
                            <p>è¿™æ˜¯ä¸€ä¸ªä¿¡æ¯æç¤ºæ¡†ã€‚</p>
                        </div>

                        <div class="note warning">
                            <div class="note-title"><i class="fas fa-exclamation-triangle"></i> æ³¨æ„</div>
                            <p>è¿™æ˜¯ä¸€ä¸ªè­¦å‘Šæç¤ºæ¡†ã€‚</p>
                        </div>

                        <div class="note success">
                            <div class="note-title"><i class="fas fa-check-circle"></i> æˆåŠŸ</div>
                            <p>è¿™æ˜¯ä¸€ä¸ªæˆåŠŸæç¤ºæ¡†ã€‚</p>
                        </div>

                        <h2>ä»£ç ç¤ºä¾‹</h2>
                        <pre><code class="language-javascript">// ç¤ºä¾‹ä»£ç 
function example() {
    console.log('Hello, FrontendHub!');
}
</code></pre>
                    </div>

                    <!-- æ–‡ç« åº•éƒ¨å¯¼èˆª -->
                    <nav class="article-nav">
                        <a href="#" class="prev-article">
                            <i class="fas fa-chevron-left"></i>
                            <span>ä¸Šä¸€ç¯‡</span>
                        </a>
                        <a href="#" class="next-article">
                            <span>ä¸‹ä¸€ç¯‡</span>
                            <i class="fas fa-chevron-right"></i>
                        </a>
                    </nav>
                </article>
            </div>
        </div>
    </main>

    <!-- é¡µè„š -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4><i class="fas fa-code"></i> FrontendHub</h4>
                    <p>ä¸“æ³¨äºå‰ç«¯æŠ€æœ¯å­¦ä¹ ä¸é¢è¯•å‡†å¤‡</p>
                </div>
                <div class="footer-section">
                    <h4>å¿«é€Ÿé“¾æ¥</h4>
                    <ul>
                        <li><a href="../../index.html">é¦–é¡µ</a></li>
                        <li><a href="../index.html#courses">è¯¾ç¨‹ä½“ç³»</a></li>
                        <li><a href="../index.html#resources">å­¦ä¹ èµ„æº</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 FrontendHub. ç”¨äºä¸ªäººå­¦ä¹ ä½¿ç”¨.</p>
            </div>
        </div>
    </footer>

    <!-- è¿”å›é¡¶éƒ¨æŒ‰é’® -->
    <button class="back-to-top" id="backToTop">
        <i class="fas fa-arrow-up"></i>
    </button>

    <script src="../../js/main.js"></script>
    <script src="../../js/content.js"></script>
</body>
</html>

