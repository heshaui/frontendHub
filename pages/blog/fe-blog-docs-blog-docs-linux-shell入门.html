<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="referrer" content="no-referrer">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>shell入门 - FrontendHub</title>
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="../../css/content.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="content-page">
    <!-- 导航栏 -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand">
                <a href="../../index.html" style="color: inherit; text-decoration: none; display: flex; align-items: center; gap: 0.5rem;">
                    <i class="fas fa-code"></i>
                    <span>FrontendHub</span>
                </a>
            </div>
            <button class="nav-toggle" id="navToggle">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <ul class="nav-menu" id="navMenu">
                <li><a href="../../index.html">首页</a></li>
                <li><a href="../index.html#features">特色</a></li>
                <li><a href="../index.html#courses">课程</a></li>
                <li><a href="../index.html#resources">资源</a></li>
            </ul>
        </div>
    </nav>

    <!-- 面包屑导航 -->
    <div class="breadcrumb">
        <div class="container">
            <a href="../../index.html"><i class="fas fa-home"></i> 首页</a>
            <i class="fas fa-chevron-right"></i>
            <span>shell入门</span>
        </div>
    </div>

    <!-- 主要内容区 -->
    <main class="content-main">
        <div class="container">
            <div class="content-layout">
                <!-- 侧边栏目录 -->
                <aside class="sidebar">
                    <div class="sidebar-sticky">
                        <h3><i class="fas fa-list"></i> 目录</h3>
                        <nav class="toc" id="toc">
                            <!-- 目录将通过JavaScript自动生成 -->
                        </nav>
                    </div>
                </aside>

                <!-- 文章内容 -->
                <article class="article">
                    <header class="article-header">
                        <h1>shell入门</h1>
                        <div class="article-meta">
                            <span><i class="far fa-calendar"></i> 更新时间：2025-12-23</span>
                            <span><i class="far fa-clock"></i> 阅读时长：约 15 分钟</span>
                        </div>
                    </header>

                    <div class="article-content">
<div class="content__default"><h2 id="一、初识shell"><a href="#一、初识shell" class="header-anchor">#</a> 一、初识shell</h2> <h3 id="_1-1-shell-环境"><a href="#_1-1-shell-环境" class="header-anchor">#</a> 1.1 Shell 环境</h3> <blockquote><p><code>Linux</code> 的 <code>Shell</code> 种类众多，常见的有</p></blockquote> <ul><li><code>/usr/bin/sh</code>或<code>/bin/sh</code></li> <li><code>/bin/bash</code></li> <li><code>C Shell（/usr/bin/csh）</code></li> <li><code>K Shell（/usr/bin/ksh）</code></li> <li><code>Shell for Root（/sbin/sh）</code></li></ul> <blockquote><p><code>Bash</code> 在日常工作中被广泛使用。同时，<code>Bash</code> 也是大多数<code>Linux</code> 系统默认的 <code>Shell</code></p></blockquote> <ul><li>打开文本编辑器(可以使用 <code>vi/vim</code> 命令来创建文件)，新建一个文件 <code>test.sh</code>，扩展名为 <code>sh</code>（<code>sh</code>代表<code>shell</code>），扩展名并不影响脚本执行，见名知意就好</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token builtin class-name">echo</span> <span class="token string">"Hello World !"</span>
</code></pre></div><ul><li><code>#!</code> 是一个约定的标记，它告诉系统这个脚本需要什么解释器来执行，即使用哪一种 <code>Shell</code></li> <li><code>echo</code> 命令用于向窗口输出文本</li></ul> <h3 id="_1-2-运行-shell-脚本有两种方法"><a href="#_1-2-运行-shell-脚本有两种方法" class="header-anchor">#</a> 1.2 运行 Shell 脚本有两种方法</h3> <p><strong>作为可执行程序</strong></p> <div class="language- extra-class"><pre class="language-text"><code>chmod +x ./test.sh  #使脚本具有执行权限
./test.sh  #执行脚本
</code></pre></div><blockquote><p>注意，一定要写成 <code>./test.sh</code>，而不是 <code>test.sh</code>，运行其它二进制的程序也一样，直接写 <code>test.sh</code>，<code>linux</code> 系统会去 <code>PATH</code> 里寻找有没有叫 <code>test.sh</code> 的，而只有 <code>/bin</code>, <code>/sbin,</code> <code>/usr/bin</code>，<code>/usr/sbin</code> 等在 <code>PATH</code> 里，你的当前目录通常不在 <code>PATH</code> 里，所以写成 <code>test.sh</code> 是会找不到命令的，<strong>要用 ./test.sh 告诉系统说，就在当前目录找</strong></p></blockquote> <p><strong>作为解释器参数</strong></p> <ul><li>这种运行方式是，直接运行解释器，其参数就是 <code>shell</code> 脚本的文件名</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>/bin/sh test.sh
/bin/php test.php
</code></pre></div><ul><li>这种方式运行的脚本，不需要在第一行指定解释器信息，写了也没用</li></ul> <h2 id="二、shell变量"><a href="#二、shell变量" class="header-anchor">#</a> 二、shell变量</h2> <ul><li>定义变量时，变量名不加美元符号</li> <li>注意，变量名和等号之间不能有空格</li> <li>命名只能使用英文字母，数字和下划线，首个字符不能以数字开头</li> <li><code>中间不能有空格</code>，可以使用下划线（<code>_</code>）</li> <li>不能使用标点符号</li> <li>不能使用<code>bash</code>里的关键字（可用<code>help</code>命令查看保留关键字）</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">your_name</span><span class="token operator">=</span><span class="token string">"poetries"</span> <span class="token comment">#中间不能有空格</span>
</code></pre></div><ul><li>有效的 <code>Shell</code> 变量名示例如下</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>RUNOOB
LD_LIBRARY_PATH
_var
var2
</code></pre></div><h3 id="_2-1-使用变量"><a href="#_2-1-使用变量" class="header-anchor">#</a> 2.1 使用变量</h3> <ul><li>使用一个定义过的变量，只要在变量名前面加美元符号即可</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">your_name</span><span class="token operator">=</span><span class="token string">"poetries"</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$your_name</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${your_name}</span>
</code></pre></div><ul><li>变量名外面的花括号是可选的，加不加都行，加花括号是为了帮助解释器识别变量的边界，比如下面这种情况</li> <li>如果不给<code>skill</code>变量加花括号，写成<code>echo "I am good at $skillScript"</code>，解释器就会把<code>$skillScript</code>当成一个变量（其值为空），代码执行结果就不是我们期望的样子了</li> <li>推荐给所有变量加上花括号，这是个好的编程习惯</li></ul> <div class="language- extra-class"><pre class="language-text"><code>for skill in Ada Coffe Action Java; do
    echo "I am good at ${skill}Script"
done
</code></pre></div><ul><li>已定义的变量，可以被重新定义，如：</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">your_name</span><span class="token operator">=</span><span class="token string">"tom"</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$your_name</span>
<span class="token assign-left variable">your_name</span><span class="token operator">=</span><span class="token string">"alibaba"</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$your_name</span>
</code></pre></div><h3 id="_2-2-只读变量"><a href="#_2-2-只读变量" class="header-anchor">#</a> 2.2 只读变量</h3> <ul><li>使用 <code>readonly</code> 命令可以将变量定义为只读变量，只读变量的值不能被改变</li> <li>下面的例子尝试更改只读变量，结果报错</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">myUrl</span><span class="token operator">=</span><span class="token string">"http://www.w3cschool.cc"</span>
<span class="token builtin class-name">readonly</span> myUrl
<span class="token assign-left variable">myUrl</span><span class="token operator">=</span><span class="token string">"http://www.runoob.com"</span>
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>/bin/sh: NAME: This variable is read only.
</code></pre></div><h3 id="_2-3-删除变量"><a href="#_2-3-删除变量" class="header-anchor">#</a> 2.3 删除变量</h3> <ul><li>使用 <code>unset</code> 命令可以删除变量。</li> <li>语法 <code>unset variable_name</code></li> <li>变量被删除后不能再次使用。<code>unset</code> 命令不能删除只读变量</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/sh</span>
<span class="token assign-left variable">myUrl</span><span class="token operator">=</span><span class="token string">"http://www.runoob.com"</span>
<span class="token builtin class-name">unset</span> myUrl
<span class="token builtin class-name">echo</span> <span class="token variable">$myUrl</span>
</code></pre></div><h3 id="_2-4-变量类型"><a href="#_2-4-变量类型" class="header-anchor">#</a> 2.4 变量类型</h3> <p><strong>运行shell时，会同时存在三种变量</strong></p> <ul><li><strong>局部变</strong>量 局部变量在脚本或命令中定义，仅在当前<code>shell</code>实例中有效，其他<code>shell</code>启动的程序不能访问局部变量</li> <li><strong>环境变量</strong> 所有的程序，包括<code>shell</code>启动的程序，都能访问环境变量，有些程序需要环境变量来保证其正常运行。必要的时候<code>shell</code>脚本也可以定义环境变量</li> <li><strong><code>shell</code>变量</strong> <code>shell</code>变量是由<code>shell</code>程序设置的特殊变量。<code>shell</code>变量中有一部分是环境变量，有一部分是局部变量，这些变量保证了<code>shell</code>的正常运行</li></ul> <h3 id="_2-5-shell-字符串"><a href="#_2-5-shell-字符串" class="header-anchor">#</a> 2.5 Shell 字符串</h3> <ul><li>字符串是<code>shell</code>编程中最常用最有用的数据类型（除了数字和字符串，也没啥其它类型好用了），字符串可以用单引号，也可以用双引号，也可以不用引号。单双引号的区别跟<code>PHP</code>类似。</li></ul> <p><strong>单引号</strong></p> <div class="language- extra-class"><pre class="language-text"><code>str='this is a string'
</code></pre></div><ul><li>单引号里的任何字符都会原样输出，单引号字符串中的变量是无效的</li> <li>单引号字串中不能出现单引号（对单引号使用转义符后也不行）</li></ul> <p><strong>双引号</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">author</span><span class="token operator">=</span><span class="token string">'poetries'</span>
<span class="token builtin class-name">echo</span> <span class="token string">"hello,I'm <span class="token variable">${author}</span>"</span>
</code></pre></div><ul><li>双引号里可以有变量</li> <li>双引号里可以出现转义字符</li></ul> <h3 id="_2-6-拼接字符串"><a href="#_2-6-拼接字符串" class="header-anchor">#</a> 2.6 拼接字符串</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">your_name</span><span class="token operator">=</span><span class="token string">"poetries"</span>
<span class="token assign-left variable">greeting</span><span class="token operator">=</span><span class="token string">"hello, "</span><span class="token variable">$your_name</span><span class="token string">" !"</span>
<span class="token assign-left variable">greeting_1</span><span class="token operator">=</span><span class="token string">"hello, <span class="token variable">${your_name}</span> !"</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$greeting</span> <span class="token variable">$greeting_1</span>
</code></pre></div><h3 id="_2-7-获取字符串长度"><a href="#_2-7-获取字符串长度" class="header-anchor">#</a> 2.7 获取字符串长度</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">author</span><span class="token operator">=</span><span class="token string">'poetries'</span>
<span class="token builtin class-name">echo</span> <span class="token string">"length:<span class="token variable">${<span class="token operator">#</span>author}</span>"</span> <span class="token comment"># length:8</span>
</code></pre></div><h3 id="_2-8-提取子字符串"><a href="#_2-8-提取子字符串" class="header-anchor">#</a> 2.8 提取子字符串</h3> <ul><li>以下实例从字符串第 <code>2</code> 个字符开始截取 <code>4</code> 个字符：</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">author</span><span class="token operator">=</span><span class="token string">'poetries'</span>
<span class="token builtin class-name">echo</span> <span class="token string">"提取字符串：<span class="token variable">${author<span class="token operator">:</span>1<span class="token operator">:</span>4}</span>"</span> <span class="token comment"># oetr</span>
</code></pre></div><h3 id="_2-9-shell-数组"><a href="#_2-9-shell-数组" class="header-anchor">#</a> 2.9 Shell 数组</h3> <ul><li><code>bash</code>支持一维数组（不支持多维数组），并且没有限定数组的大小</li> <li>类似与<code>C</code>语言，数组元素的下标由<code>0</code>开始编号。获取数组中的元素要利用下标，下标可以是整数或算术表达式，其值应大于或等于0</li></ul> <h3 id="_2-10-定义数组"><a href="#_2-10-定义数组" class="header-anchor">#</a> 2.10 定义数组</h3> <ul><li>在<code>Shell</code>中，用括号来表示数组，数组元素用"空格"符号分割开。定义数组的一般形式为：</li></ul> <div class="language- extra-class"><pre class="language-text"><code>数组名=(值1 值2 ... 值n)
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>array_name=(value0 value1 value2 value3)
</code></pre></div><p>或者</p> <div class="language- extra-class"><pre class="language-text"><code>array_name=(
value0
value1
value2
value3
)
</code></pre></div><p>还可以单独定义数组的各个分量</p> <div class="language- extra-class"><pre class="language-text"><code>array_name[0]=value0
array_name[1]=value1
array_name[n]=valuen
</code></pre></div><h3 id="_2-11-读取数组"><a href="#_2-11-读取数组" class="header-anchor">#</a> 2.11 读取数组</h3> <ul><li>读取数组元素值的一般格式是</li></ul> <div class="language- extra-class"><pre class="language-text"><code>${数组名[下标]}
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>valuen=${array_name[n]}
</code></pre></div><ul><li>使用<code>@</code>符号可以获取数组中的所有元素，例如</li></ul> <div class="language- extra-class"><pre class="language-text"><code>echo ${array_name[@]}
</code></pre></div><h3 id="_2-12-获取数组的长度"><a href="#_2-12-获取数组的长度" class="header-anchor">#</a> 2.12 获取数组的长度</h3> <ul><li>获取数组长度的方法与获取字符串长度的方法相同，例如</li></ul> <div class="language- extra-class"><pre class="language-text"><code># 取得数组元素的个数
length=${#array_name[@]}
# 或者
length=${#array_name[*]}
# 取得数组单个元素的长度
lengthn=${#array_name[n]}
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">like</span><span class="token operator">=</span><span class="token punctuation">(</span>
  <span class="token string">'running'</span>
  <span class="token string">'reading'</span>
  <span class="token string">'play'</span>
<span class="token punctuation">)</span>

<span class="token builtin class-name">echo</span> <span class="token string">"读取数组元素：<span class="token variable">${like<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>"</span> <span class="token comment"># @读取数组所有长度</span>
</code></pre></div><h3 id="_2-13-shell-注释"><a href="#_2-13-shell-注释" class="header-anchor">#</a> 2.13 Shell 注释</h3> <ul><li>以<code>"#"</code>开头的行就是注释，会被解释器忽略</li> <li><code>sh</code>里没有多行注释，只能每一行加一个#号。只能像这样</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment">#--------------------------------------------</span>
<span class="token comment"># 这是一个注释</span>
<span class="token comment"># author：poetry</span>
<span class="token comment"># site：www.poetries.top！</span>
<span class="token comment">#--------------------------------------------</span>
<span class="token comment">##### 用户配置区 开始 #####</span>
<span class="token comment">#</span>
<span class="token comment">#</span>
<span class="token comment"># 这里可以添加脚本描述信息</span>
<span class="token comment"># </span>
<span class="token comment">#</span>
<span class="token comment">##### 用户配置区 结束  #####</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 学习记录</span>

<span class="token comment">#!/bin/sh</span>

<span class="token builtin class-name">echo</span> <span class="token string">'====学习变量===='</span>
<span class="token assign-left variable">author</span><span class="token operator">=</span><span class="token string">'poetries'</span>
<span class="token assign-left variable">like</span><span class="token operator">=</span><span class="token punctuation">(</span>
  <span class="token string">'running'</span>
  <span class="token string">'reading'</span>
  <span class="token string">'playing'</span>
<span class="token punctuation">)</span>

<span class="token builtin class-name">echo</span> <span class="token string">"读取数组元素：<span class="token variable">${like<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>"</span> <span class="token comment"># @读取数组所有长度</span>
<span class="token builtin class-name">echo</span> <span class="token string">"提取字符串：<span class="token variable">${author<span class="token operator">:</span>1<span class="token operator">:</span>4}</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"字符串length:<span class="token variable">${<span class="token operator">#</span>author}</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"hello,I'm <span class="token variable">${author}</span>"</span>
</code></pre></div><h2 id="三、shell传递参数"><a href="#三、shell传递参数" class="header-anchor">#</a> 三、shell传递参数</h2> <ul><li>我们可以在执行 <code>Shell</code> 脚本时，向脚本传递参数，脚本内获取参数的格式为：<code>$n</code>。<code>n</code> 代表一个数字，<code>1</code> 为执行脚本的第一个参数，<code>2</code> 为执行脚本的第二个参数，以此类推</li> <li>以下实例我们向脚本传递三个参数，并分别输出，其中 <code>$0</code> 为执行的文件名</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># sh test.sh 1 2 3 4</span>

<span class="token comment">#!/bin/bash</span>
<span class="token comment"># author:poetries</span>
<span class="token comment"># url:blog.poetries.top</span>

<span class="token builtin class-name">echo</span> <span class="token string">"Shell 传递参数实例！"</span><span class="token punctuation">;</span>
<span class="token builtin class-name">echo</span> <span class="token string">"执行的文件名：<span class="token variable">$0</span>"</span><span class="token punctuation">;</span>
<span class="token builtin class-name">echo</span> <span class="token string">"第一个参数为：<span class="token variable">$1</span>"</span><span class="token punctuation">;</span>
<span class="token builtin class-name">echo</span> <span class="token string">"第二个参数为：<span class="token variable">$2</span>"</span><span class="token punctuation">;</span>
<span class="token builtin class-name">echo</span> <span class="token string">"第三个参数为：<span class="token variable">$3</span>"</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>为脚本设置可执行权限，并执行脚本，输出结果如下所示</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">chmod</span> +x test.sh 
$ ./test.sh <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span>
Shell 传递参数实例！
执行的文件名：./test.sh
第一个参数为：1
第二个参数为：2
第三个参数为：3
</code></pre></div><h2 id="四、数组"><a href="#四、数组" class="header-anchor">#</a> 四、数组</h2> <ul><li>数组中可以存放多个值。<code>Bash Shell</code> 只支持一维数组（不支持多维数组），初始化时不需要定义数组大小</li> <li>与大部分编程语言类似，数组元素的下标由<code>0</code>开始</li> <li><code>Shell</code> 数组用括号来表示，元素用"空格"符号分割开，语法格式如下</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># author:poetry</span>
<span class="token comment"># url:blog.poetries.top</span>

<span class="token assign-left variable">my_array</span><span class="token operator">=</span><span class="token punctuation">(</span>A B <span class="token string">"C"</span> D<span class="token punctuation">)</span>
</code></pre></div><ul><li>我们也可以使用下标来定义数组:</li></ul> <div class="language- extra-class"><pre class="language-text"><code>array_name[0]=value0
array_name[1]=value1
array_name[2]=value2
</code></pre></div><h3 id="_4-1-读取数组"><a href="#_4-1-读取数组" class="header-anchor">#</a> 4.1 读取数组</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token variable">${array_name<span class="token punctuation">[</span>index<span class="token punctuation">]</span>}</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># author:poetry</span>
<span class="token comment"># url:www.poetries.top</span>

<span class="token assign-left variable">my_array</span><span class="token operator">=</span><span class="token punctuation">(</span>A B <span class="token string">"C"</span> D<span class="token punctuation">)</span>

<span class="token builtin class-name">echo</span> <span class="token string">"第一个元素为: <span class="token variable">${my_array<span class="token punctuation">[</span>0<span class="token punctuation">]</span>}</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"第二个元素为: <span class="token variable">${my_array<span class="token punctuation">[</span>1<span class="token punctuation">]</span>}</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"第三个元素为: <span class="token variable">${my_array<span class="token punctuation">[</span>2<span class="token punctuation">]</span>}</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"第四个元素为: <span class="token variable">${my_array<span class="token punctuation">[</span>3<span class="token punctuation">]</span>}</span>"</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">chmod</span> +x test.sh 
$ ./test.sh
第一个元素为: A
第二个元素为: B
第三个元素为: C
第四个元素为: D
</code></pre></div><h3 id="_4-2-获取数组中的所有元素"><a href="#_4-2-获取数组中的所有元素" class="header-anchor">#</a> 4.2 获取数组中的所有元素</h3> <ul><li>使用<code>@</code> 或 <code>*</code> 可以获取数组中的所有元素，例如：</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># author:poetries</span>
<span class="token comment"># url:www.poetries.top</span>

my_array<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span>A
my_array<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>B
my_array<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">=</span>C
my_array<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">=</span>D

<span class="token builtin class-name">echo</span> <span class="token string">"数组的元素为: <span class="token variable">${my_array<span class="token punctuation">[</span>*<span class="token punctuation">]</span>}</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"数组的元素为: <span class="token variable">${my_array<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>"</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">chmod</span> +x test.sh 
$ ./test.sh
数组的元素为: A B C D
数组的元素为: A B C D
</code></pre></div><h3 id="_4-3-获取数组的长度"><a href="#_4-3-获取数组的长度" class="header-anchor">#</a> 4.3 获取数组的长度</h3> <ul><li>获取数组长度的方法与获取字符串长度的方法相同，例如</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># author:poetries</span>
<span class="token comment"># url:www.poetries.top</span>

my_array<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span>A
my_array<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>B
my_array<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">=</span>C
my_array<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">=</span>D

<span class="token builtin class-name">echo</span> <span class="token string">"数组元素个数为: <span class="token variable">${<span class="token operator">#</span>my_array<span class="token punctuation">[</span>*<span class="token punctuation">]</span>}</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"数组元素个数为: <span class="token variable">${<span class="token operator">#</span>my_array<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>"</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">chmod</span> +x test.sh 
$ ./test.sh
数组元素个数为: <span class="token number">4</span>
数组元素个数为: <span class="token number">4</span>
</code></pre></div><h2 id="五、基本运算符"><a href="#五、基本运算符" class="header-anchor">#</a> 五、基本运算符</h2> <ul><li>原生<code>bash</code>不支持简单的数学运算，但是可以通过其他命令来实现，例如 <code>awk</code> 和 <code>expr</code>，<code>expr</code> 最常用</li> <li><code>expr</code> 是一款表达式计算工具，使用它能完成表达式的求值操作</li> <li>例如，两个数相加(注意使用的是反引号 ` 而不是单引号 ')：</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token assign-left variable">val</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> <span class="token number">2</span> + <span class="token number">2</span><span class="token variable">`</span></span> <span class="token comment"># 注意 表达式和运算符之间要有空格</span>
<span class="token builtin class-name">echo</span> <span class="token string">"两数之和为 : <span class="token variable">$val</span>"</span>
</code></pre></div><ul><li>表达式和运算符之间要有空格，例如 <code>2+2</code> 是不对的，必须写成 <code>2 + 2</code>，这与我们熟悉的大多数编程语言不一样。</li> <li>完整的表达式要被 `` 包含，注意这个字符不是常用的单引号</li></ul> <h3 id="_5-1-算术运算符"><a href="#_5-1-算术运算符" class="header-anchor">#</a> 5.1 算术运算符</h3> <ul><li>下表列出了常用的算术运算符，假定变量 <code>a</code> 为 <code>10</code>，变量 <code>b</code> 为 <code>20</code>：</li></ul> <table><thead><tr><th>运算符</th> <th>说明</th> <th>举例</th></tr></thead> <tbody><tr><td><code>+</code></td> <td>加法</td> <td><code>expr $a + $b</code> 结果为 <code>30</code>。</td></tr> <tr><td><code>-</code></td> <td>减法</td> <td><code>expr $a - $b</code> 结果为 <code>-10</code>。</td></tr> <tr><td><code>*</code></td> <td>乘法</td> <td><code>expr $a \* $b</code> 结果为  <code>200</code>。</td></tr> <tr><td><code>/</code></td> <td>除法</td> <td><code>expr $b / $a</code> 结果为 <code>2</code>。</td></tr> <tr><td><code>%</code></td> <td>取余</td> <td><code>expr $b % $a</code> 结果为 <code>0</code>。</td></tr> <tr><td><code>=</code></td> <td>赋值</td> <td><code>a=$b</code> 将把变量 b 的值赋给 a。</td></tr> <tr><td><code>==</code></td> <td>相等。用于比较两个数字，相同则返回 <code>true</code>。</td> <td><code>[ $a == $b ]</code> 返回 <code>false</code>。</td></tr> <tr><td><code>!=</code></td> <td>不相等。用于比较两个数字，不相同则返回 <code>true</code>。</td> <td><code>[ $a != $b ]</code> 返回 <code>true</code>。</td></tr></tbody></table> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">'shell运算符学习===='</span>
<span class="token assign-left variable">value</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> <span class="token number">2</span> + <span class="token number">3</span><span class="token variable">`</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">"两数之和:<span class="token variable">${value}</span>"</span>
<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">10</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">20</span>
<span class="token assign-left variable">add</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $a + $b<span class="token variable">`</span></span>
<span class="token assign-left variable">reduce</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $a - $b<span class="token variable">`</span></span>
<span class="token assign-left variable">cheng</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $a <span class="token punctuation">\</span>* $b<span class="token variable">`</span></span>
<span class="token assign-left variable">chu</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $a / $b<span class="token variable">`</span></span>
<span class="token assign-left variable">quyu</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $a % $b<span class="token variable">`</span></span>

<span class="token builtin class-name">echo</span> <span class="token string">"+：<span class="token variable">${add}</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"-：<span class="token variable">${reduce}</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"*：<span class="token variable">${cheng}</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"/：<span class="token variable">${chu}</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"%：<span class="token variable">${quyu}</span>"</span>
</code></pre></div><ul><li>注意：条件表达式要放在方括号之间，并且要有空格，例如: <code>[$a==$b]</code> 是错误的，必须写成 <code>[ $a == $b ]</code></li></ul> <h3 id="_5-2-关系运算符"><a href="#_5-2-关系运算符" class="header-anchor">#</a> 5.2 关系运算符</h3> <ul><li>关系运算符只支持数字，不支持字符串，除非字符串的值是数字</li> <li>下表列出了常用的关系运算符，假定变量 <code>a</code> 为 <code>10</code>，变量 <code>b</code> 为 <code>20</code>：</li></ul> <table><thead><tr><th>运算符</th> <th>说明</th> <th>举例</th></tr></thead> <tbody><tr><td><code>-eq</code></td> <td>检测两个数是否相等，相等返回 <code>true</code></td> <td><code>[ $a -eq $b ]</code> 返回 <code>false</code></td></tr> <tr><td><code>-ne</code></td> <td>检测两个数是否相等，不相等返回 <code>true</code></td> <td><code>[ $a -ne $b ]</code> 返回 <code>true</code></td></tr> <tr><td><code>-gt</code></td> <td>检测左边的数是否大于右边的，如果是，则返回 <code>true</code></td> <td><code>[ $a -gt $b ]</code> 返回 <code>false</code></td></tr> <tr><td><code>-lt</code></td> <td>检测左边的数是否小于右边的，如果是，则返回 <code>true</code></td> <td><code>[ $a -lt $b ]</code> 返回 <code>true</code></td></tr> <tr><td><code>-ge</code></td> <td>检测左边的数是否大于等于右边的，如果是，则返回 <code>true</code></td> <td><code>[ $a -ge $b ]</code>返回 <code>false</code></td></tr> <tr><td><code>-le</code></td> <td>检测左边的数是否小于等于右边的，如果是，则返回 <code>true</code></td> <td><code>[ $a -le $b ]</code>返回 <code>true</code></td></tr></tbody></table> <h3 id="_5-3-布尔运算符"><a href="#_5-3-布尔运算符" class="header-anchor">#</a> 5.3 布尔运算符</h3> <ul><li>下表列出了常用的布尔运算符，假定变量 <code>a</code> 为 <code>10</code>，变量 <code>b</code> 为 <code>20</code>：</li></ul> <table><thead><tr><th>运算符</th> <th>说明</th> <th>举例</th></tr></thead> <tbody><tr><td><code>!</code></td> <td>非运算，表达式为 <code>true</code> 则返回 <code>false</code>，否则返回 <code>true</code>。</td> <td><code>[ ! false ]</code> 返回 <code>true</code></td></tr> <tr><td><code>-o</code></td> <td>或运算，有一个表达式为 <code>true</code>则返回 <code>true</code>。</td> <td><code>[ $a -lt 20 -o $b -gt 100 ]</code> 返回 <code>true</code></td></tr> <tr><td><code>-a</code></td> <td>与运算，两个表达式都为 <code>true</code> 才返回 <code>true</code>。</td> <td><code>[ $a -lt 20 -a $b -gt 100 ]</code>返回 <code>false</code></td></tr></tbody></table> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># author:author</span>
<span class="token comment"># url:blog.poetries.top</span>

<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">10</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">20</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token operator">!=</span> <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$a</span> != <span class="token variable">$b</span> : a 不等于 b"</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$a</span> != <span class="token variable">$b</span>: a 等于 b"</span>
<span class="token keyword">fi</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> -lt <span class="token number">100</span> -a <span class="token variable">$b</span> -gt <span class="token number">15</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$a</span> 小于 100 且 <span class="token variable">$b</span> 大于 15 : 返回 true"</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$a</span> 小于 100 且 <span class="token variable">$b</span> 大于 15 : 返回 false"</span>
<span class="token keyword">fi</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> -lt <span class="token number">100</span> -o <span class="token variable">$b</span> -gt <span class="token number">100</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$a</span> 小于 100 或 <span class="token variable">$b</span> 大于 100 : 返回 true"</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$a</span> 小于 100 或 <span class="token variable">$b</span> 大于 100 : 返回 false"</span>
<span class="token keyword">fi</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> -lt <span class="token number">5</span> -o <span class="token variable">$b</span> -gt <span class="token number">100</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$a</span> 小于 5 或 <span class="token variable">$b</span> 大于 100 : 返回 true"</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$a</span> 小于 5 或 <span class="token variable">$b</span> 大于 100 : 返回 false"</span>
<span class="token keyword">fi</span>
</code></pre></div><h3 id="_5-4-逻辑运算符"><a href="#_5-4-逻辑运算符" class="header-anchor">#</a> 5.4 逻辑运算符</h3> <ul><li>以下介绍 Shell 的逻辑运算符，假定变量 <code>a</code> 为 <code>10</code>，变量 <code>b</code>为 <code>20</code></li></ul> <table><thead><tr><th>运算符</th> <th>说明</th> <th>举例</th></tr></thead> <tbody><tr><td><code>&amp;&amp;</code></td> <td>逻辑的 <code>AND</code></td> <td><code>[[ $a -lt 100 &amp;&amp; $b -gt 100 ]]</code>返回 <code>false</code></td></tr> <tr><td><code>||</code></td> <td>逻辑的 <code>OR</code></td> <td><code>[[ $a -lt 100 || $b -gt 100 ]]</code> 返回 <code>true</code></td></tr></tbody></table> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">10</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">20</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">$a</span> -lt <span class="token number">100</span> <span class="token operator">&amp;&amp;</span> <span class="token variable">$b</span> -gt <span class="token number">100</span> <span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"返回 true"</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"返回 false"</span>
<span class="token keyword">fi</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">$a</span> -lt <span class="token number">100</span> <span class="token operator">||</span> <span class="token variable">$b</span> -gt <span class="token number">100</span> <span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"返回 true"</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"返回 false"</span>
<span class="token keyword">fi</span>
</code></pre></div><h3 id="_5-5-字符串运算符"><a href="#_5-5-字符串运算符" class="header-anchor">#</a> 5.5 字符串运算符</h3> <ul><li>下表列出了常用的字符串运算符，假定变量 <code>a</code> 为 <code>"abc"</code>，变量 <code>b</code> 为 <code>"efg"</code></li></ul> <table><thead><tr><th>运算符</th> <th>说明</th> <th>举例</th></tr></thead> <tbody><tr><td><code>=</code></td> <td>检测两个字符串是否相等，相等返回 <code>true</code></td> <td><code>[ $a = $b ]</code> 返回 <code>false</code>。</td></tr> <tr><td><code>!=</code></td> <td>检测两个字符串是否相等，不相等返回 <code>true</code>。</td> <td><code>[ $a != $b ]</code>返回 <code>true</code>。</td></tr> <tr><td><code>-z</code></td> <td>检测字符串长度是否为<code>0</code>，为<code>0</code>返回 <code>true</code>。</td> <td><code>[ -z $a ]</code>返回 <code>false</code></td></tr> <tr><td><code>-n</code></td> <td>检测字符串长度是否为<code>0</code>，不为<code>0</code>返回 <code>true</code>。</td> <td><code>[ -n $a ]</code> 返回 <code>true</code>。</td></tr> <tr><td><code>str</code></td> <td>检测字符串是否为空，不为空返回 <code>true</code>。</td> <td><code>[ $a ]</code> 返回 <code>true</code>。</td></tr></tbody></table> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token string">"abc"</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token string">"efg"</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token operator">=</span> <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$a</span> = <span class="token variable">$b</span> : a 等于 b"</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$a</span> = <span class="token variable">$b</span>: a 不等于 b"</span>
<span class="token keyword">fi</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token operator">!=</span> <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$a</span> != <span class="token variable">$b</span> : a 不等于 b"</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$a</span> != <span class="token variable">$b</span>: a 等于 b"</span>
<span class="token keyword">fi</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">if</span> <span class="token punctuation">[</span> -z <span class="token variable">$a</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"-z <span class="token variable">$a</span> : 字符串长度为 0"</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"-z <span class="token variable">$a</span> : 字符串长度不为 0"</span>
<span class="token keyword">fi</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">if</span> <span class="token punctuation">[</span> -n <span class="token variable">$a</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"-n <span class="token variable">$a</span> : 字符串长度不为 0"</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"-n <span class="token variable">$a</span> : 字符串长度为 0"</span>
<span class="token keyword">fi</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$a</span> : 字符串不为空"</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$a</span> : 字符串为空"</span>
<span class="token keyword">fi</span>
</code></pre></div><h3 id="_5-6-文件测试运算符"><a href="#_5-6-文件测试运算符" class="header-anchor">#</a> 5.6 文件测试运算符</h3> <ul><li>文件测试运算符用于检测 <code>Unix</code> 文件的各种属性</li></ul> <table><thead><tr><th>操作符</th> <th>说明</th> <th>举例</th></tr></thead> <tbody><tr><td><code>-b file</code></td> <td>检测文件是否是块设备文件，如果是，则返回 <code>true</code>。</td> <td><code>[ -b $file ]</code>返回 <code>false</code>。</td></tr> <tr><td><code>-c file</code></td> <td>检测文件是否是字符设备文件，如果是，则返回 <code>true</code>。</td> <td><code>[ -c $file ]</code>返回 <code>false</code>。</td></tr> <tr><td><code>-d file</code></td> <td>检测文件是否是目录，如果是，则返回 <code>true</code>。</td> <td><code>[ -d $file ]</code> 返回 <code>false</code>。</td></tr> <tr><td><code>-f file</code></td> <td>检测文件是否是普通文件（既不是目录，也不是设备文件），如果是，则返回 <code>true</code>。</td> <td><code>[ -f $file ]</code>返回 <code>true</code>。</td></tr> <tr><td><code>-g file</code></td> <td>检测文件是否设置了 <code>SGID</code>位，如果是，则返回 <code>true</code>。</td> <td><code>[ -g $file ]</code> 返回 <code>false</code>。</td></tr> <tr><td><code>-k file</code></td> <td>检测文件是否设置了粘着位(<code>Sticky Bit</code>)，如果是，则返回 <code>true</code>。</td> <td><code>[ -k $file ]</code> 返回 <code>false</code>。</td></tr> <tr><td><code>-p file</code></td> <td>检测文件是否是有名管道，如果是，则返回 <code>true</code>。</td> <td><code>[ -p $file ]</code> 返回 <code>false</code>。</td></tr> <tr><td><code>-u file</code></td> <td>检测文件是否设置了 <code>SUID</code> 位，如果是，则返回 <code>true</code>。</td> <td><code>[ -u $file ]</code> 返回 <code>false</code>。</td></tr> <tr><td><code>-r file</code></td> <td>检测文件是否可读，如果是，则返回 <code>true</code>。</td> <td><code>[ -r $file ]</code> 返回 <code>true</code>。</td></tr> <tr><td><code>-w file</code></td> <td>检测文件是否可写，如果是，则返回 <code>true</code>。</td> <td><code>[ -w $file ]</code> 返回 <code>true</code>。</td></tr> <tr><td><code>-x file</code></td> <td>检测文件是否可执行，如果是，则返回 <code>true</code>。</td> <td><code>[ -x $file ]</code> 返回 <code>true</code>。</td></tr> <tr><td><code>-s file</code></td> <td>检测文件是否为空（文件大小是否大于<code>0</code>），不为空返回 <code>true</code>。</td> <td><code>[ -s $file ]</code> 返回 <code>true</code>。</td></tr> <tr><td><code>-e file</code></td> <td>检测文件（包括目录）是否存在，如果是，则返回 <code>true</code>。</td> <td><code>[ -e $file ]</code> 返回 <code>true</code>。</td></tr></tbody></table> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token assign-left variable">file</span><span class="token operator">=</span><span class="token string">"/homee/shell/test1.sh"</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> -r <span class="token variable">$file</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"文件可读"</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"文件不可读"</span>
<span class="token keyword">fi</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">if</span> <span class="token punctuation">[</span> -w <span class="token variable">$file</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"文件可写"</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"文件不可写"</span>
<span class="token keyword">fi</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">if</span> <span class="token punctuation">[</span> -x <span class="token variable">$file</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"文件可执行"</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"文件不可执行"</span>
<span class="token keyword">fi</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">if</span> <span class="token punctuation">[</span> -f <span class="token variable">$file</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"文件为普通文件"</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"文件为特殊文件"</span>
<span class="token keyword">fi</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">if</span> <span class="token punctuation">[</span> -d <span class="token variable">$file</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"文件是个目录"</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"文件不是个目录"</span>
<span class="token keyword">fi</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">if</span> <span class="token punctuation">[</span> -s <span class="token variable">$file</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"文件不为空"</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"文件为空"</span>
<span class="token keyword">fi</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">if</span> <span class="token punctuation">[</span> -e <span class="token variable">$file</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"文件存在"</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"文件不存在"</span>
<span class="token keyword">fi</span>
</code></pre></div><h2 id="六、echo用法"><a href="#六、echo用法" class="header-anchor">#</a> 六、echo用法</h2> <ul><li><code>Shell</code> 的 <code>echo</code> 指令与 <code>PHP</code> 的 <code>echo</code> 指令类似，都是用于字符串的输出。命令格式</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> string
</code></pre></div><h3 id="_6-1-显示普通字符串"><a href="#_6-1-显示普通字符串" class="header-anchor">#</a> 6.1 显示普通字符串:</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">"It is a test"</span>
</code></pre></div><ul><li>这里的双引号完全可以省略，以下命令与上面实例效果一致</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> It is a <span class="token builtin class-name">test</span>
</code></pre></div><h3 id="_6-2-显示转义字符"><a href="#_6-2-显示转义字符" class="header-anchor">#</a> 6.2 显示转义字符</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">"<span class="token entity" title="\&quot;">\"</span>It is a test<span class="token entity" title="\&quot;">\"</span>"</span>
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>"It is a test"
</code></pre></div><h3 id="_6-3-显示变量"><a href="#_6-3-显示变量" class="header-anchor">#</a> 6.3 显示变量</h3> <ul><li><code>read</code> 命令从标准输入中读取一行,并把输入行的每个字段的值指定给 shell 变量</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/sh</span>

<span class="token builtin class-name">read</span> name 
<span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$name</span> It is a test"</span>
</code></pre></div><ul><li>以上代码保存为 <code>test.sh</code>，<code>name</code> 接收标准输入的变量，结果将是</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># sh test.sh</span>
poetry                     <span class="token comment">#标准输入</span>
poetry It is a <span class="token builtin class-name">test</span>        <span class="token comment">#输出</span>
</code></pre></div><h3 id="_6-4-显示换行"><a href="#_6-4-显示换行" class="header-anchor">#</a> 6.4 显示换行</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> -e <span class="token string">"OK! <span class="token entity" title="\n">\n</span>"</span> <span class="token comment"># -e 开启转义</span>
<span class="token builtin class-name">echo</span> <span class="token string">"It it a test"</span>
</code></pre></div><h3 id="_6-5-显示不换行"><a href="#_6-5-显示不换行" class="header-anchor">#</a> 6.5 显示不换行</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/sh</span>

<span class="token builtin class-name">echo</span> -e <span class="token string">"OK! <span class="token entity" title="\c">\c</span>"</span> <span class="token comment"># -e 开启转义 \c 不换行</span>
<span class="token builtin class-name">echo</span> <span class="token string">"It is a test"</span>
</code></pre></div><h3 id="_6-6-显示结果定向至文件"><a href="#_6-6-显示结果定向至文件" class="header-anchor">#</a> 6.6 显示结果定向至文件</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">"It is a test"</span> <span class="token operator">&gt;</span> myfile
</code></pre></div><h3 id="_6-7-显示命令执行结果"><a href="#_6-7-显示命令执行结果" class="header-anchor">#</a> 6.7 显示命令执行结果</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token variable"><span class="token variable">`</span><span class="token function">date</span><span class="token variable">`</span></span>
</code></pre></div><ul><li>注意： 这里使用的是反引号 `, 而不是单引号 '</li> <li>结果将显示当前日期</li></ul> <div class="language- extra-class"><pre class="language-text"><code>Thu Feb 22 14:34:57 GMT 2018
</code></pre></div><h2 id="七、printf用法"><a href="#七、printf用法" class="header-anchor">#</a> 七、printf用法</h2> <ul><li><code>printf</code> 命令模仿 <code>C</code> 程序库（<code>library</code>）里的 <code>printf()</code> 程序</li> <li><code>printf</code> 由 <code>POSIX</code> 标准所定义，因此使用 <code>printf</code> 的脚本比使用 <code>echo</code> 移植性好</li> <li>默认 <code>printf</code> 不会像 <code>echo</code>自动添加换行符，我们可以手动添加 <code>\n</code></li></ul> <p><strong>printf 命令的语法</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">printf</span>  format-string  <span class="token punctuation">[</span>arguments<span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre></div><ul><li><code>format-string</code>: 为格式控制字符串</li> <li><code>arguments</code>: 为参数列表</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token builtin class-name">echo</span> <span class="token string">"Hello, Shell"</span>
Hello, Shell

$ <span class="token builtin class-name">printf</span> <span class="token string">"Hello, Shell<span class="token entity" title="\n">\n</span>"</span>
Hello, Shell
$
</code></pre></div><ul><li>接下来,用一个脚本来体现<code>printf</code>的强大功能</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
 
<span class="token builtin class-name">printf</span> <span class="token string">"%-10s %-8s %-4s<span class="token entity" title="\n">\n</span>"</span> 姓名 性别 体重kg  
<span class="token builtin class-name">printf</span> <span class="token string">"%-10s %-8s %-4.2f<span class="token entity" title="\n">\n</span>"</span> 郭靖 男 <span class="token number">66.1234</span> 
<span class="token builtin class-name">printf</span> <span class="token string">"%-10s %-8s %-4.2f<span class="token entity" title="\n">\n</span>"</span> 杨过 男 <span class="token number">48.6543</span> 
<span class="token builtin class-name">printf</span> <span class="token string">"%-10s %-8s %-4.2f<span class="token entity" title="\n">\n</span>"</span> 郭芙 女 <span class="token number">47.9876</span> 
</code></pre></div><ul><li>执行脚本，输出结果如下所示</li></ul> <div class="language- extra-class"><pre class="language-text"><code>姓名     性别   体重kg
郭靖     男      66.12
杨过     男      48.65
郭芙     女      47.99
</code></pre></div><ul><li><code>%s</code> <code>%c</code> <code>%d</code> <code>%f</code>都是格式替代符</li> <li><code>%-10s</code> 指一个宽度为<code>10</code>个字符（<code>-</code>表示左对齐，没有则表示右对齐），任何字符都会被显示在<code>10</code>个字符宽的字符内，如果不足则自动以空格填充，超过也会将内容全部显示出来</li> <li><code>%-4.2f</code> 指格式化为小数，其中<code>.2</code>指保留<code>2</code>位小数</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
 
<span class="token comment"># format-string为双引号</span>
<span class="token builtin class-name">printf</span> <span class="token string">"%d %s<span class="token entity" title="\n">\n</span>"</span> <span class="token number">1</span> <span class="token string">"abc"</span>

<span class="token comment"># 单引号与双引号效果一样 </span>
<span class="token builtin class-name">printf</span> <span class="token string">'%d %s\n'</span> <span class="token number">1</span> <span class="token string">"abc"</span> 

<span class="token comment"># 没有引号也可以输出</span>
<span class="token builtin class-name">printf</span> %s abcdef

<span class="token comment"># 格式只指定了一个参数，但多出的参数仍然会按照该格式输出，format-string 被重用</span>
<span class="token builtin class-name">printf</span> %s abc def

<span class="token builtin class-name">printf</span> <span class="token string">"%s<span class="token entity" title="\n">\n</span>"</span> abc def

<span class="token builtin class-name">printf</span> <span class="token string">"%s %s %s<span class="token entity" title="\n">\n</span>"</span> a b c d e f g h i j

<span class="token comment"># 如果没有 arguments，那么 %s 用NULL代替，%d 用 0 代替</span>
<span class="token builtin class-name">printf</span> <span class="token string">"%s and %d <span class="token entity" title="\n">\n</span>"</span> 
</code></pre></div><p><strong>printf的转义序列</strong></p> <table><thead><tr><th>序列</th> <th>说明</th></tr></thead> <tbody><tr><td><code>\a</code></td> <td>警告字符，通常为<code>ASCII</code>的<code>BEL</code>字符</td></tr> <tr><td><code>\b</code></td> <td>后退</td></tr> <tr><td><code>\c</code></td> <td>抑制（不显示）输出结果中任何结尾的换行字符（只在<code>%b</code>格式指示符控制下的参数字符串中有效），而且，任何留在参数里的字符、任何接下来的参数以及任何留在格式字符串中的字符，都被忽略</td></tr> <tr><td><code>\f</code></td> <td>换页（formfeed）</td></tr> <tr><td><code>\n</code></td> <td>换行</td></tr> <tr><td><code>\r</code></td> <td>回车（Carriage return）</td></tr> <tr><td><code>\t</code></td> <td>水平制表符</td></tr> <tr><td><code>\v</code></td> <td>垂直制表符</td></tr> <tr><td><code>\\</code></td> <td>一个字面上的反斜杠字符</td></tr> <tr><td><code>\ddd</code></td> <td>表示1到3位数八进制值的字符。仅在格式字符串中有效</td></tr> <tr><td><code>\0ddd</code></td> <td>表示1到3位的八进制值字符</td></tr></tbody></table> <h2 id="八、test命令"><a href="#八、test命令" class="header-anchor">#</a> 八、test命令</h2> <ul><li><code>Shell</code>中的 <code>test</code> 命令用于检查某个条件是否成立，它可以进行数值、字符和文件三个方面的测试。</li></ul> <h3 id="_8-1-数值测试"><a href="#_8-1-数值测试" class="header-anchor">#</a> 8.1 数值测试</h3> <table><thead><tr><th>参数</th> <th>说明</th></tr></thead> <tbody><tr><td><code>-eq</code></td> <td>等于则为真</td></tr> <tr><td><code>-ne</code></td> <td>不等于则为真</td></tr> <tr><td><code>-gt</code></td> <td>大于则为真</td></tr> <tr><td><code>-ge</code></td> <td>大于等于则为真</td></tr> <tr><td><code>-lt</code></td> <td>小于则为真</td></tr> <tr><td><code>-le</code></td> <td>小于等于则为真</td></tr></tbody></table> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">num1</span><span class="token operator">=</span><span class="token number">100</span>
<span class="token assign-left variable">num2</span><span class="token operator">=</span><span class="token number">100</span>
<span class="token keyword">if</span> <span class="token builtin class-name">test</span> $<span class="token punctuation">[</span>num1<span class="token punctuation">]</span> -eq $<span class="token punctuation">[</span>num2<span class="token punctuation">]</span>
<span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> <span class="token string">'两个数相等！'</span>
<span class="token keyword">else</span>
    <span class="token builtin class-name">echo</span> <span class="token string">'两个数不相等！'</span>
<span class="token keyword">fi</span>
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>两个数相等！
</code></pre></div><ul><li>代码中的 <code>[]</code> 执行基本的算数运算</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">5</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">6</span>

<span class="token assign-left variable">result</span><span class="token operator">=</span>$<span class="token punctuation">[</span>a+b<span class="token punctuation">]</span> <span class="token comment"># 注意等号两边不能有空格</span>
<span class="token builtin class-name">echo</span> <span class="token string">"result 为： <span class="token variable">$result</span>"</span>
</code></pre></div><h3 id="_8-2-字符串测试"><a href="#_8-2-字符串测试" class="header-anchor">#</a> 8.2 字符串测试</h3> <table><thead><tr><th>参数</th> <th>说明</th></tr></thead> <tbody><tr><td><code>=|</code>	等于则为真</td> <td></td></tr> <tr><td><code>!=</code></td> <td>不相等则为真</td></tr> <tr><td><code>-z</code></td> <td>字符串</td></tr> <tr><td><code>-n</code></td> <td>字符串</td></tr></tbody></table> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">num1</span><span class="token operator">=</span><span class="token string">"poetries"</span>
<span class="token assign-left variable">num2</span><span class="token operator">=</span><span class="token string">"poetries1"</span>
<span class="token keyword">if</span> <span class="token builtin class-name">test</span> <span class="token variable">$num1</span> <span class="token operator">=</span> <span class="token variable">$num2</span>
<span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> <span class="token string">'两个字符串相等!'</span>
<span class="token keyword">else</span>
    <span class="token builtin class-name">echo</span> <span class="token string">'两个字符串不相等!'</span>
<span class="token keyword">fi</span>
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>两个字符串不相等!
</code></pre></div><h3 id="_8-3-文件测试"><a href="#_8-3-文件测试" class="header-anchor">#</a> 8.3 文件测试</h3> <table><thead><tr><th>参数</th> <th>说明</th></tr></thead> <tbody><tr><td><code>-e</code> 文件名</td> <td>如果文件存在则为真</td></tr> <tr><td><code>-r</code> 文件名</td> <td>如果文件存在且可读则为真</td></tr> <tr><td><code>-w</code>文件名</td> <td>如果文件存在且可写则为真</td></tr> <tr><td><code>-x</code> 文件名</td> <td>如果文件存在且可执行则为真</td></tr> <tr><td><code>-s</code> 文件名</td> <td>如果文件存在且至少有一个字符则为真</td></tr> <tr><td><code>-d</code> 文件名</td> <td>如果文件存在且为目录则为真</td></tr> <tr><td><code>-f</code> 文件名</td> <td>如果文件存在且为普通文件则为真</td></tr> <tr><td><code>-c</code> 文件名</td> <td>如果文件存在且为字符型特殊文件则为真</td></tr> <tr><td><code>-b</code> 文件名</td> <td>如果文件存在且为块特殊文件则为真</td></tr></tbody></table> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">file</span><span class="token operator">=</span>/home/shell/test.sh

<span class="token keyword">if</span> <span class="token builtin class-name">test</span> -e <span class="token variable">$file</span>
<span class="token keyword">then</span>
 <span class="token builtin class-name">echo</span> <span class="token string">'test.sh文件存在'</span>
<span class="token keyword">else</span>
 <span class="token builtin class-name">echo</span> <span class="token string">'test.sh不存在'</span>
<span class="token keyword">fi</span>
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>test.sh文件存在
</code></pre></div><ul><li>另外，<code>Shell</code>还提供了与( <code>-a</code> )、或( <code>-o</code> )、非( <code>!</code> )三个逻辑操作符用于将测试条件连接起来，其优先级为："<code>!</code>"最高，"<code>-a</code>"次之，"<code>-o</code>"最低。例如：</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">file</span><span class="token operator">=</span>/home/shell/test.sh
<span class="token assign-left variable">file1</span><span class="token operator">=</span>/home/poetry

<span class="token keyword">if</span> <span class="token builtin class-name">test</span> -d <span class="token variable">$file1</span> -o -e <span class="token variable">$file</span>
<span class="token keyword">then</span>
 <span class="token builtin class-name">echo</span> <span class="token string">'至少有一个文件存在'</span>
<span class="token keyword">else</span>
 <span class="token builtin class-name">echo</span> <span class="token string">'两个文件都不存在'</span>
<span class="token keyword">fi</span>
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>有一个文件存在!
</code></pre></div><h2 id="九、流程控制if-while-case"><a href="#九、流程控制if-while-case" class="header-anchor">#</a> 九、流程控制if/while/case</h2> <h3 id="_9-1-if"><a href="#_9-1-if" class="header-anchor">#</a> 9.1 if</h3> <ul><li><code>if</code> 语句语法格式</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">if</span> condition
<span class="token keyword">then</span>
    command1 
    command2
    <span class="token punctuation">..</span>.
    commandN 
<span class="token keyword">fi</span>
</code></pre></div><ul><li>写成一行（适用于终端命令提示符）</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">ps</span> -ef <span class="token operator">|</span> <span class="token function">grep</span> -c <span class="token string">"ssh"</span><span class="token variable">)</span></span> -gt <span class="token number">1</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span> <span class="token builtin class-name">echo</span> <span class="token string">"true"</span><span class="token punctuation">;</span> <span class="token keyword">fi</span>
</code></pre></div><h3 id="_9-2-if-else"><a href="#_9-2-if-else" class="header-anchor">#</a> 9.2 if else</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">if</span> condition
<span class="token keyword">then</span>
    command1 
    command2
    <span class="token punctuation">..</span>.
    commandN
<span class="token keyword">else</span>
    <span class="token builtin class-name">command</span>
<span class="token keyword">fi</span>
</code></pre></div><h3 id="_9-3-if-else-if-else"><a href="#_9-3-if-else-if-else" class="header-anchor">#</a> 9.3 if else-if else</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">if</span> condition1
<span class="token keyword">then</span>
    command1
<span class="token keyword">elif</span> condition2 
<span class="token keyword">then</span> 
    command2
<span class="token keyword">else</span>
    commandN
<span class="token keyword">fi</span>
</code></pre></div><ul><li>以下实例判断两个变量是否相等</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">10</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">20</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token operator">==</span> <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"a 等于 b"</span>
<span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> -gt <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"a 大于 b"</span>
<span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> -lt <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"a 小于 b"</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"没有符合的条件"</span>
<span class="token keyword">fi</span>
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>a 小于 b
</code></pre></div><ul><li><code>if else</code>语句经常与<code>test</code>命令结合使用，如下所示</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">num1</span><span class="token operator">=</span>$<span class="token punctuation">[</span><span class="token number">2</span>*3<span class="token punctuation">]</span>
<span class="token assign-left variable">num2</span><span class="token operator">=</span>$<span class="token punctuation">[</span><span class="token number">1</span>+5<span class="token punctuation">]</span>

<span class="token keyword">if</span> <span class="token builtin class-name">test</span> $<span class="token punctuation">[</span>num1<span class="token punctuation">]</span> -eq $<span class="token punctuation">[</span>num2<span class="token punctuation">]</span>
<span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> <span class="token string">'两个数字相等!'</span>
<span class="token keyword">else</span>
    <span class="token builtin class-name">echo</span> <span class="token string">'两个数字不相等!'</span>
<span class="token keyword">fi</span>
</code></pre></div><h3 id="_9-4-for-循环"><a href="#_9-4-for-循环" class="header-anchor">#</a> 9.4 for 循环</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">for</span> <span class="token for-or-select variable">var</span> <span class="token keyword">in</span> item1 item2 <span class="token punctuation">..</span>. itemN
<span class="token keyword">do</span>
    command1
    command2
    <span class="token punctuation">..</span>.
    commandN
<span class="token keyword">done</span>
</code></pre></div><ul><li>写成一行</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">for</span> <span class="token for-or-select variable">var</span> <span class="token keyword">in</span> item1 item2 <span class="token punctuation">..</span>. itemN<span class="token punctuation">;</span> <span class="token keyword">do</span> command1<span class="token punctuation">;</span> command2… <span class="token keyword">done</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>当变量值在列表里，<code>for</code>循环即执行一次所有命令，使用变量名获取列表中的当前取值。</li> <li>命令可为任何有效的<code>shell</code>命令和语句</li> <li><code>in</code>列表可以包含替换、字符串和文件名</li> <li><code>in</code>列表是可选的，如果不用它，<code>for</code>循环使用命令行的位置参数</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">for</span> <span class="token for-or-select variable">loop</span> <span class="token keyword">in</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span>
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"The value is: <span class="token variable">$loop</span>"</span>
<span class="token keyword">done</span>
</code></pre></div><p>输出</p> <div class="language-bash extra-class"><pre class="language-bash"><code>The value is: <span class="token number">1</span>
The value is: <span class="token number">2</span>
The value is: <span class="token number">3</span>
The value is: <span class="token number">4</span>
The value is: <span class="token number">5</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">for</span> <span class="token for-or-select variable">str</span> <span class="token keyword">in</span> <span class="token string">'This is a string'</span>
<span class="token keyword">do</span>
  <span class="token builtin class-name">echo</span> <span class="token variable">$str</span>
<span class="token keyword">done</span>
</code></pre></div><p>输出</p> <div class="language-bash extra-class"><pre class="language-bash"><code>This is a string
</code></pre></div><h3 id="_9-5-while-语句"><a href="#_9-5-while-语句" class="header-anchor">#</a> 9.5 while 语句</h3> <ul><li><code>while</code>循环用于不断执行一系列命令，也用于从输入文件中读取数据；命令通常为测试条件。其格式为</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">while</span> condition
<span class="token keyword">do</span>
    <span class="token builtin class-name">command</span>
<span class="token keyword">done</span>
</code></pre></div><ul><li>以下是一个基本的<code>while</code>循环，测试条件是：如果<code>int</code>小于等于<code>5</code>，那么条件返回真。<code>int</code>从<code>0</code>开始，每次循环处理时，<code>int</code>加<code>1</code>。运行上述脚本，返回数字<code>1</code>到<code>5</code>，然后终止</li> <li>使用中使用了 <code>Bash let</code> 命令，它用于执行一个或多个表达式，变量计算中不需要加上 <code>$</code> 来表示变量</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/sh</span>

<span class="token assign-left variable">int</span><span class="token operator">=</span><span class="token number">1</span>

<span class="token keyword">while</span><span class="token variable"><span class="token punctuation">((</span> $int<span class="token operator">&lt;=</span><span class="token number">5</span> <span class="token punctuation">))</span></span>
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token variable">$int</span>
    <span class="token builtin class-name">let</span> <span class="token string">"int++"</span>
<span class="token keyword">done</span>
</code></pre></div><h3 id="_9-6-until-循环"><a href="#_9-6-until-循环" class="header-anchor">#</a> 9.6 until 循环</h3> <ul><li><code>until</code>循环执行一系列命令直至条件为真时停止</li> <li><code>until</code>循环与<code>while</code>循环在处理方式上刚好相反</li> <li>一般<code>while</code>循环优于<code>until</code>循环，但在某些时候—也只是极少数情况下，<code>until</code>循环更加有用</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">until</span> condition
<span class="token keyword">do</span>
    <span class="token builtin class-name">command</span>
<span class="token keyword">done</span>
</code></pre></div><h3 id="_9-7-case"><a href="#_9-7-case" class="header-anchor">#</a> 9.7 case</h3> <ul><li><code>Shell case</code>语句为多选择语句。可以用<code>case</code>语句匹配一个值与一个模式，如果匹配成功，执行相匹配的命令。<code>case</code>语句格式如下：</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">case</span> 值 <span class="token keyword">in</span>
模式1<span class="token punctuation">)</span>
    command1
    command2
    <span class="token punctuation">..</span>.
    commandN
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
模式2）
    command1
    command2
    <span class="token punctuation">..</span>.
    commandN
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span>
</code></pre></div><ul><li><code>case</code>工作方式如上所示。取值后面必须为单词<code>in</code>，每一模式必须以右括号结束。取值可以为变量或常数。匹配发现取值符合某一模式后，其间所有命令开始执行直至</li> <li>取值将检测匹配的每一个模式。一旦模式匹配，则执行完匹配模式相应命令后不再继续其他模式。如果无一匹配模式，使用星号 <code>*</code> 捕获该值，再执行后面的命令</li> <li>下面的脚本提示输入<code>1</code>到<code>4</code>，与每一种模式进行匹配</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">'输入 1 到 4 之间的数字:'</span>
<span class="token builtin class-name">echo</span> <span class="token string">'你输入的数字为:'</span>
<span class="token builtin class-name">read</span> aNum
<span class="token keyword">case</span> <span class="token variable">$aNum</span> <span class="token keyword">in</span>
    <span class="token number">1</span><span class="token punctuation">)</span>  <span class="token builtin class-name">echo</span> <span class="token string">'你选择了 1'</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
    <span class="token number">2</span><span class="token punctuation">)</span>  <span class="token builtin class-name">echo</span> <span class="token string">'你选择了 2'</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
    <span class="token number">3</span><span class="token punctuation">)</span>  <span class="token builtin class-name">echo</span> <span class="token string">'你选择了 3'</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
    <span class="token number">4</span><span class="token punctuation">)</span>  <span class="token builtin class-name">echo</span> <span class="token string">'你选择了 4'</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
    *<span class="token punctuation">)</span>  <span class="token builtin class-name">echo</span> <span class="token string">'你没有输入 1 到 4 之间的数字'</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span>
</code></pre></div><h3 id="_9-8-跳出循环"><a href="#_9-8-跳出循环" class="header-anchor">#</a> 9.8 跳出循环</h3> <ul><li>在循环过程中，有时候需要在未达到循环结束条件时强制跳出循环，Shell使用两个命令来实现该功能：<code>break</code>和<code>continue</code></li></ul> <p><strong>break命令</strong></p> <ul><li><code>break</code>命令允许跳出所有循环（终止执行后面的所有循环）</li> <li>下面的例子中，脚本进入死循环直至用户输入数字大于5。要跳出这个循环，返回到<code>shell</code>提示符下，需要使用<code>break</code>命令</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token keyword">while</span> <span class="token builtin class-name">:</span>
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> -n <span class="token string">"输入 1 到 5 之间的数字:"</span>
    <span class="token builtin class-name">read</span> aNum
    <span class="token keyword">case</span> <span class="token variable">$aNum</span> <span class="token keyword">in</span>
        <span class="token number">1</span><span class="token operator">|</span><span class="token number">2</span><span class="token operator">|</span><span class="token number">3</span><span class="token operator">|</span><span class="token number">4</span><span class="token operator">|</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token string">"你输入的数字为 <span class="token variable">$aNum</span>!"</span>
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
        *<span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token string">"你输入的数字不是 1 到 5 之间的! 游戏结束"</span>
            <span class="token builtin class-name">break</span>
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
    <span class="token keyword">esac</span>
<span class="token keyword">done</span>
</code></pre></div><h3 id="_9-9-continue"><a href="#_9-9-continue" class="header-anchor">#</a> 9.9 continue</h3> <ul><li><code>continue</code>命令与<code>break</code>命令类似，只有一点差别，它不会跳出所有循环，仅仅跳出当前循环</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token keyword">while</span> <span class="token builtin class-name">:</span>
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> -n <span class="token string">"输入 1 到 5 之间的数字: "</span>
    <span class="token builtin class-name">read</span> aNum
    <span class="token keyword">case</span> <span class="token variable">$aNum</span> <span class="token keyword">in</span>
        <span class="token number">1</span><span class="token operator">|</span><span class="token number">2</span><span class="token operator">|</span><span class="token number">3</span><span class="token operator">|</span><span class="token number">4</span><span class="token operator">|</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token string">"你输入的数字为 <span class="token variable">$aNum</span>!"</span>
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
        *<span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token string">"你输入的数字不是 1 到 5 之间的!"</span>
            <span class="token builtin class-name">continue</span>
            <span class="token builtin class-name">echo</span> <span class="token string">"游戏结束"</span>
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
    <span class="token keyword">esac</span>
<span class="token keyword">done</span>
</code></pre></div><h2 id="十、函数"><a href="#十、函数" class="header-anchor">#</a> 十、函数</h2> <ul><li>linux shell 可以定义函数，然后在shell脚本中可以随便调用。</li> <li>shell中函数的定义格式如下</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">[</span> <span class="token keyword">function</span> <span class="token punctuation">]</span> funname <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

<span class="token punctuation">{</span>

    action<span class="token punctuation">;</span>

    <span class="token punctuation">[</span>return int<span class="token punctuation">;</span><span class="token punctuation">]</span>

<span class="token punctuation">}</span>
</code></pre></div><ul><li>可以带<code>function fun()</code> 定义，也可以直接<code>fun()</code> 定义,不带任何参数。</li> <li>参数返回，可以显示加：<code>return</code> 返回，如果不加，将以最后一条命令运行结果，作为返回值。 <code>return</code>后跟数值<code>n(0-255)</code></li></ul> <blockquote><p>下面的例子定义了一个函数并进行调用</p></blockquote> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token function-name function">demoFun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"这是我的第一个 shell 函数!"</span>
<span class="token punctuation">}</span>
<span class="token builtin class-name">echo</span> <span class="token string">"-----函数开始执行-----"</span>
demoFun
<span class="token builtin class-name">echo</span> <span class="token string">"-----函数执行完毕-----"</span>
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>-----函数开始执行-----
这是我的第一个 shell 函数!
-----函数执行完毕-----
</code></pre></div><ul><li>下面定义一个带有<code>return</code>语句的函数</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token function-name function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"这个函数会对输入的两个数字进行相加运算..."</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"输入第一个数字: "</span>
    <span class="token builtin class-name">read</span> aNum
    <span class="token builtin class-name">echo</span> <span class="token string">"输入第二个数字: "</span>
    <span class="token builtin class-name">read</span> anotherNum
    <span class="token builtin class-name">echo</span> <span class="token string">"两个数字分别为 <span class="token variable">$aNum</span> 和 <span class="token variable">$anotherNum</span> !"</span>
    <span class="token builtin class-name">return</span> <span class="token variable"><span class="token variable">$((</span>$aNum<span class="token operator">+</span>$anotherNum<span class="token variable">))</span></span>
<span class="token punctuation">}</span>
<span class="token assign-left variable">sum</span><span class="token operator">=</span>fun
<span class="token builtin class-name">echo</span> <span class="token string">"输入的两个数字之和为 <span class="token variable">${sum}</span>"</span>
</code></pre></div><ul><li>输出类似下面</li></ul> <div class="language- extra-class"><pre class="language-text"><code>这个函数会对输入的两个数字进行相加运算...
输入第一个数字: 
1
输入第二个数字: 
2
两个数字分别为 1 和 2 !
输入的两个数字之和为 3 !
</code></pre></div><ul><li>注意：<strong>所有函数在使用前必须定义</strong>。这意味着必须将函数放在脚本开始部分，直至shell解释器首次发现它时，才可以使用。调用函数仅使用其函数名即可。</li></ul> <p><strong>函数参数</strong></p> <ul><li>在Shell中，调用函数时可以向其传递参数。在函数体内部，通过 <code>$n</code> 的形式来获取参数的值，例如，<code>$1</code>表示第一个参数，<code>$2</code>表示第二个参数..</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token function-name function">funWithParam</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"第一个参数为 <span class="token variable">$1</span> !"</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"第二个参数为 <span class="token variable">$2</span> !"</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"第十个参数为 <span class="token variable">$10</span> !"</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"第十个参数为 <span class="token variable">${10}</span> !"</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"第十一个参数为 <span class="token variable">${11}</span> !"</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"参数总数有 <span class="token variable">$#</span> 个!"</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"作为一个字符串输出所有参数 <span class="token variable">$*</span> !"</span>
<span class="token punctuation">}</span>
funWithParam <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span> <span class="token number">6</span> <span class="token number">7</span> <span class="token number">8</span> <span class="token number">9</span> <span class="token number">34</span> <span class="token number">73</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code>第一个参数为 <span class="token number">1</span> <span class="token operator">!</span>
第二个参数为 <span class="token number">2</span> <span class="token operator">!</span>
第十个参数为 <span class="token number">10</span> <span class="token operator">!</span>
第十个参数为 <span class="token number">34</span> <span class="token operator">!</span>
第十一个参数为 <span class="token number">73</span> <span class="token operator">!</span>
参数总数有 <span class="token number">11</span> 个<span class="token operator">!</span>
作为一个字符串输出所有参数 <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span> <span class="token number">6</span> <span class="token number">7</span> <span class="token number">8</span> <span class="token number">9</span> <span class="token number">34</span> <span class="token number">73</span> <span class="token operator">!</span>
</code></pre></div></div> <!----> <div class="readMore-wrapper"><span class="readMore">阅读全文</span></div>
                    </div>
                            <p>这是一个信息提示框。</p>
                        </div>

                        <div class="note warning">
                            <div class="note-title"><i class="fas fa-exclamation-triangle"></i> 注意</div>
                            <p>这是一个警告提示框。</p>
                        </div>

                        <div class="note success">
                            <div class="note-title"><i class="fas fa-check-circle"></i> 成功</div>
                            <p>这是一个成功提示框。</p>
                        </div>

                        <h2>代码示例</h2>
                        <pre><code class="language-javascript">// 示例代码
function example() {
    console.log('Hello, FrontendHub!');
}
</code></pre>
                    </div>

                    <!-- 文章底部导航 -->
                    <nav class="article-nav">
                        <a href="#" class="prev-article">
                            <i class="fas fa-chevron-left"></i>
                            <span>上一篇</span>
                        </a>
                        <a href="#" class="next-article">
                            <span>下一篇</span>
                            <i class="fas fa-chevron-right"></i>
                        </a>
                    </nav>
                </article>
            </div>
        </div>
    </main>

    <!-- 页脚 -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4><i class="fas fa-code"></i> FrontendHub</h4>
                    <p>专注于前端技术学习与面试准备</p>
                </div>
                <div class="footer-section">
                    <h4>快速链接</h4>
                    <ul>
                        <li><a href="../../index.html">首页</a></li>
                        <li><a href="../index.html#courses">课程体系</a></li>
                        <li><a href="../index.html#resources">学习资源</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 FrontendHub. 用于个人学习使用.</p>
            </div>
        </div>
    </footer>

    <!-- 返回顶部按钮 -->
    <button class="back-to-top" id="backToTop">
        <i class="fas fa-arrow-up"></i>
    </button>

    <script src="../../js/main.js"></script>
    <script src="../../js/content.js"></script>
</body>
</html>

