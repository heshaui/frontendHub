<!-- Section: # 六、微信小程序相关 -->
<div class="section-content" data-section-id="六、微信小程序相关">
<h2 id="六、微信小程序相关"><a href="#六、微信小程序相关" class="header-anchor">#</a> 六、微信小程序相关</h2>
<h3 id="_1-微信小程序有几个文件"><a href="#_1-微信小程序有几个文件" class="header-anchor">#</a> 1 微信小程序有几个文件</h3>
<p>微信小程序主要包含以下几个文件：</p>
<ol><li><code>.wxml</code>（WeiXin Markup Language）：用于描述小程序的页面结构，类似于 HTML。在这个文件中，可以使用小程序提供的组件和自定义的组件，以及使用数据绑定和逻辑控制语句来构建页面的结构。</li> <li><code>.wxss</code>（WeiXin Style Sheets）：是一套样式语言，用于描述 <code>.wxml</code> 文件中组件的样式。类似于 CSS，可以设置元素的样式、布局、动画效果等。</li> <li><code>.js</code>：小程序的逻辑处理文件，包含了页面的逻辑代码。可以在这个文件中定义页面的事件处理函数、数据的处理和操作等。通过 JavaScript 的逻辑控制，可以实现小程序的交互功能。</li> <li><code>app.json</code>：小程序的全局配置文件，必须存在于小程序项目中。在这个文件中，可以进行页面的注册，设置小程序的窗口样式，配置底部导航栏（<code>tabBar</code>），以及设置网络请求等。</li> <li><code>app.js</code>：小程序的全局 JavaScript 文件，用于监听和处理小程序的生命周期函数、声明全局变量等。可以在这个文件中编写全局的逻辑代码。</li> <li><code>app.wxss</code>：小程序的全局样式文件，用于设置小程序全局的样式。可以在这个文件中定义小程序的全局样式，如页面的背景色、字体样式、导航栏样式等。</li></ol>
<p>以上是微信小程序中常见的文件类型，每个文件都有其特定的作用和功能，通过不同类型的文件协同工作，可以构建出完整的微信小程序应用。</p>
<h3 id="_2-微信小程序怎样跟事件传值"><a href="#_2-微信小程序怎样跟事件传值" class="header-anchor">#</a> 2 微信小程序怎样跟事件传值</h3>
<p>在微信小程序中，可以通过以下方式实现事件传值：</p>
<ol><li>使用 <code>data-*</code> 属性：给 HTML 元素添加自定义的 <code>data-*</code> 属性来传递需要的值。例如，可以在某个元素上添加 <code>data-id</code> 属性来传递对应的 ID 值。在事件处理函数中，可以通过 <code>event.currentTarget.dataset</code> 来获取这些属性值。</li></ol>
<div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>123<span class="token punctuation">"</span></span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handleTap<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>点击我<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre></div>
<div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">handleTap</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> id <span class="token operator">=</span> event<span class="token punctuation">.</span>currentTarget<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出：123</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div>
<ol start="2"><li>使用自定义属性：在小程序中可以给 HTML 元素添加自定义属性，然后在事件处理函数中通过 <code>event.currentTarget.dataset</code> 或 <code>event.currentTarget.id</code> 来获取这些属性值。</li></ol>
<div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>my-element<span class="token punctuation">"</span></span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>123<span class="token punctuation">"</span></span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handleTap<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>点击我<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre></div>
<div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">handleTap</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> id <span class="token operator">=</span> event<span class="token punctuation">.</span>currentTarget<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
    <span class="token keyword">const</span> elementId <span class="token operator">=</span> event<span class="token punctuation">.</span>currentTarget<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出：123</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>elementId<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出：my-element</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div>
<ol start="3"><li>使用 <code>event.detail</code>：对于一些特定的事件，例如表单的提交事件 <code>bindsubmit</code>，可以通过 <code>event.detail</code> 来获取额外的参数值。</li></ol>
<div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">bindsubmit</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handleSubmit<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>请输入用户名<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>请输入密码<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>提交<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre></div>
<div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">handleSubmit</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> username<span class="token punctuation">,</span> password <span class="token punctuation">}</span> <span class="token operator">=</span> event<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出：输入的用户名和密码</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div>
<p>通过以上方法，可以在微信小程序中实现事件传值，并在事件处理函数中获取传递的值，以实现更灵活的交互和数据处理。</p>
<h3 id="_3-小程序的-wxss-和-css-有哪些不一样的地方"><a href="#_3-小程序的-wxss-和-css-有哪些不一样的地方" class="header-anchor">#</a> 3 小程序的 wxss 和 css 有哪些不一样的地方？</h3>
<p>小程序的 WXSS（WeiXin Style Sheets）和 CSS（Cascading Style Sheets）在语法和功能上有一些不同之处：</p>
<ol><li>图片引入方式：在 WXSS 中，图片引入需要使用外链地址，即通过网络地址加载图片，而不能使用相对路径或本地文件路径。</li></ol>
<div class="language-css extra-class"><pre class="language-css"><code><span class="token comment">/* WXSS */</span>
<span class="token selector">.image</span> <span class="token punctuation">{</span>
  <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"https://example.com/image.jpg"</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
<ol start="2"><li>缺少 <code>body</code> 元素：小程序中没有 <code>body</code> 元素，样式可以直接写在页面的组件选择器上。</li></ol>
<div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- WXML --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Hello, Mini Program!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre></div>
<div class="language-css extra-class"><pre class="language-css"><code><span class="token comment">/* WXSS */</span>
<span class="token selector">.container</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #f5f5f5<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.text</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #333<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
<ol start="3"><li>样式导入方式：小程序中的样式文件可以使用 <code>@import</code> 导入其他样式文件。</li></ol>
<div class="language-css extra-class"><pre class="language-css"><code><span class="token comment">/* WXSS */</span>
<span class="token atrule"><span class="token rule">@import</span> <span class="token string">"common.wxss"</span><span class="token punctuation">;</span></span>

<span class="token selector">.container</span> <span class="token punctuation">{</span>
  <span class="token comment">/* styles */</span>
<span class="token punctuation">}</span>
</code></pre></div>
<ol start="4"><li>不支持部分 CSS 属性和选择器：小程序的 WXSS 并不完全支持所有的 CSS 属性和选择器，例如不支持浮动（<code>float</code>）和定位（<code>position</code>）属性，也不支持伪类选择器（<code>:hover</code>、<code>:before</code> 等）和部分伪元素选择器。</li></ol>
<div class="language-css extra-class"><pre class="language-css"><code><span class="token comment">/* WXSS */</span>
<span class="token selector">.container</span> <span class="token punctuation">{</span>
  <span class="token comment">/* 不支持的属性 */</span>
  <span class="token comment">/* 不支持的伪类选择器 */</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>需要注意的是，虽然 WXSS 和 CSS 在一些语法和功能上存在差异，但在基本的样式定义和样式属性上，它们仍然具有相似性，并可以使用类似的语法和规则进行样式的定义和控制。</p>
<h3 id="_4-小程序关联微信公众号如何确定用户的唯一性"><a href="#_4-小程序关联微信公众号如何确定用户的唯一性" class="header-anchor">#</a> 4 小程序关联微信公众号如何确定用户的唯一性</h3>
<p>在小程序中，如果要确定用户的唯一性并与微信公众号关联，可以使用以下步骤：</p>
<ol><li>在小程序中调用 <code>wx.login</code> 方法获取用户的临时登录凭证 <code>code</code>。</li> <li>将获取到的 <code>code</code> 发送到后端服务器。</li> <li>后端服务器通过 <code>code</code> 调用微信开放平台的接口，如 <code>https://api.weixin.qq.com/sns/jscode2session</code>，获取用户的 <code>openid</code> 和 <code>session_key</code>。</li> <li>后端服务器将 <code>openid</code> 返回给小程序前端，并存储在客户端。</li> <li>在小程序中调用 <code>wx.getUserInfo</code> 方法获取用户信息，包括 <code>encryptedData</code> 和 <code>iv</code>。</li> <li>将获取到的 <code>encryptedData</code> 和 <code>iv</code> 发送到后端服务器。</li> <li>后端服务器使用用户的 <code>session_key</code> 对 <code>encryptedData</code> 进行解密，获取用户的 <code>unionId</code>。</li> <li>将用户的 <code>unionId</code> 与用户的其他信息一起存储在后端服务器，用于唯一标识用户并与微信公众号关联。</li></ol>
<p><strong>需要注意的是，获取用户的 <code>unionId</code> 需要满足以下条件：</strong></p>
<ul><li>小程序需要通过微信开放平台的方式进行接入，而不是独立的小程序账号。</li> <li>小程序和微信公众号需要在同一个微信开放平台账号下，且已经完成了关联。</li> <li>用户在小程序和微信公众号之间需要存在关联关系，例如用户曾经在微信公众号中授权过。</li></ul>
<p>通过以上步骤，可以确定用户的唯一性并与微信公众号进行关联。后续的操作中，可以根据用户的 <code>unionId</code> 进行个性化的业务逻辑处理。</p>
<h3 id="_5-微信小程序与vue区别"><a href="#_5-微信小程序与vue区别" class="header-anchor">#</a> 5 微信小程序与vue区别</h3>
<p>微信小程序和Vue在一些方面确实存在一些差异，以下是它们之间的一些区别：</p>
<ol><li><strong>生命周期</strong>：微信小程序的生命周期相对简单，包括<code>onLoad</code>、<code>onShow</code>、<code>onReady</code>、<code>onHide</code>、<code>onUnload</code>等几个基本生命周期函数。而Vue拥有更为丰富的生命周期钩子函数，例如<code>created</code>、<code>mounted</code>、<code>updated</code>、<code>destroyed</code>等。</li> <li><strong>数据绑定语法</strong>：微信小程序使用<code>{{}}</code>来进行数据绑定，而Vue使用简洁的<code>v-bind</code>和<code>v-model</code>指令来实现数据绑定。</li> <li><strong>元素显示和隐藏</strong>：在微信小程序中，可以使用<code>wx-if</code>和<code>hidden</code>来控制元素的显示和隐藏；而在Vue中，可以使用<code>v-if</code>和<code>v-show</code>来实现相同的功能。</li> <li><strong>事件处理</strong>：微信小程序中使用<code>bindtap</code>或<code>catchtap</code>来绑定事件处理函数，而Vue使用v-on或@来绑定事件处理函数。</li> <li><strong>数据双向绑定</strong>：在Vue中，可以通过使用<code>v-model</code>指令实现表单元素与数据的双向绑定，而微信小程序需要手动获取表单元素的值并将其赋给对应的数据变量。</li></ol>
<p>除了上述的区别之外，微信小程序和Vue在一些基本概念和思想上也存在差异，例如组件化开发的方式、数据状态管理的实现方式等。然而，它们都可以用于构建具有交互性和可复用性的前端应用程序，并且都有着广泛的应用和社区支持。</p>
</div>